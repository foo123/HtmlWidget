/**
*  HtmlWidget
*  html widgets used as (template) plugins and/or standalone, for PHP, Node/XPCOM/JS, Python
*
*  @dependencies: FontAwesome, SelectorListener, jQuery
*  @version: 0.8.8
*  https://github.com/foo123/HtmlWidget
*  https://github.com/foo123/components.css
*  https://github.com/foo123/responsive.css
*  https://github.com/foo123/jquery-ui-widgets
*  https://github.com/foo123/modelview-widgets
*  https://github.com/foo123/SelectorListener
*
**/
!function(e,t,a){"use strict";"object"==typeof exports?module.exports=a():"function"==typeof define&&define.amd?define(function(){return a()}):e[t]=a()}(this,"htmlwidget",function(e){"use strict";function t(e,t){if("object"==typeof t){var a,n,i,l,o,s=0;for(a in t)t[g](a)&&(n=t[a],i=n.selector,l=[].concat(n.rules).join("; "),o=s++,"insertRule"in e.sheet?(e.sheet.insertRule(i+"{"+l+"}",o),n.css=e.sheet.cssRules[o]):"addRule"in e.sheet&&(e.sheet.addRule(i,l,o),n.css=e.sheet.rules[o]))}return t}function a(e,a,n){var i=e.createElement("style");return i.setAttribute("media",a||"all"),i.setAttribute("type","text/css"),i.appendChild(e.createTextNode("")),e.head.appendChild(i),n&&t(i,n),i}function n(e,t){t&&e.head.removeChild(t)}function l(e,t){var a,n,i,l,o,s,d,r;for("data:"===e.substr(0,5)?(-1<(r=e.indexOf(";base64,"))?(i=e.slice(5,r),e=e.slice(r+8),a=_(e)):(i=e.slice(5,r=e.indexOf(",")),e=e.slice(r+1),a=unescape(e)),null==t&&(t=i)):a=e,s=a.length,n=new Uint8Array(s),o=15&s,l=0;o>l;l++)n[l]=255&a.charCodeAt(l);for(l=o;s>l;l+=16)d=l,n[d]=255&a.charCodeAt(d++),n[d]=255&a.charCodeAt(d++),n[d]=255&a.charCodeAt(d++),n[d]=255&a.charCodeAt(d++),n[d]=255&a.charCodeAt(d++),n[d]=255&a.charCodeAt(d++),n[d]=255&a.charCodeAt(d++),n[d]=255&a.charCodeAt(d++),n[d]=255&a.charCodeAt(d++),n[d]=255&a.charCodeAt(d++),n[d]=255&a.charCodeAt(d++),n[d]=255&a.charCodeAt(d++),n[d]=255&a.charCodeAt(d++),n[d]=255&a.charCodeAt(d++),n[d]=255&a.charCodeAt(d++),n[d]=255&a.charCodeAt(d++);return new Blob([n],{type:t})}function o(e,t,a,n,i){if(a=a||{},!e||!t)return a;n=!0===n;var l;null!=i?l="-":(i=e.attributes,l="data-"+t+"-");for(var s,d,r,c=l.length,u=0,p=i.length;p>u;u++)s=i[u].name,s.length>c&&l===s.slice(0,c)&&(s=s.slice(c),n&&(s=s.toLowerCase().replace(C,function(e,t,a){return a.toUpperCase()})),-1<(r=s.indexOf("-"))?(d=s.slice(0,r),a[d]=o(e,t,a[d]||{},n,[{name:s.slice(r),value:i[u].value}])):a[s]=i[u].value);return a}function s(e,t,a,n,i){if(a=a||{},!e||!t)return a;n=!0===n,i||(i="data-"+t+"-");for(var l,o,d=Object.keys(e),r=0,c=d.length;c>r;r++)l=d[r],o=e[l],n&&(l=l.replace(k,function(e,t,a){return t+"_"+a.toLowerCase()})),"object"==typeof o?a=s(o,t,a,i+l+"-",n):a[i+l]=o;return a}function d(t,a,n){var i=n&&n[p]?n[p]:null;m.fn[t]=function(n){var l,o="string"==typeof n?n:!1,s=y.call(arguments,1),d=this;return o?this.each(function(){var a,n=m.data(this,t);return"widget"===o?(d=n,!1):"instance"===o?(d=n?n.instance||n:n,!1):n?"dispose"===o||"destroy"===o?("function"==typeof n.dispose?n.dispose():"function"==typeof n.destroy?n.destroy():i&&("function"==typeof i.dispose?i.dispose.call(n):"function"==typeof i.destroy&&i.destroy.call(n)),n=null,m.removeData(this,t),!1):(l=n[o]||i&&i[o],"function"!=typeof l?!1:(a=l.apply(n,s),a!==n&&e!==a?(d=a&&a.jquery?d.pushStack(a.get()):a,!1):void 0)):!1}):(n=n||{},this.each(function(){var e=m.data(this,t);e?(l=e.options||i&&i.options,"function"==typeof l&&l.call(e,n)):(m.data(this,t,e=new a(this,n)),l=e.init||i&&i.init,"function"==typeof l&&l.call(e))})),d}}function r(e,t,a){if("undefined"!=typeof google.maps.Geocoder){geocoder=new google.maps.Geocoder;var n=a?{location:e}:{address:e};geocoder.geocode(n,function(e,a){t(google.maps.GeocoderStatus.OK==a?{location:e[0].geometry.location,address:e[0].formatted_address,address_components:e[0].address_components,partial_match:e[0].partial_match}:null,a,e)})}else t(null)}function c(e,t,a,n,i,l){var o,s,d={map:e,title:n,position:new google.maps.LatLng(t,a)};return o=new google.maps.Marker(d),i&&(s=new google.maps.InfoWindow({content:i}),google.maps.event.addListener(o,"click",function(){s.open(e,o)})),l.address&&r(l.address,function(e){e&&o.setPosition(e.location)}),o}function u(e,t){var a=!1,n=!0,i=e.document,l=i.documentElement,o=i.addEventListener,s=o?"addEventListener":"attachEvent",d=o?"removeEventListener":"detachEvent",r=o?"":"on",c=function(n){("readystatechange"!=n.type||"complete"==i.readyState)&&(("load"==n.type?e:i)[d](r+n.type,c,!1),!a&&(a=!0)&&t.call(e,n.type||n))},u=function(){try{l.doScroll("left")}catch(e){return void setTimeout(u,50)}c("poll")};if("complete"==i.readyState)t.call(e,"lazy");else{if(!o&&l.doScroll){try{n=!e.frameElement}catch(p){}n&&u()}i[s](r+"DOMContentLoaded",c,!1),i[s](r+"readystatechange",c,!1),e[s](r+"load",c,!1)}}if("object"==typeof jQuery.htmlwidget)return jQuery.htmlwidget;var p="prototype",m=jQuery,f={VERSION:"0.8.8",widget:{},locale:{},_handle:{}},g="hasOwnProperty",h="getAttribute",w="hasAttribute",b="removeAttribute",y=Array[p].slice,v=(Object[p].toString,JSON.parse),_=(JSON.stringify,atob),C=/(_)([a-z])/g,k=/([a-z])([A-Z])/g,x=function(e){return parseInt(e||0,10)||0},T=function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&"FormData"in window&&"FileReader"in window}();f.dataOptions=o,f.optionsData=s,f.make=d,f.dispatch=function(e,t,a,n){var i;!1===n?(i=m.Event(e),null!=a&&(i.data=a),m(t).trigger(i)):document.createEvent?(i=document.createEvent("HTMLEvents"),i.initEvent(e,!0,!0),i.eventName=e,null!=a&&(i.data=a),t.dispatchEvent(i)):(i=document.createEventObject(),i.eventType=e,i.eventName=e,null!=a&&(i.data=a),t.fireEvent("on"+i.eventType,i))},f.resetFormElements=function(e){if(e.length){var t,a=m('<form style="display:none"></form>').appendTo("body");t=0,m(e).each(function(){var e="__ele_reset_proxy__"+ ++t;m(this).val("").replaceWith('<span id="'+e+'"></span>'),a.append(this)}),a.trigger("reset"),t=0,m(e).each(function(){var e="#__ele_reset_proxy__"+ ++t;m(e).replaceWith(this),m(this).triggerNative("reset")}),a.remove()}return e},m.fn.triggerNative=function(e,t){return this.each(function(){f.dispatch(e,this,t)}),this},m.fn.resetElement=function(){return f.resetFormElements(this),this},d("selectable",f.selectable=function D(e,t){var a=this;return a instanceof D?(a.init=function(){var n=m(e),i=e[h]("data-selectable-handle")||t.handle||".w-selectable-handle",l=t.selector||t.item;n.hasClass("w-selectable")||n.addClass("w-selectable"),n.on("click.selectable change.selectable",i,function(e){var t=this,n=m(this),i=(t.type||"").toLowerCase();"checkbox"===i||"radio"===i?(l&&(n=n.closest(l)),t.checked?(n.addClass("w-selected"),n.triggerNative("selected")):(n.removeClass("w-selected"),n.triggerNative("deselected"))):"click"===e.type&&(e.shiftKey||a.clear(),l&&(n=n.closest(l)),n.hasClass("w-selected")?(n.removeClass("w-selected"),n.triggerNative("deselected")):(n.addClass("w-selected"),n.triggerNative("selected")))})},a.selected=function(){return m(e).find(".w-selected")},a.clear=function(){m(e).find(".w-selected").removeClass("w-selected")},void(a.dispose=function(){m(e).off(".selectable")})):new D(e,t)}),d("removable",f.removable=function L(e,t){var a=this;return a instanceof L?(a.init=function(){var a=m(e),n=e[h]("data-removable-handle")||t.handle||".w-removable-handle",i=e[h]("data-removable-item")||t.selector||t.item,l=parseInt(e[h]("data-removable-animation")||t.animation||400,10);a.hasClass("w-removable")||a.addClass("w-removable"),a.on("click.removable",n,function(){var e=m(this);i&&(e=e.closest(i)),e.fadeOut(l,function(){e.triggerNative("removed"),e.remove()})})},void(a.dispose=function(){m(e).off(".removable")})):new L(e,t)}),d("morphable",f.morphable=function O(e,t){var l=this;if(!(l instanceof O))return new O(e,t);var o=null,s=null,d=null;l.create=function(){var n,l,o,r=m(e),c={},u=r.attr("data-morphable-modes")?r.attr("data-morphable-modes").split(","):[].concat(t.modes||[]),p=r.attr("data-morphable-show")||t.showClass,f=r.attr("data-morphable-hide")||t.hideClass,g=r.attr("data-morphable-mode")||t.modeClass;for(r.addClass("w-morphable"),o="#"+r.attr("id")+".w-morphable",n=[],l=[],i=0;i<u.length;i++)if(f&&n.push(o+"."+g.split("${MODE}").join(u[i])+" ."+f.split("${MODE}").join(u[i])),p&&l.push(o+"."+g.split("${MODE}").join(u[i])+" ."+p.split("${MODE}").join(u[i])),p||f)for(j=0;j<u.length;j++)j!==i&&(p&&n.push(o+"."+g.split("${MODE}").join(u[i])+" ."+p.split("${MODE}").join(u[j])+":not(."+p.split("${MODE}").join(u[i])+")"),f&&l.push(o+"."+g.split("${MODE}").join(u[i])+" ."+f.split("${MODE}").join(u[j])+":not(."+f.split("${MODE}").join(u[i])+")"));n.length&&(c.hide_mode={selector:n.join(","),rules:["display: none !important"]}),l.length&&(c.show_mode={selector:l.join(","),rules:["display: block"]}),s=a(document,"all",d=c)},l.init=function(){m(e).hasClass("w-morphable")||l.create()},l.morph=function(a){if(a!=o){var n=m(e),i=e[h]("data-morphable-mode")||t.modeClass;o&&n.removeClass(i.split("${MODE}").join(o)),o=a,o&&n.addClass(i.split("${MODE}").join(o))}},l.mode=function(){return o},l.dispose=function(){m(e).removeClass("w-morphable"),d=null,s&&n(document,s),s=null}}),d("delayable",f.delayable=function S(e,t){var a=this;return a instanceof S?(a.init=function(){var t=m(e);t.hasClass("w-delayed")||t.addClass("w-undelayed"),t.children(".w-delayable-overlay").length||t.append('<div class="w-delayable-overlay"><div class="w-spinner w-spinner-dots"></div></div>')},a.enable=function(){var t=m(e);t.hasClass("w-delayed")||t.addClass("w-delayed").removeClass("w-undelayed")},void(a.disable=function(){var t=m(e);t.hasClass("w-delayed")&&t.addClass("w-undelayed").removeClass("w-delayed")})):new S(e,t)}),d("disabable",f.disabable=function N(e,t){var a=this;return a instanceof N?(a.init=function(){var t=m(e);t.hasClass("w-disabled")||t.addClass("w-undisabled"),t.children(".w-disabable-overlay").length||t.append('<div class="w-disabable-overlay"></div>')},a.enable=function(){var t=m(e);t.hasClass("w-disabled")||t.addClass("w-disabled").removeClass("w-undisabled")},void(a.disable=function(){var t=m(e);t.hasClass("w-disabled")&&t.addClass("w-undisabled").removeClass("w-disabled")})):new N(e,t)}),d("sortable",f.sortable=function z(e,t){var a=this;return a instanceof z?(a.instance=null,a.init=function(){"function"==typeof Sortable&&(a.instance=Sortable.create(e,{sort:!0,disabled:!1,delay:parseInt(e[h]("data-sortable-delay")||t.delay||0,10),animation:parseInt(e[h]("data-sortable-animation")||t.animation||400,10),draggable:e[h]("data-sortable-item")||t.draggable||t.item||".w-sortable-item",handle:e[h]("data-sortable-handle")||t.handle||".w-sortable-handle"}))},void(a.dispose=function(){a.instance=null})):new z(e,t)}),d("template",f.template=function I(e,t){var a=this;return a instanceof I?(a.instance=null,a.init=function(){"function"==typeof Tao&&(a.instance=Tao(e,e[w]("data-tpl-key")?new RegExp(e[h]("data-tpl-key")):t.key||I.key,!(!e[h]("data-tpl-revivable")&&!t.revivable),e[h]("data-tpl-keyseparator")||t.keySeparator))},a.render=function(t,n){a.instance&&(a.instance(t),!0===n&&m(e).triggerNative("render"))},void(a.dispose=function(){a.instance&&a.instance.dispose(),a.instance=null})):new I(e,t)}),f.template.key=/\$\(([^\(\)]+)\)/,f.Tpl=f.Template=function P(e,t,a,n){return"function"==typeof Tao?Tao(e,t||P.key,a,n):void 0},f.Template.key=/\$\(([^\(\)]+)\)/g,d("suggest",f.suggest=function $(e,t){var a=this;return a instanceof $?(a.instance=null,a.init=function(){if("function"==typeof AutoComplete){var n=e[h]("data-suggest-ajax")||t.ajax||e[h]("data-ajax")||null,i=e[h]("data-suggest-data")||t.dataType||"json",l=e[h]("data-suggest-method")||t.method||"GET",o=e[h]("data-suggest-q")||e[h]("data-suggest-param")||t.q||t.param||"suggest",s=null;a.instance=new AutoComplete(e,{minChars:e[h]("data-suggest-min")||t.minChars||3,key:e[h]("data-suggest-key")||t.key||null,value:e[h]("data-suggest-value")||t.value||null,delay:e[h]("data-suggest-delay")||t.delay||150,cache:e[h]("data-suggest-cache")||3e5,noItems:e[h]("data-suggest-noitems")||t.noItems||"No Matches for <strong>{{term}}</strong>",menuClass:e[h]("data-suggest-class")||t.menuClass||"w-suggestions",source:function(t,a){var d=m(e),r=d.closest(".w-wrapper"),c={method:l,dataType:i,ajax:n,suggest:{}};if(c.suggest[o]=t,d.triggerNative("suggest",c),c.suggestions||c.list)a(c.suggestions||c.list);else if(c.ajax){r.addClass("__ajax__");try{s&&s.abort()}catch(u){}s=m.ajax({url:c.ajax,type:c.method,method:c.method,dataType:c.dataType,data:c.suggest,success:function(e){r.removeClass("__ajax__"),a(e)},error:function(){r.removeClass("__ajax__"),a([])}})}else a([])},onSelect:function(t,a,n,i,l,o){m(e).triggerNative("suggest-select",{q:a,item:n,key:l,value:o}).triggerNative("change")}})}},a.suggestions=function(e){a.instance&&(a.instance.suggestions=e)},void(a.dispose=function(){a.instance&&a.instance.dispose(),a.instance=null})):new $(e,t)}),d("dnd_uploadable",f.dnd_uploadable=function F(e,t){var a=this;return a instanceof F?(a.dispose=function(){var t=m(e);t.off(".dnd_uploadable"),t=null},void(a.init=function(){var a=m(e),n="undefined"!=typeof isMobile?isMobile.any:!1,i=a.find("input._w-dnd-uploader[type=file]"),o=!n&&a.hasClass("__with_thumbnail__"),s=!n&&(o||a.hasClass("__with_preview__")),d=x(i[0][w]("data-dnd-upload-filesize")?i[0][h]("data-dnd-upload-filesize"):t.filesize||1048576)||1048576,r=i[0][w]("data-dnd-upload-mimetype")?i[0][h]("data-dnd-upload-mimetype"):t.mimetype||null,c=x(i[0][w]("data-dnd-upload-preview")?i[0][h]("data-dnd-upload-preview"):t.preview||140)||140,u=function(e){var t=a.find("input._w-dnd-uploader[type=file]");t[0].files_dropped=null,t.resetElement(),!1!==e&&t.triggerNative("change")};r=r&&"string"==typeof r?new RegExp(".?("+r.replace(/\s/g,"").replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").split("/*").join("/.*")+")$","i"):null,a.addClass("__empty__"),a.on("click.dnd_uploadable",".w-dnd-upload-delete",function(){return u(),setTimeout(function(){a.find(".w-dnd-upload-upload,.w-dnd-upload-delete").blur()},40),!1}).on("reset.dnd_uploadable","input._w-dnd-uploader[type=file]",function(e){var t=e.target;t.files_dropped=null,a.addClass("__empty__").find(".w-dnd-upload-preview,.w-dnd-upload-thumbnail").remove(),setTimeout(function(){a.find(".w-dnd-upload-upload,.w-dnd-upload-delete").blur(),m(t).triggerNative("change")},40)}).on("change.dnd_uploadable","input._w-dnd-uploader[type=file]",function(e){var t,n,i,p=e.target,f=p.files_dropped&&p.files_dropped.length?p.files_dropped:p.files&&p.files.length?p.files:null;if(setTimeout(function(){a.find(".w-dnd-upload-upload,.w-dnd-upload-delete").blur()},40),f&&f.length){for(a.removeClass("__empty__").find(".w-dnd-upload-preview,.w-dnd-upload-thumbnail").remove(),t=0,n=f.length;n>t;t++)if(d>0&&f[t].size>d||r&&!r.test(f[t].type))return void setTimeout(u,10);for(t=0,n=f.length;n>t;t++)(s||o)&&f[t].type.match("image")?!function(e,t){var n=new FileReader;n.addEventListener("load",function(n){var i=n.target.result,d=new Image;d.addEventListener("load",function(){setTimeout(function(){var n,r,u,f,g,h,w=d.width,b=d.height,y=e.name+" ("+e.type+")";if(c>=w?(r=c,n=Math.round(c*w/b)):(n=c,r=Math.round(c*b/w)),u=document.createElement("canvas"),f=u.getContext("2d"),u.width=n,u.height=r,f.drawImage(d,0,0,w,b,0,0,n,r),g=u.toDataURL("image/png"),s&&a.prepend('<img src="'+g+'" data-src-full="'+i+"\" class=\"w-dnd-upload-preview\" onclick=\"window.open(this.getAttribute('data-src-full'),'preview','scrollbars=yes,resizable=yes,width=600,height=400').focus();\" alt=\""+y+'" title="'+y+'" />'),o){if(h='<input type="file" data-alt-value="blob_attached" class="w-dnd-upload-thumbnail" style="display:none !important;"',p.name){var v=p.name.match(/(.*?)(\[([^\[\]]+)\])?(\[\s*\])?$/);h+=v[2]?' name="'+(v[1]+"["+v[3]+"_thumbnail]"+(v[4]?"["+t+"]":""))+'"':' name="'+(v[1]+"_thumbnail"+(v[4]?"["+t+"]":""))+'"'}h+=" />",a.append(h=m(h)),h[0].blob_attached=[l(g)]}},10)}),d.src=i}),n.readAsDataURL(e)}(f[t],t):(i=f[t].name+" ("+f[t].type+")",a.prepend('<span class="w-dnd-upload-preview" title="'+i+'">'+i+"</span>"))}else a.addClass("__empty__").find(".w-dnd-upload-preview,.w-dnd-upload-thumbnail").remove()}),T&&a.addClass("__dnd-upload__").on("drag.dnd_uploadable dragstart.dnd_uploadable dragend.dnd_uploadable dragover.dnd_uploadable dragenter.dnd_uploadable dragleave.dnd_uploadable drop.dnd_uploadable",function(e){e.preventDefault(),e.stopPropagation();var t=" "+e.type.toLowerCase()+" ";if(-1<" dragover dragenter ".indexOf(t)?a.addClass("__dragover__"):-1<" dragleave dragend drop ".indexOf(t)&&a.removeClass("__dragover__")," drop "===t){var n=e.originalEvent.dataTransfer.files,i=a.find("input._w-dnd-uploader[type=file]");n.length&&(i[0].files_dropped=n),i.triggerNative("change")}})})):new F(e,t)}),d("datetimepicker",f.datetimepicker=function R(e,t){var a=this;return a instanceof R?(a.instance=null,a.init=function(){if("function"==typeof Pikadaytime){var n=e[h]("data-datepicker-format")||t.format||"Y-m-d H:i:s",i=(e[h]("data-datepicker-time")||"").toLowerCase(),l=(e[h]("data-datepicker-seconds")||"").toLowerCase(),o={field:e,showTime:i?"1"===i||"true"===i||"on"===i||"yes"===i:!!t.showTime,showSeconds:l?!("0"===l||"false"===l||"off"===l||"no"===l):!1!==t.showSeconds,encoder:R.encoder(n),decoder:R.decoder(n)};t.i18n&&(o.i18n=t.i18n),a.instance=new Pikadaytime(o)}},void(a.dispose=function(){a.instance&&a.instance.dispose(),a.instance=null})):new R(e,t)}),f.datetimepicker.encoder=function(e,t){return"function"==typeof DateX?(t=t||f.locale.DateX||DateX.defaultLocale,function(a){return DateX.format(a,e,t)}):function(e,t){return t._o.showTime?e.toString():e.toDateString()}},f.datetimepicker.decoder=function(e,t){if("function"==typeof DateX){t=t||f.locale.DateX||DateX.defaultLocale;var a=DateX.getParser(e,t);return function(e){return!!e&&a(e)}}return function(e){return new Date(Date.parse(e))}},d("colorpicker",f.colorpicker=function W(e,t){var a=this;return a instanceof W?(a.instance=null,a.init=function(){"function"==typeof ColorPicker&&(a.instance=new ColorPicker(e,{changeEvent:e[h]("data-colorpicker-change")||t.changeEvent||"change",input:e[w]("data-colorpicker-input")?m(e[h]("data-colorpicker-input"))[0]:t.input?m(t.input)[0]:null,format:e[h]("data-colorpicker-format")||t.format||"rgba",color:e[h]("data-colorpicker-color")||t.color,opacity:e[h]("data-colorpicker-opacity")||t.opacity}))},a.value=a.color=function(e,t){return a.instance?arguments.length?void a.instance.setColor(e,t):a.instance.getColor():void 0},void(a.dispose=function(){a.instance&&a.instance.dispose(),a.instance=null})):new W(e,t)}),d("areaselect",f.areaselect=function X(e,t){var a=this;return a instanceof X?(a.instance=null,a.init=function(){if("function"==typeof AreaSelect){var n=e[w]("data-areaselect-borders")?e[h]("data-areaselect-borders").toLowerCase():null;a.instance=new AreaSelect(e,{className:e[w]("data-areaselect-class")?e[h]("data-areaselect-class"):t.className||null,minWidth:e[w]("data-areaselect-min-width")?e[h]("data-areaselect-min-width"):t.minWidth||null,maxWidth:e[w]("data-areaselect-max-width")?e[h]("data-areaselect-max-width"):t.maxWidth||null,minHeight:e[w]("data-areaselect-min-height")?e[h]("data-areaselect-min-height"):t.minHeight||null,maxHeight:e[w]("data-areaselect-max-height")?e[h]("data-areaselect-max-height"):t.maxHeight||null,ratioXY:e[w]("data-areaselect-ratio-xy")?e[h]("data-areaselect-ratio-xy"):t.ratioXY||null,ratioYX:e[w]("data-areaselect-ratio-yx")?e[h]("data-areaselect-ratio-yx"):t.ratioYX||null,withBorders:n?"1"===n||"yes"===n||"true"===n||"on"===n:t.withBorders,onSelect:function(a,n){t.onSelect&&t.onSelect.call(this,a,n),m(e).triggerNative("areaselect",{selection:n})}})}},a.select=function(e){a.instance&&a.instance.select(e)},a.selection=function(){return a.instance?a.instance.getSelection():null},a.show=function(){a.instance&&a.instance.show()},a.hide=function(){a.instance&&a.instance.hide()},void(a.dispose=function(){a.instance&&a.instance.dispose(),a.instance=null})):new X(e,t)}),d("gmap3",f.gmap3=function q(e,t){function a(){n&&google.maps.event.addListenerOnce(n,"idle",function(){google.maps.event.trigger(n,"resize"),n.setCenter(new google.maps.LatLng(i,l)),o&&o.setPosition(new google.maps.LatLng(i,l))})}var n,i,l,o,s,d=this;return d instanceof q?(n=null,t=m.extend({type:"ROADMAP",markers:null,center:null,address:null,kml:null,responsive:!1},t||{}),d.dispose=function(){s&&m(window).off("resize.gmap3",a),n=null},d.init=function(){if("object"==typeof google&&"object"==typeof google.maps){var r=m(e),u=(e[h]("data-map-address")?e[h]("data-map-address"):null,e[w]("data-map-center")?e[h]("data-map-center").split(","):t.center||[0,0]),p=!!e[w]("data-map-center-marker")||!!t.centerMarker,f=x(e[h]("data-map-zoom")||t.zoom||6),g=e[h]("data-map-type")||t.type||"ROADMAP",b=[];if(i=parseFloat(u[0]||0,10),l=parseFloat(u[1]||0,10),p){var y={lat:i,lng:l,title:e[h]("title"),info:null};b.push(o=y)}r.children(".marker,.map-marker").each(function(){var e=this,t=e[h]("data-marker-position")?e[h]("data-marker-position").split(","):[0,0],a={address:e[h]("data-marker-address")?e[h]("data-marker-address"):null,lat:parseFloat(t[0]||0,10)||0,lng:parseFloat(t[1]||0,10)||0,title:e[h]("title"),info:e.innerHTML,clickable:!!e[h]("data-marker-clickable"),draggable:!!e[h]("data-marker-draggable"),visible:!!e[h]("data-marker-visible")};b.push(a)}),r.empty(),e[h]("data-map-markers")&&m(e[h]("data-map-markers")).each(function(){var e=this,t=e[h]("data-marker-position")?e[h]("data-marker-position").split(","):[0,0],a={address:e[h]("data-marker-address")?e[h]("data-marker-address"):null,lat:parseFloat(t[0]||0,10)||0,lng:parseFloat(t[1]||0,10)||0,title:e[h]("title"),info:e.innerHTML,clickable:!!e[h]("data-marker-clickable"),draggable:!!e[h]("data-marker-draggable"),visible:!!e[h]("data-marker-visible")};b.push(a)});var v,y,_=t.markers?t.markers.length:0;for(v=0;_>v;v++)y=t.markers[v],b.push(y);for(n=new google.maps.Map(e,{zoom:f,center:new google.maps.LatLng(i,l),mapTypeId:google.maps.MapTypeId[g]}),v=0,_=b.length;_>v;v++)y=b[v],o===y?o=c(n,y.lat,y.lng,y.title||"",y.info,y):c(n,y.lat,y.lng,y.title||"",y.info,y);b=null,s=!(!e[h]("data-map-responsive")&&!t.responsive),s&&m(window).on("resize.gmap3",a)}else setTimeout(function(){d.init()},100)},d.map=function(){return n},d.center=function(e){if(!arguments.length)return[i,l];if(n){i=parseFloat(e[0],10),l=parseFloat(e[1],10);var t=new google.maps.LatLng(i,l);n.setCenter(t),o&&o.setPosition(t)}},d.add_marker=function(e){return n&&e?c(n,e.lat,e.lng,e.title||"",e.info||null,e):void 0},d.remove_marker=function(e){e&&e.setMap(null)},d.add_markers=function(e){if(n&&e){for(var t=0;t<e.length;t++){var a=e[t];e[t]=c(n,a.lat,a.lng,a.title||"",a.info,a)}return e}},void(d.remove_markers=function(e){if(e)for(var t=0;t<e.length;t++)e[t].setMap(null)})):new q(e,t)}),f._handleDefault=function(e,t,a,n,i,l){l&&"function"==typeof window[l]?(n&&n(t,a),new window[l](t,a),i&&i(t,a)):"function"==typeof m.fn[e]&&(n&&n(t,a),m(t)[e](a),i&&i(t,a))},f._handle.datetimepicker=function(e,t,a,n,i){n&&n(t,a),a.i18n||!f.locale.Pikadaytime&&!f.locale.Pikaday||(a.i18n=f.locale.Pikadaytime||f.locale.Pikaday),m(t).datetimepicker(a),i&&i(t,a)},f._handle.rangeslider=function(e,t,a,n,i){"function"==typeof m.fn.rangeslider&&(n&&n(t,a),m(t).rangeslider({polyfill:!1,orientation:t[h]("data-range-orientation")||a.orientation||"horizontal"}),i&&i(t,a))},f._handle.menu=function(e,t,a,n,i){n&&n(t,a),m(t).find("li").each(function(){var e=m(this);e.children("ul").length&&e.addClass("w-submenu-item")}),i&&i(t,a)},f._handle.dropdown=function(e,t,a,n,i){var l=m(t);if(l.is("select")&&!l.parent().hasClass("w-dropdown")){n&&n(t,a),l.hasClass("w-widget")&&l.removeClass("w-widget"),l.hasClass("w-select")&&l.removeClass("w-select");var o="w-widget w-dropdown "+(t.className||""),s=l.attr("style")||"";l.attr("class","w-dropdown-select").attr("style","").wrap('<span class="'+o+'" style="'+s+'"></span>'),i&&i(t,a)}},f._handle.select2=function(e,t,a,n,i){if("function"==typeof m.fn.select2){n&&n(t,a);var l=m(t);l.select2(a),t[w]("w-tooltip")?l.prev(".select2-container").attr("w-tooltip",t[h]("w-tooltip")):t[w]("data-tooltip")?l.prev(".select2-container").attr("data-tooltip",t[h]("data-tooltip")):t[w]("title")&&l.prev(".select2-container").attr("title",t[h]("title")),i&&i(t,a)}},f._handle.datatable=function(e,t,a,n,i){if("function"==typeof m.fn.dataTable){n&&n(t,a);var l=m(t);!a.language&&f.locale.DataTables&&(a.language=f.locale.DataTables),l.dataTable(a);var o=l.closest(".dataTables_wrapper");if(o.addClass("w-table-wrapper"),o.find(".dataTables_filter input").addClass("w-widget w-text"),o.find(".dataTables_length select").htmlwidget("dropdown"),t[w]("data-table-controls"))o.find(".w-table-controls").eq(0).append(m(t[h]("data-table-controls")));else if(a.controls)if(a.controls.concat){var s,d,r=o.find(".w-table-controls").eq(0);for(s=0,d=a.controls.length;d>s;s++)r.append(m(a.controls[s]))}else o.find(".w-table-controls").eq(0).append(m(a.controls));i&&i(t,a)}},f._handle.tinymce=function(e,t,a,n,i){if("undefined"!=typeof tinymce){n&&n(t,a);var l=null,o=null;f.locale.tinymce&&("object"!=typeof f.locale.tinymce.lang||a.i18n?"string"==typeof f.locale.tinymce.lang&&(l=f.locale.tinymce.lang):a.i18n=f.locale.tinymce.lang,null!=f.locale.tinymce.uri&&(o=f.locale.tinymce.uri)),a.i18n&&(l="custom_locale",o=null,tinymce.util.I18n.add("custom_locale",a.i18n));var s=parseInt(t[w]("data-tinymce-delayedinit")?t[h]("data-tinymce-delayedinit"):a.delayedInit||0,10),d=t[w]("data-tinymce-plugins")?t[h]("data-tinymce-plugins").split(","):a.plugins||["advlist autolink lists link image charmap preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen","insertdatetime media nonbreaking save table contextmenu directionality","paste textcolor colorpicker textpattern imagetools placeholderalt"],r=t[w]("data-tinymce-toolbar")?t[h]("data-tinymce-toolbar").split(","):a.toolbar||["undo redo | forecolor backcolor | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | link image code preview"],c=t[w]("data-tinymce-menubar")?t[h]("data-tinymce-menubar"):a.menubar||"file edit insert view format table tools";t[w]("data-tinymce-plugins-extra")?d=d.concat(t[h]("data-tinymce-plugins-extra").split(",")):a.plugins_extra&&(d=d.concat(a.plugins_extra)),t[w]("data-tinymce-toolbar-extra")?r=r.concat(t[h]("data-tinymce-toolbar-extra").split(",")):a.toolbar_extra&&(r=r.concat(a.toolbar_extra));var u=null;t[w]("data-tinymce-external-plugins")?u=v(t[h]("data-tinymce-external-plugins")):"object"==typeof a.external_plugins&&(u=a.external_plugins);var p={selector:"#"+t.id,theme:t[w]("data-tinymce-theme")?t[h]("data-tinymce-theme"):a.theme||"modern",skin:t[w]("data-tinymce-skin")?t[h]("data-tinymce-skin"):a.skin||"lightgray",directionality:t[w]("data-tinymce-dir")?t[h]("data-tinymce-dir"):a.directionality||"ltr",height:parseInt(t[w]("data-tinymce-height")?t[h]("data-tinymce-height"):a.height||500,10),plugins:d,toolbar:r,menubar:c,placeholder:t[w]("placeholder")?t[h]("placeholder"):a.placeholder||"",automatic_uploads:null!=a.automatic_uploads?a.automatic_uploads:!0,image_advtab:null!=a.image_advtab?a.image_advtab:!0,paste_data_images:null!=a.paste_data_images?a.paste_data_images:!0,browser_spellcheck:null!=a.browser_spellcheck?a.browser_spellcheck:!0,templates:null!=a.templates?a.templates:[],body_class:t[w]("data-tinymce-body-class")?t[h]("data-tinymce-body-class"):a.body_class||null,content_css:t[w]("data-tinymce-content-css")?t[h]("data-tinymce-content-css"):a.content_css||null,content_style:t[w]("data-tinymce-content-style")?t[h]("data-tinymce-content-style"):a.content_style||null};if(t[w]("data-tinymce-lang")?p.language=t[h]("data-tinymce-lang"):a.language?p.language=a.language:l&&(p.language=l),t[w]("data-tinymce-languri")?p.language_url=t[h]("data-tinymce-languri"):a.language_url?p.language_url=a.language_url:o&&(p.language_url=o),"object"==typeof a.options_extra)for(var m in a.options_extra)p[m]=a.options_extra[m];if("object"==typeof u)for(var b in u)u[g](b)&&tinymce.PluginManager.load(b,u[b]);var y=t[w]("data-tinymce-autosave")?t[h]("data-tinymce-autosave").toLowerCase():!!a.autosave;!0===y||"1"===y||"on"===y||"yes"===y||"true"===y?p.setup=function(e){e.on("init",function(){i&&i(t,a)}),e.on("change",function(){e.save(),f.dispatch("change",t)})}:i&&(p.setup=function(e){e.on("init",function(){i(t,a)})});var _=tinymce.get(t.id);_&&_.remove(),s>0?setTimeout(function(){tinymce.init(p)},s):tinymce.init(p)}},f._handle.codemirror=function(e,t,a,n,i){"function"==typeof CodeMirror&&(n&&n(t,a),CodeMirror.fromTextArea(t,{mode:t[w]("data-cm-mode")?t[h]("data-cm-mode"):a.mode||"text/html",theme:t[w]("data-cm-theme")?t[h]("data-cm-theme"):a.theme||"default",lineWrapping:null!=a.lineWrapping?a.lineWrapping:!1,lineNumbers:null!=a.lineNumbers?a.lineNumbers:!0,indentUnit:parseInt(t[w]("data-cm-indent")?t[h]("data-cm-indent"):a.indentUnit||4,10),indentWithTabs:null!=a.indentWithTabs?a.indentWithTabs:!1,lint:null!=a.lint?a.lint:!1,foldGutter:null!=a.foldGutter?a.foldGutter:!0,gutters:null!=a.gutters?a.gutters:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"]}),i&&i(t,a))},f._handle.c3=function(e,t,a,n,i){if("undefined"!=typeof c3){n&&n(t,a);{c3.generate(a)}i&&i(t,a)}},f._handle.vextab=function(e,t,a,n,i){if("undefined"!=typeof Vex&&"undefined"!=typeof Vex.Flow){n&&n(t,a);{new Vex.Flow.TabDiv(t)}i&&i(t,a)}},m.fn.htmlwidget=function(e,t){var a;if(t=t||{},f.widget[g](e)&&"function"==typeof f.widget[e])a=f.widget[e],this.each(function(){var n,i=this,l=null,o=null;n=i[w]("w-opts")&&"object"==typeof window[i[h]("w-opts")]?window[i[h]("w-opts")]:t,n["w-pre-init"]&&"function"==typeof window[n["w-pre-init"]]&&(l=window[n["w-pre-init"]]),n["w-post-init"]&&"function"==typeof window[n["w-post-init"]]&&(o=window[n["w-post-init"]]),a(e,i,n,l,o)});else{var n=null;switch(e){case"dnd-upload":case"dnd_upload":case"dnd-uploadable":e="dnd_uploadable";break;case"upload":e="uploadable";break;case"rearrangeable":e="sortable";break;case"templateable":e="template";break;case"date":case"datetime":case"datepicker":e="datetimepicker";break;case"color":case"colorselector":e="colorpicker";break;case"areaselectable":e="areaselect";break;case"map":case"gmap":case"gmap3":e="gmap3";break;case"autocomplete":case"autosuggest":case"suggest":e="suggest";break;case"range":e="rangeslider";break;case"select":e="select2";break;case"table":e="datatable";break;case"tageditor":case"tag-editor":e="tagEditor";break;case"wysiwyg-editor":e="tinymce";break;case"syntax-editor":e="codemirror";break;case"graph":case"chart":e="c3";break;case"tab":case"tablature":case"vextab":e="vextab";break;case"packery":n="Packery";break;case"masonry":n="Masonry";break;case"isotope":n="Isotope"}a=f._handle[g](e)?f._handle[e]:f._handleDefault,this.each(function(){var i,l=this,o=null,s=null;i=l[w]("w-opts")&&"object"==typeof window[l[h]("w-opts")]?window[l[h]("w-opts")]:t,"object"==typeof i["options_"+e]&&(i=i["options_"+e]),i["w-pre-init"]&&"function"==typeof window[i["w-pre-init"]]&&(o=window[i["w-pre-init"]]),i["w-post-init"]&&"function"==typeof window[i["w-post-init"]]&&(s=window[i["w-post-init"]]),a(e,l,i,o,s,n)})}return this},f.init=function(e,t,a){var n=m(e);!0===a&&(n.find("input[type=range].w-rangeslider").htmlwidget("range"),n.find(".w-dnd-upload").htmlwidget("dnd-upload"),n.find(".w-suggest").htmlwidget("suggest"),n.find(".w-timer").htmlwidget("timer"),n.find(".w-date").htmlwidget("datetimepicker"),n.find(".w-color,.w-colorselector").htmlwidget("colorpicker"),n.find(".w-map").htmlwidget("map"),n.find(".w-select2").htmlwidget("select2"),n.find(".w-datatable").htmlwidget("datatable"),n.find(".w-syntax-editor").htmlwidget("syntax-editor"),n.find(".w-wysiwyg-editor").htmlwidget("wysiwyg-editor"),n.find(".w-chart").htmlwidget("chart")),!1!==t&&(n.is("input[type=range]")?n.htmlwidget("range"):n.hasClass("w-dnd-upload")?n.htmlwidget("dnd-upload"):n.hasClass("w-suggest")?n.htmlwidget("suggest"):n.hasClass("w-timer")?n.htmlwidget("timer"):n.hasClass("w-date")?n.htmlwidget("datetimepicker"):n.hasClass("w-color")||n.hasClass("w-colorselector")?n.htmlwidget("colorpicker"):n.hasClass("w-map")?n.htmlwidget("map"):n.hasClass("w-select2")?n.htmlwidget("select2"):n.hasClass("w-datatable")?n.htmlwidget("datatable"):n.hasClass("w-syntax-editor")?n.htmlwidget("syntax-editor"):n.hasClass("w-wysiwyg-editor")?n.htmlwidget("wysiwyg-editor"):n.hasClass("w-chart")&&n.htmlwidget("chart"))
},f.initialisable=function(e,t){t=t||window;var a=e[h]("w-init")||"",n=a.toLowerCase();("1"===n||"true"===n||"on"===n||"yes"===n)&&(a="__htmlwidget_init__"),a&&"function"==typeof t[a]&&(e[b]("w-init"),t[a](e))},f.widgetize=function(e){var t=m(e);(t.hasClass("w-dropdown-menu")||t.hasClass("w-vertical-menu"))&&t.htmlwidget("menu"),t.hasClass("w-selectable")&&t.htmlwidget("selectable"),t.hasClass("w-removable")&&t.htmlwidget("removable"),t.hasClass("w-morphable")&&t.htmlwidget("morphable"),t.hasClass("w-delayable")&&t.htmlwidget("delayable"),t.hasClass("w-disabable")&&t.htmlwidget("disabable"),t.hasClass("w-draggable")&&t.htmlwidget("draggable"),(t.hasClass("w-resizable")||t.hasClass("w-resisable"))&&t.htmlwidget("resizable"),(t.hasClass("w-sortable")||t.hasClass("w-rearrangeable"))&&t.htmlwidget("sortable"),t.hasClass("w-templateable")&&t.htmlwidget("template"),t.hasClass("w-areaselectable")&&t.htmlwidget("areaselect"),t.hasClass("w-vextab")&&t.htmlwidget("vextab")},f.tooltip=function(e){var t=m(e),a="",n=t.hasClass("tooltipstered");n?t.tooltipster("content",e[w]("w-tooltip")?e[h]("w-tooltip"):e[w]("data-tooltip")?'<i class="fa fa-info-circle"></i>&nbsp;&nbsp;'+e[h]("data-tooltip"):e[w]("title")?'<i class="fa fa-info-circle"></i>&nbsp;&nbsp;'+e[h]("title"):"").tooltipster("show"):(a=e[w]("w-tooltip")?e[h]("w-tooltip"):e[w]("data-tooltip")?e[h]("data-tooltip"):e[w]("title")?e[h]("title"):"",a.length?t.tooltipster({onlyOne:!0,autoClose:!0,contentAsHTML:!0,content:'<i class="fa fa-info-circle"></i>&nbsp;&nbsp;'+a,position:t.hasClass("tooltip-bottom")?"bottom":t.hasClass("tooltip-right")?"right":t.hasClass("tooltip-left")?"left":"top"}).tooltipster("show"):e[w]("title")&&e[b]("title"))},window.__htmlwidget_init__=function(e){f.init(e)};var E=!1,M=!1,A=[];return f.domReady=function(e){E||(E=!0,u(window,function(){M=!0;for(var e=A;e.length;)e.shift()()})),M?setTimeout(e,10):A.push(e)},m(function(){"undefined"!=typeof SelectorListener&&SelectorListener.jquery(m),"undefined"!=typeof ModelView&&ModelView.jquery(m);var e=m(document.body),t=function(){f.initialisable(this)},a=function(){f.widgetize(this)},n=function(){f.tooltip(this)};e.find("[w-init]").each(t),e.find(".w-dropdown-menu,.w-vertical-menu,.w-templateable,.w-rearrangeable,.w-resizeable,.w-resiseable,.w-selectable,.w-removable,.w-morphable,.w-delayable,.w-disabable,.w-sortable,.w-draggable,.w-areaselectable").each(a),"function"==typeof m.fn.onSelector&&e.onSelector("[w-init]::added",t).onSelector(".w-dropdown-menu::added,.w-vertical-menu::added,.w-templateable::added,.w-rearrangeable::added,.w-resizeable::added,.w-resiseable::added,.w-selectable::added,.w-removable::added,.w-morphable::added,.w-delayable::added,.w-disabable::added,.w-sortable::added,.w-draggable::added,.w-areaselectable::added,.w-vextab::added",a).onSelector(":class-added(.w-dropdown-menu),:class-added(.w-vertical-menu),:class-added(.w-templateable),:class-added(.w-rearrangeable),:class-added(.w-resizeable),:class-added(.w-resiseable),:class-added(.w-selectable),:class-added(.w-removable),:class-added(.w-morphable),:class-added(.w-delayable),:class-added(.w-disabable),:class-added(.w-sortable),:class-added(.w-draggable),:class-added(.w-areaselectable),:class-added(.w-vextab)",a),"function"==typeof m.fn.tooltipster&&e.on("mouseenter.htmlwidget touchstart.htmlwidget","[w-tooltip],[data-tooltip],[title]",n),"function"==typeof m.fn.popr2&&e.popr2({selector:".w-popr",attribute:"data-popr",activate:"click"}),e.on("change.htmlwidget","input[type=file].w-file-input",function(){this.nextSibling.value=this.value}).on("click.htmlwidget","input[type=file].w-file-input+input.w-file",function(){return m(this.previousSibling).trigger("click"),!1})}),m.htmlwidget=f});