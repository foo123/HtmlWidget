/**
*  HtmlWidget
*  html widgets used as (template) plugins and/or standalone, for PHP, Node/JS, Python
*
*  @dependencies: FontAwesome, jQuery
*  @version: 0.1
*  https://github.com/foo123/HtmlWidget
*
**/
!function(e,t,s){"use strict";var a,i="object"==typeof module&&module.exports,l="function"==typeof define&&define.amd;i?module.exports=(module.$deps=module.$deps||{})[t]=module.$deps[t]||s.call(e,{NODE:module})||1:l&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["require","exports","module"],function(t,a,i){return s.call(e,{AMD:i})}):t in e||(e[t]=a=s.call(e,{})||1)&&l&&define(t,[],function(){return a})}(this,"HtmlWidget",function(){"use strict";function e(e,t,s,a){return"insertRule"in e.sheet?(e.sheet.insertRule(t+"{"+s+"}",a),e.sheet.cssRules[a]):"addRule"in e.sheet?(e.sheet.addRule(t,s,a),e.sheet.rules[a]):void 0}function t(t,s){if("object"==typeof s){var a,i,d=0;for(a in s)s[l](a)&&(i=s[a],i.css=e(t,i.selector,[].concat(i.rules).join("; "),d++))}return s}function s(e,s){var a=document.createElement("style");return a.setAttribute("media",e||"all"),a.setAttribute("type","text/css"),a.appendChild(document.createTextNode("")),document.head.appendChild(a),s&&t(a,s),a}var a,i="undefined"!=typeof global&&"[object global]"===Object.prototype.toString.call(global),l="hasOwnProperty",d=Object.keys,r=JSON.stringify,n=0,o={},c=null,u=a={VERSION:"0.1",enqueueAssets:function(e){c=c&&"function"==typeof c?e:null},enqueue:function(e,t,s,a){c&&c(e,t,s||null,a||[])},assets:function(e){return e=(e||"")+"/assets/",[["scripts","htmlwidgets.js",e+"js/htmlwidgets.js",["jquery"]],["styles","htmlwidgets.css",e+"css/htmlwidgets.css",["responsive.css","font-awesome.css"]],["styles","trumbowyg.css",e+"css/trumbowyg.min.css"],["scripts","trumbowyg",e+"js/trumbowyg.min.js",["trumbowyg.css","jquery"]],["styles","jquery.dataTables.css",e+"css/jquery.dataTables.css"],["scripts","jquery.dataTables",e+"js/jquery.dataTables.js",["jquery.dataTables.css","jquery"]],["styles","jquery.pikaday.css",e+"css/jquery.pikaday.css"],["scripts","jquery.pikaday",e+"js/jquery.pikaday.js",["jquery.pikaday.css","jquery"]],["scripts","jquery.remote-list",e+"js/jquery.remote-list.js",["jquery"]]]},uuid:function(e){return e=e||"widget",[e,(new Date).getTime(),++n].join("_")},attr_data:function(e){var t="";if(e[l]("data")){var s,a,i=e.data;for(s in i)i[l](s)&&(a=i[s],t.length&&(t+=" "),t+="data-"+s+"='"+a+"'")}return t},addWidget:function(e,t){e&&"function"==typeof t?o["wi_"+e]=t:e&&!1===t&&o[l]("wi_"+e)&&delete o["wi_"+e]},widget:function(e,t,s){var i="";if(e)if(t=t||{},s=s||{},o[l]("wi_"+e))i=o["wi_"+e](t,s);else switch("checkbox"===e?t.type="checkbox":"radio"===e?t.type="radio":"dropdown"===e?t.dropdown=!0:"editor"===e&&(t.editor=!0),e){case"empty":i=a.widget_empty(t,s);break;case"separator":i=a.widget_separator(t,s);break;case"icon":i=a.widget_icon(t,s);break;case"delayable":i=a.widget_delayable(t,s);break;case"disabable":i=a.widget_disabable(t,s);break;case"morphable":i=a.widget_morphable(t,s);break;case"dialog":i=a.widget_dialog(t,s);break;case"tooltip":i=a.widget_tooltip(t,s);break;case"link":i=a.widget_link(t,s);break;case"button":i=a.widget_button(t,s);break;case"label":i=a.widget_label(t,s);break;case"suggestbox":case"suggest":i=a.widget_suggest(t,s);break;case"textbox":case"text":i=a.widget_text(t,s);break;case"editor":case"textarea":i=a.widget_textarea(t,s);break;case"date":i=a.widget_date(t,s);break;case"time":i=a.widget_time(t,s);break;case"checkbox":case"radio":case"control":i=a.widget_control(t,s);break;case"switch":i=a.widget_switch(t,s);break;case"dropdown":case"selectbox":case"select":i=a.widget_select(t,s);break;case"menu":i=a.widget_menu(t,s);break;case"table":i=a.widget_table(t,s);break;default:i=""}return i},widget_empty:function(){return a.enqueue("styles","htmlwidgets.css"),""},widget_separator:function(e){var t,s;return a.enqueue("styles","htmlwidgets.css"),t="widget-separator",e[l]("class")&&(t+=" "+e["class"]),s=e[l]("style")?'style="'+e.style+'"':"",'<div class="'+t+'" '+s+"></div>"},widget_icon:function(e){var t,s;return a.enqueue("styles","htmlwidgets.css"),t="fa",e[l]("class")&&(t+=" "+e["class"]),s=e[l]("style")?'style="'+e.style+'"':"",e[l]("icon")&&(t+=" fa-"+e.icon),'<i class="'+t+'" '+s+"></i>"},widget_delayable:function(e){var t,s,i,d,r;return a.enqueue("styles","htmlwidgets.css"),t=e[l]("id")?e.id:a.uuid(),s="widget-delayable-overlay",e[l]("class")&&(s+=" "+e["class"]),i=e[l]("style")?'style="'+e.style+'"':"",d=e[l]("extra")?e.extra:"",r="widget-spinner",r+=e[l]("spinner")?" "+e.spinner:" widget-spinner-dots",'<div id="'+t+'" class="'+s+'" '+i+" "+d+'><div class="'+r+'"></div></div>'},widget_disabable:function(e){var t,s,i,d,r;return a.enqueue("styles","htmlwidgets.css"),t=e[l]("id")?e.id:a.uuid(),s="widget-disabable-overlay",e[l]("class")&&(s+=" "+e["class"]),i=e[l]("style")?'style="'+e.style+'"':"",d=e[l]("extra")?e.extra:"",r="widget-spinner",r+=e[l]("spinner")?" "+e.spinner:" widget-spinner-dots",'<div id="'+t+'" class="'+s+'" '+i+" "+d+'><div class="'+r+'"></div></div>'},widget_morphable:function(e){var t,d,r,n,o,c,u,p,g,w;t=e.id,d="widget-morphable",n=[].concat(e.modes),o=e[l]("mode")?e.mode:"mode-${MODE}",c=e[l]("show")?e.show:"show-if-${MODE}",u=e[l]("hide")?e.hide:"hide-if-${MODE}",p="#"+t+".widget-morphable",g=[],w=[];var f,y,h=n.length;for(f=0;h>f;f++)for(w.push(p+"."+o.split("${MODE}").join(n[f])+" ."+u.split("${MODE}").join(n[f])),g.push(p+"."+o.split("${MODE}").join(n[f])+" ."+c.split("${MODE}").join(n[f])),y=0;h>y;y++)y!==f&&(w.push(p+"."+o.split("${MODE}").join(n[f])+" ."+c.split("${MODE}").join(n[y])+":not(."+c.split("${MODE}").join(n[f])+")"),g.push(p+"."+o.split("${MODE}").join(n[f])+" ."+u.split("${MODE}").join(n[y])+":not(."+u.split("${MODE}").join(n[f])+")"));return i?(r="",r+=w.join(",")+"{display: none !important}",r+=g.join(",")+"{display: block}",a.enqueue("styles","widget-morphable-"+t,[r],[])):(r={hide_mode:{selector:w.join(","),rules:["display: none !important"]},show_mode:{selector:g.join(","),rules:["display: block"]}},s("all",r).setAttribute("id","widget-morphable-"+t)),""},widget_dialog:function(e,t){var s,i,d,r,n,o,c,u,p;return a.enqueue("styles","htmlwidgets.css"),s=e[l]("id")?e.id:a.uuid(),c=t[l]("title")?t.title:"",u=e[l]("buttons")?e.buttons:"",p=t[l]("content")?t.content:"",i="widget-dialog",e[l]("class")&&(i+=" "+e["class"]),d=e[l]("style")?'style="'+e.style+'"':"",r=e[l]("extra")?e.extra:"",o="",e[l]("icon")&&(o='<i class="fa fa-'+e.icon+'"></i>'),e[l]("form")&&e.form&&(p='<form id="'+s+'_form">'+p+"</form>"),n=a.attr_data(e),'<div id="'+s+'" class="'+i+'" '+d+" "+r+" "+n+'><div class="widget-dialog-title">'+o+c+'</div><div class="widget-dialog-content">'+p+'</div><div class="widget-dialog-buttons">'+u+"</div></div>"},widget_tooltip:function(e,t){var s,i,d,r,n,o,c,u;return a.enqueue("styles","htmlwidgets.css"),s=e[l]("id")?e.id:a.uuid(),c=t[l]("text")?t.text:"",o=e[l]("title")?e.title:c,i="widget-tooltip",e[l]("class")&&(i+=" "+e["class"]),d=e[l]("style")?'style="'+e.style+'"':"",r=e[l]("extra")?e.extra:"",e[l]("icon")?c='<i class="fa fa-'+e.icon+' left-fa"></i>'+c:e[l]("iconr")&&(c=c+'<i class="fa fa-'+e.iconr+' right-fa"></i>'),u=e[l]("tooltip")?"top"===e.toolip?'<div class="widget-tooltip-arrow widget-tooltip-arrow-bottom"></div>':"bottom"===e.toolip?'<div class="widget-tooltip-arrow widget-tooltip-arrow-top"></div>':"right"===e.toolip?'<div class="widget-tooltip-arrow widget-tooltip-arrow-left"></div>':'<div class="widget-tooltip-arrow widget-tooltip-arrow-right"></div>':'<div class="widget-tooltip-arrow widget-tooltip-arrow-right"></div>',n=a.attr_data(e),'<div id="'+s+'" class="'+i+'" '+d+" "+r+' title="'+o+'" '+n+">"+c+u+"</div>"},widget_link:function(e,t){var s,i,d,r,n,o,c,u,p;return a.enqueue("styles","htmlwidgets.css"),s=e[l]("id")?e.id:a.uuid(),u=e.href,p=t[l]("text")?t.text:"",c=e[l]("title")?e.title:p,i="widget-link",e[l]("class")&&(i+=" "+e["class"]),d=e[l]("style")?'style="'+e.style+'"':"",r=e[l]("extra")?e.extra:"",o="",e[l]("icon")&&(o='<i class="fa fa-'+e.icon+' left-fa"></i>'),n=a.attr_data(e),'<a id="'+s+'" class="'+i+'" '+d+" "+r+' title="'+c+'" href="'+u+'" '+n+">"+o+p+"</a>"},widget_label:function(e,t){var s,i,d,r,n,o,c,u;return a.enqueue("styles","htmlwidgets.css"),s=e[l]("id")?e.id:a.uuid(),o=e["for"],c=t[l]("text")?t.text:"",u=e[l]("title")?e.title:c,i="widget widget-label",e[l]("class")&&(i+=" "+e["class"]),d=e[l]("style")?'style="'+e.style+'"':"",r=e[l]("extra")?e.extra:"",e[l]("icon")&&(i+=" widget-icon",c='<i class="fa fa-'+e.icon+' left-fa"></i>'+c),e[l]("iconr")&&(i+=" widget-icon-right",c=c+'<i class="fa fa-'+e.iconr+' right-fa"></i>'),n=a.attr_data(e),'<label id="'+s+'" for="'+o+'" class="'+i+'" title="'+u+'" '+d+" "+r+" "+n+">"+c+"</label>"},widget_button:function(e,t){var s,i,d,r,n,o,c,u,p;return a.enqueue("styles","htmlwidgets.css"),s=e[l]("id")?e.id:a.uuid(),u=t[l]("text")?t.text:"",c=e[l]("title")?e.title:u,i="widget widget-button",e[l]("class")&&(i+=" "+e["class"]),d=e[l]("style")?'style="'+e.style+'"':"",r=e[l]("extra")?e.extra:"",e[l]("icon")&&(i+=u.length?" widget-icon":" widget-icon-only",u='<span class="fa-wrapper left-fa"><i class="fa fa-'+e.icon+'"></i></span>'+u),e[l]("iconr")&&(i+=u.length?" widget-icon-right":" widget-icon-only",u=u+'<span class="fa-wrapper right-fa"><i class="fa fa-'+e.iconr+'"></i></span>'),n=a.attr_data(e),e[l]("href")?(p=e.href,'<a id="'+s+'" href="'+p+'" class="'+i+'" '+d+" "+r+' title="'+c+'" '+n+">"+u+"</a>"):(o=e[l]("type")?'type="'+e.type+'"':"",'<button id="'+s+'" '+o+' class="'+i+'" '+d+" "+r+' title="'+c+'" '+n+">"+u+"</button>")},widget_control:function(e,t){var s,i,d,r,n,o,c,u,p,g,w;return a.enqueue("styles","htmlwidgets.css"),s=e[l]("id")?e.id:a.uuid(),p=e.name,g=e[l]("type")?e.type:"checkbox",u=t[l]("value")?t.value:"1",o=e[l]("title")?e.title:"",c=e[l]("checked")&&e.checked?"checked":"",i="widget widget-control",e[l]("class")&&(i+=" "+e["class"]),"checkbox"===g?i+=" widget-checkbox":"radio"===g&&(i+=" widget-radio"),d=e[l]("style")?'style="'+e.style+'"':"",r=e[l]("extra")?e.extra:"",w="",e[l]("state-on")&&(w+=' data-state-on="'+e["state-on"]+'"'),e[l]("state-off")&&(w+=' data-state-off="'+e["state-off"]+'"'),n=a.attr_data(e),'<input type="'+g+'" id="'+s+'" name="'+p+'" class="'+i+'" '+d+" "+r+' value="'+u+'" '+n+" "+c+' /><label for="'+s+'" title="'+o+'" '+w+">&nbsp;</label>"},widget_switch:function(e,t){var s,i,d,r,n,o,c,u,p,g,w,f,y,h;return a.enqueue("styles","htmlwidgets.css"),s=e[l]("id")?e.id:a.uuid(),w=e.name,f=e[l]("type")?e.type:"checkbox",g=t[l]("value")?t.value:"1",o=e[l]("title")?e.title:"",c=e[l]("checked")&&e.checked?"checked":"",i="widget widget-switch",e[l]("class")&&(i+=" "+e["class"]),d=e[l]("style")?'style="'+e.style+'"':"",r=e[l]("extra")?e.extra:"",y=e[l]("reverse")&&e.reverse,u="&nbsp;",p="&nbsp;",e[l]("iconon")&&!e[l]("iconoff")?(u='<i class="fa fa-'+e.iconon+' not-negative"></i>',p='<i class="fa fa-'+e.iconon+' negative"></i>'):e[l]("iconoff")&&!e[l]("iconon")?(u='<i class="fa fa-'+e.iconoff+' positive"></i>',p='<i class="fa fa-'+e.iconoff+' not-positive"></i>'):e[l]("iconon")&&e[l]("iconoff")&&(u='<i class="fa fa-'+e.iconon+'"></i>',p='<i class="fa fa-'+e.iconoff+'"></i>'),y?(i+=" reverse",h='<label for="'+s+'" class="widget-switch-off">'+p+'</label><label for="'+s+'" class="widget-switch-on">'+u+"</label>"):h='<label for="'+s+'" class="widget-switch-on">'+u+'</label><label for="'+s+'" class="widget-switch-off">'+p+"</label>",n=a.attr_data(e),'<span class="'+i+'" title="'+o+'" '+d+'><input type="'+f+'" id="'+s+'" name="'+w+'" class="widget-switch-button" value="'+g+'" '+r+" "+n+" "+c+" />"+h+'<span class="widget-switch-handle widget-state-default"></span></span>'},widget_text:function(e,t){var s,i,d,r,n,o,c,u,p,g,w,f;return a.enqueue("styles","htmlwidgets.css"),s=e[l]("id")?e.id:a.uuid(),g=e.name,p=t[l]("value")?t.value:"",w=e[l]("title")?e.title:"",u=e[l]("placeholder")?e.placeholder:w,i="widget widget-text",e[l]("class")&&(i+=" "+e["class"]),d=e[l]("style")?'style="'+e.style+'"':"",r=e[l]("extra")?e.extra:"",o=e[l]("type")?e.type:"text",c="",f="widget-wrapper",e[l]("icon")&&(c+='<span class="fa-wrapper left-fa"><i class="fa fa-'+e.icon+'"></i></span>',f+=" widget-icon"),e[l]("iconr")&&(c+='<span class="fa-wrapper right-fa"><i class="fa fa-'+e.iconr+'"></i></span>',f+=" widget-icon-right"),n=a.attr_data(e),c.length?'<span class="'+f+'" '+d+'><input type="'+o+'" id="'+s+'" name="'+g+'" title="'+w+'" class="'+i+'" '+r+' placeholder="'+u+'" value="'+p+'" '+n+" />"+c+"</span>":'<input type="'+o+'" id="'+s+'" name="'+g+'" title="'+w+'" class="'+i+'" '+d+" "+r+' placeholder="'+u+'" value="'+p+'" '+n+" />"},widget_suggest:function(e,t){var s,d,r,n,o,c,u,p,g,w,f,y;a.enqueue("styles","htmlwidgets.css"),s=e[l]("id")?e.id:a.uuid(),w=e.name,g=t[l]("value")?t.value:"",f=e[l]("title")?e.title:"",p=e[l]("placeholder")?e.placeholder:f,d="widget widget-text widget-suggest",e[l]("class")&&(d+=" "+e["class"]),r=e[l]("style")?'style="'+e.style+'"':"",n=e[l]("extra")?e.extra:"",c=e.ajax,u="",y="widget-wrapper",e[l]("icon")&&(u='<span class="fa-wrapper left-fa"><i class="fa fa-'+e.icon+'"></i></span>',y+=" widget-icon"),u+='<span class="fa-wrapper right-fa"><i id="'+s+'-spinner" class="fa fa-spinner fa-pulse"></i></span>',y+=" widget-icon-right",o=a.attr_data(e);var h="",b='jQuery(function($){var $el = $("#'+s+'"), suggest = $el.parent();$el.remoteList({    minLength: 2,    maxLength: -1,    source: function(value, response) {        suggest.addClass("ajax");        $.ajax({            url: "'+c+'",            type: "POST",            data: {suggest: value},            dataType: "json",            success: function( data ){                suggest.removeClass("ajax");                response(data);            }        });    },    select: function( ) {        //console.log($el.remoteList("selectedOption"), $el.remoteList("selectedData"))    }});});';return i?a.enqueue("scripts","widget-suggest-"+s,[b],["jquery.remote-list"]):h=b,'<span class="'+y+'" '+r+'><input type="text" data-list-highlight="true" data-list-value-completion="true" id="'+s+'" name="'+w+'" title="'+f+'" class="'+d+'" '+n+' placeholder="'+p+'" value="'+g+'" '+o+" />"+u+"</span>"+h},widget_textarea:function(e,t){var s,d,n,o,c,u,p,g,w,f;a.enqueue("styles","htmlwidgets.css"),s=e[l]("id")?e.id:a.uuid(),g=e.name,p=t[l]("value")?t.value:"",w=e[l]("title")?e.title:"",u=e[l]("placeholder")?e.placeholder:w,o=e[l]("extra")?e.extra:"",c=a.attr_data(e);var y="",h="";return e[l]("editor")&&e.editor?(d="widget widget-editor",e[l]("class")&&(d+=" "+e["class"]),n=e[l]("style")?e.style:"",f=e[l]("config")?r(e.config):"",h='<script>jQuery(function($){$("#'+s+'").trumbowyg('+f+');$("#'+s+'").closest(".trumbowyg-box").addClass("widget widget-editor-box").attr("style","'+n+'");});</script>',i?a.enqueue("scripts","widget-editor-"+s,[h],["trumbowyg"]):y=h,n=""):(d="widget widget-textarea",e[l]("class")&&(d+=" "+e["class"]),n=e[l]("style")?'style="'+e.style+'"':""),'<textarea id="'+s+'" name="'+g+'" title="'+w+'" class="'+d+'" '+n+" "+o+' placeholder="'+u+'" '+c+">"+p+"</textarea>"+y},widget_date:function(e,t){var s,d,r,n,o,c,u,p,g,w,f,y;a.enqueue("styles","htmlwidgets.css"),s=e[l]("id")?e.id:a.uuid(),g=e.name,p=t[l]("value")?t.value:"",w=e[l]("title")?e.title:"",c=e[l]("placeholder")?e.placeholder:w,d="widget widget-text widget-date",e[l]("class")&&(d+=" "+e["class"]),r=e[l]("style")?'style="'+e.style+'"':"",n=e[l]("extra")?e.extra:"",f=e[l]("format")?e.format:"Y-m-d",u="",y="widget-wrapper",e[l]("icon")&&(u+='<span class="fa-wrapper left-fa"><i class="fa fa-'+e.icon+'"></i></span>',y+=" widget-icon"),e[l]("iconr")&&(u+='<span class="fa-wrapper right-fa"><i class="fa fa-'+e.iconr+'"></i></span>',y+=" widget-icon-right"),e[l]("icon")||e[l]("iconr")||(u+='<span class="fa-wrapper right-fa"><i class="fa fa-calendar"></i></span>',y+=" widget-icon-right"),o=a.attr_data(e);var h="",b='jQuery(function($){$("#'+s+'").pikaday({format:"'+f+'",encoder:Pikaday.date_encoder,decoder:Pikaday.date_decoder});});';return i?a.enqueue("scripts","widget-pikaday-"+s,[b],["jquery.pikaday"]):h=b,'<span class="'+y+'" '+r+'><input type="text" id="'+s+'" name="'+g+'" title="'+w+'" class="'+d+'" placeholder="'+c+'" value="'+p+'" '+n+" "+o+" />"+u+"</span>"+h},widget_time:function(e,t){var s,i,d,r,n,o,c,u,p,g,w,f,y,h,b,m;if(a.enqueue("styles","htmlwidgets.css"),s=e[l]("id")?e.id:a.uuid(),c=e.name,u=e[l]("format")?e.format.split(":"):["h","m","s"],t[l]("value"))for(o=t.value instanceof Array?t.value:t.value.split(":");o.length<3;)o.push("00");else o=["00","00","00"];for(i="widget widget-time",e[l]("class")&&(i+=" "+e["class"]),d=e[l]("style")?'style="'+e.style+'"':"",r=e[l]("extra")?e.extra:"",n=a.attr_data(e),g={h:[],m:[],s:[]},w=0;60>w;w++)for(f=10>w?"0"+w:""+w,h=0;h<u.length;h++)b=u[h],"h"===b&&w>=24||(m=f===o[h]?'selected="selected"':"",g[b].push('<option value="'+f+'" '+m+">"+f+"</option>"));for(p=[],h=0;h<u.length;h++)y=u[h],p.push('<select class="widget-time-component" id="'+s+"_"+y+'" name="'+c+"["+y+']">'+g[y].join("")+"</select>");return p=p.join('<span class="widget-time-sep">:</span>'),'<span class="'+i+'" '+d+" "+r+" "+n+">"+p+"</span>"},widget_select:function(e,t){var s,i,r,n,o,c,u,p,g,w,f,y,h,b,m,v;for(a.enqueue("styles","htmlwidgets.css"),s=e[l]("id")?e.id:a.uuid(),c=e.name,u=e[l]("dropdown")&&e.dropdown,i=u?"widget widget-dropdown widget-state-default":"widget widget-select",e[l]("class")&&(i+=" "+e["class"]),r=e[l]("style")?'style="'+e.style+'"':"",n=e[l]("extra")?e.extra:"",g=t[l]("selected")?t.selected:[],g instanceof Array||(g=[g]),p="",w=t.options,h=w.length,f=0;h>f;f++)y=w[f],Object===y.constructor?(b=d(y).shift(),m=y[b]):(b=y,m=y),v=-1<g.indexOf(b)?'selected="selected"':"",p+='<option value="'+b+'" '+v+">"+m+"</option>";return o=a.attr_data(e),u?'<span class="'+i+'" '+r+'><select id="'+s+'" name="'+c+'" class="widget-dropdown-select widget-state-default" '+n+" "+o+">"+p+"</select></span>":'<select id="'+s+'" name="'+c+'" class="'+i+'" '+r+" "+n+" "+o+">"+p+"</select>"},widget_menu:function(e,t){var s,i,d,r,n,o;return a.enqueue("styles","htmlwidgets.css"),s=e[l]("id")?e.id:a.uuid(),o=t.menu,i="widget widget-dropdown-menu",e[l]("class")&&(i+=" "+e["class"]),d=e[l]("style")?'style="'+e.style+'"':"",r=e[l]("extra")?e.extra:"",n=a.attr_data(e),'<div id="'+s+'" class="'+i+'" '+d+" "+r+" "+n+">"+o+"</div>"},widget_table:function(e,t){var s,n,o,c,u,p,g,w,f,y,h,b,m,v,x,_,j,k,q,$;for(a.enqueue("styles","htmlwidgets.css"),s=e[l]("id")?e.id:a.uuid(),n="widget widget-table",(!e[l]("stripped")||e.stripped)&&(n+=" stripped"),(!e[l]("responsive")||e.responsive)&&(n+=" responsive"),e[l]("class")&&(n+=" "+e["class"]),o=e[l]("style")?'style="'+e.style+'"':"",c=e[l]("extra")?e.extra:"",g="",h=t.columns,b=d(data_cols),k=b.length,_=0;k>_;_++)g+='<th data-key="'+b[_]+'">'+h[b[_]]+"</th>";for(g="<tr>"+g+"</tr>",w="",j=t.rows.length,x=0;j>x;x++){for(m=t.rows[x],v=d(m),w+="\n<tr>",_=0;k>_;_++)w+='<td data-column="'+h[b[_]]+'">'+m[v[_]]+"</td>";w+="</tr>"}u=a.attr_data(e),p=e[l]("dataTable");var O="",D="";if(p){if(f=Object===e.dataTable.constructor?r(e.dataTable):"",y=["$('#"+s+"_filter').find('input').addClass('widget-text');","$('#"+s+"_length').find('select').addClass('widget-select');"],e[l]("controls"))for($=e.controls instanceof Array?e.controls:[e.controls],q=0;q<$.length;q++)y.push('$(".widget-table-controls", "#'+s+'_wrapper").append($("'+$[q].split('"').join('\\"')+'"));');y=y.join("\n"),D='jQuery(function($){$("#'+s+'").dataTable('+f+').on("change", "input.select_row", function( ){    if ( this.checked ) $(this).closest("tr").addClass("selected");    else $(this).closest("tr").removeClass("selected");});$("#'+s+'").closest(".dataTables_wrapper").addClass("widget-table-wrapper");'+y+"});",i?a.enqueue("scripts","widget-datatable-"+s,[D],["jquery.dataTables"]):O=D}return'<table id="'+s+'" class="'+n+'" '+o+" "+c+" "+u+"><thead>"+g+"</thead><tbody>"+w+"</tbody></table>"+O}};return u});