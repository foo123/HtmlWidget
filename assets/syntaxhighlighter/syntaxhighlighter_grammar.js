/**
*
*   SyntaxHighlighterGrammar
*   @version: 4.1.0
*
*   Transform a grammar specification in JSON format, into a syntax-highlight brush for SyntaxHighlighter
*   https://github.com/foo123/syntaxhighlighter-grammar
*   https://github.com/foo123/editor-grammar
*
**/!function(e,t,n){"use strict";"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[t]=n.call(e)):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["module"],function(t){return n.moduleUri=t.uri,n.call(e)}):t in e||(e[t]=n.call(e)||1)&&"function"==typeof define&&define.amd&&define(function(){return e[t]})}(this,"SyntaxHighlighterGrammar",function(){"use strict";function e(e){var t=0;return null===e?t=qt:!0===e||!1===e||e instanceof Boolean?t=St:ct===e?t=wt:(t=Tt[kt.call(e)]||bt,t=_t===t||e instanceof Number?isNaN(e)?Et:isFinite(e)?_t:Ot:Lt===t||e instanceof String?1===e.length?Rt:Lt:Mt===t||e instanceof Array?Mt:Nt===t||e instanceof RegExp?Nt:zt===t||e instanceof Date?zt:Dt===t||e instanceof Function?Dt:It===t?It:bt),t}function t(e,t,n,r){var o,s,l,i,a,u,c=e.length;if(arguments.length<4&&(r=c-1),0>r&&(r+=c),arguments.length<3&&(n=0),n>r)return[];if(n===r)return[t(e[n],n,n,r)];for(l=r-n+1,i=15&l,a=1&i,u=new Array(l),a&&(u[0]=t(e[n],n,n,r)),o=a;i>o;o+=2)s=n+o,u[o]=t(e[s],s,n,r),u[o+1]=t(e[s+1],s+1,n,r);for(o=i;l>o;o+=16)s=n+o,u[o]=t(e[s],s,n,r),u[o+1]=t(e[s+1],s+1,n,r),u[o+2]=t(e[s+2],s+2,n,r),u[o+3]=t(e[s+3],s+3,n,r),u[o+4]=t(e[s+4],s+4,n,r),u[o+5]=t(e[s+5],s+5,n,r),u[o+6]=t(e[s+6],s+6,n,r),u[o+7]=t(e[s+7],s+7,n,r),u[o+8]=t(e[s+8],s+8,n,r),u[o+9]=t(e[s+9],s+9,n,r),u[o+10]=t(e[s+10],s+10,n,r),u[o+11]=t(e[s+11],s+11,n,r),u[o+12]=t(e[s+12],s+12,n,r),u[o+13]=t(e[s+13],s+13,n,r),u[o+14]=t(e[s+14],s+14,n,r),u[o+15]=t(e[s+15],s+15,n,r);return u}function n(e,t,n,r,o){var s,l,i,a,u,c=e.length,p=n;if(arguments.length<5&&(o=c-1),0>o&&(o+=c),arguments.length<4&&(r=0),r>o)return p;if(r===o)return t(p,e[r],r);for(i=o-r+1,a=15&i,u=1&a,u&&(p=t(p,e[r],r)),s=u;a>s;s+=2)l=r+s,p=t(t(p,e[l],l),e[l+1],l+1);for(s=a;i>s;s+=16)l=r+s,p=t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(p,e[l],l),e[l+1],l+1),e[l+2],l+2),e[l+3],l+3),e[l+4],l+4),e[l+5],l+5),e[l+6],l+6),e[l+7],l+7),e[l+8],l+8),e[l+9],l+9),e[l+10],l+10),e[l+11],l+11),e[l+12],l+12),e[l+13],l+13),e[l+14],l+14),e[l+15],l+15);return p}function r(e,t,n,r){if(t>n)return r;if(t===n)return e(t,r,t,n),r;var o,s,l=n-t+1,i=15&l,a=1&i;for(a&&e(t,r,t,n),o=a;i>o;o+=2)s=t+o,e(s,r,t,n),e(++s,r,t,n);for(o=i;l>o;o+=16)s=t+o,e(s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n);return r}function o(t,n){var r,s,l,i,a=e(t),u=0;if(_t===e(n)?n>0?(u=n,n=!0):n=!1:n=!1!==n,It===a){s={};for(l in t)t[ft](l)&&t[mt](l)&&(r=e(t[l]),It===r?s[l]=n?o(t[l],u>0?u-1:n):t[l]:Mt===r?s[l]=n?o(t[l],u>0?u-1:n):t[l].slice():zt===r?s[l]=new Date(t[l]):Lt&r?s[l]=t[l].slice():_t&r?s[l]=0+t[l]:s[l]=t[l])}else if(Mt===a)for(i=t.length,s=new Array(i),l=0;i>l;l++)r=e(t[l]),It===r?s[l]=n?o(t[l],u>0?u-1:n):t[l]:Mt===r?s[l]=n?o(t[l],u>0?u-1:n):t[l].slice():zt===r?s[l]=new Date(t[l]):Lt&r?s[l]=t[l].slice():_t&r?s[l]=0+t[l]:s[l]=t[l];else s=zt===a?new Date(t):Lt&a?t.slice():_t&a?0+t:t;return s}function s(){var t,n,r,l,i,a,u,c,p,f,m=arguments,h=m.length;if(1>h)return null;for(n=o(m[0]),r=1;h>r;r++)if(t=m[r])for(l in t)if(t[ft](l)&&t[mt](l))if(n[ft](l)&&n[mt](l)){if(p=e(n[l]),f=e(t[l]),It===p&&It===f)n[l]=s(n[l],t[l]);else if(Mt===p&&Mt===f){if(u=n[l],c=t[l],a=c.length,!a)continue;if(u.length)for(i=0;a>i;i++)0>u.indexOf(c[i])&&u.push(c[i]);else n[l]=c.slice()}}else n[l]=o(t[l]);return n}function l(t,n){return n||Mt!==e(t)?[t]:t}function i(t,n){return t=l(t),(n||Mt!==e(t[0]))&&(t=[t]),t}function a(t,n){return Lt&e(n)&&Lt&e(t)&&n.length&&n.length<=t.length&&n===t.substr(0,n.length)}function u(e,t,n){return n?e[t]=ct:delete e[t],e}function c(e){return(e||"id_")+ ++Kt}function p(e){return(e||"uuid")+"_"+ ++Kt+"_"+(new Date).getTime()}function f(){var t,n,r,o,s,l,i=arguments,a=i.length;for(t=i[0]||{},s=1;a>s;s++)if(n=i[s],It===e(n))for(o in n)n[ft](o)&&n[mt](o)&&(r=n[o],l=e(r),_t&l?t[o]=0+r:zt&l?t[o]=new Date(r):Pt&l?t[o]=r.slice():t[o]=r);return t}function m(e,t){var n,r=arguments.length,o="constructor";return 0===r?(e=Object,t={}):1===r?(t=e||{},e=Object):(e=e||Object,t=t||{}),t[ft](o)||(t[o]=function(){}),n=t[o],delete t[o],n[pt]=f(yt(e[pt]),t),n[pt][o]=n,n}function h(e){return"&"===e?"&amp;":"<"===e?"&lt;":">"===e?"&gt;":'"'===e?"&quot;":"&apos;"}function k(e){return"&amp;"===e?"&":"&lt;"===e?"<":"&gt;"===e?">":"&quot;"===e?'"':"'"}function y(e){return"&#"+e.charCodeAt(0)+";"}function g(e,t){return e.replace(Wt,t?h:y)}function x(e){return e.replace(Jt,k)}function v(e){return e.replace(Vt,"\\$1")}function d(e,t){t=t||{l:0,x:0,i:0,g:0};var e=new RegExp(e,(t.g?"g":"")+(t.i?"i":""));return e.xflags=t,e}function $(e,t,n,r){var o,s,l,i,a=e.pos,u=e.length,c="",p=!!n;if(p){for(r=!!r,s=!1,i=0;u>a&&(o=e[dt](a++),t!==o||s);)l=n===o,s=!s&&l,r?(l&&i++,(!l||2&i)&&(c+=o,i=0)):c+=o;2&i&&(c+=n)}else for(;u>a&&(o=e[dt](a++),t!==o);)c+=o;return e.pos=a,c}function b(t,n,r,o){var s,l,i,a,u,c=!0===r?0:1,p=o?"\\":"$",f=o?92:36;for(Lt&e(n)&&(o&&(n=v(n)),n=[n,n,n],c=0),l=t.length,u="",s=0;l>s;)i=t[dt](s),l>s+1&&p===i?(a=t.charCodeAt(s+1),f===a?(u+=p,s+=2):a>=48&&57>=a?(u+=n[c+a-48]||"",s+=2):(u+=i,s+=1)):(u+=i,s+=1);return u}function w(t,n,r,o){if(!t||(_t|Nt)&e(t))return t;var s,l=n?n.length||0:0,i="",a={g:0,i:0,x:0,l:0};if(Lt&e(o)?i=o:o&&(i=Xt),l&&t.substr(0,l)===n){var u,c,p,s,f,m=t.substr(l),h=m[dt](0);for(s=m.length;s--&&(f=m[dt](s),h!==f);)"i"===f.toLowerCase()?a.i=1:"x"===f.toLowerCase()?a.x=1:"l"===f.toLowerCase()&&(a.l=1);return u=m.substring(1,s),"^"===u.charAt(0)?(a.l=1,c="^("+u.slice(1)+")"):c="^("+u+")",p=c,(a.x||a.l||a.i)&&(c=(a.l?"l":"")+(a.x?"x":"")+(a.i?"i":"")+"::"+c),r[c]||(p=d(p,a),r[c]=p),r[c]}return i?(p=c="^("+v(t)+")"+i,r[c]||(p=d(p,a),r[c]=p),r[c]):t}function q(n,r,o){var s,l="";return Lt&e(r)?l=r:r&&(l=Xt),s=t(n.sort(Bt),v).join("|"),[d("^("+s+")"+l,{l:0,x:0,i:o?1:0}),1]}function _(t,n,r,o){var s=e(n);if(_t===s)return n;if(o[t])return o[t];r=r||0;var l,i=0;return n&&n.isCharList&&(i=1,u(n,"isCharList")),l=qt===s?new P(Re,t,n,qt,r):Rt===s?new P(Re,t,n,Rt,r):At&s?new P(Re,t,n,Nt,r):Lt&s?new P(Re,t,n,i?jt:Lt,r):n,o[t]=l}function O(t,n,r,o,s,i,u,c){if(u[t])return u[t];var p,f,m,h,k,y,g,x=0,v=0,d=1,$=Lt&e(o)?!0:!!o;if(p=l(n),m=p.length,1===m)g=_(t,w(p[0],r,i,o),0,u);else if(m>1){for(h=(m>>>1)+1,f=0;h>=f;f++)k=e(p[f]),y=e(p[m-1-f]),Rt===k&&Rt===y||(d=0),Mt&k||Mt&y?x=1:(Nt&k||Nt&y||a(p[f],r)||a(p[m-1-f],r))&&(v=1);if(d&&!$)p=p.slice().join(""),p.isCharList=1,g=_(t,p,0,u);else if(!$||x||v)if(x||v){for(f=0;m>f;f++)Mt&e(p[f])?p[f]=O(t+"_"+f,p[f],r,o,s,i,u):p[f]=_(t+"_"+f,w(p[f],r,i),f,u);g=m>1?new P(je,t,p):p[0]}else{for(c&&(c.keywords=l(n).slice()),p=p.sort(Bt),f=0;m>f;f++)p[f]=_(t+"_"+f,w(p[f],r,i),f,u);g=m>1?new P(je,t,p):p[0]}else c&&(c.keywords=l(n).slice()),g=_(t,q(p,o,s),0,u)}return u[t]=g}function E(t,n,o,s,l){if(l[t])return l[t];var u=i(n),c=[],p=[];return r(function(n){var r,i,f,m;r=_(t+"_0_"+n,w(u[n][0],o,s),n,l),u[n].length>1?(f=a(u[n][1],o),m=f&&Zt.test(u[n][1]),Nt!==r.ptype||Lt!==e(u[n][1])||!m&&f?i=_(t+"_1_"+n,w(u[n][1],o,s),n,l):m?(i=new String(u[n][1]),i.regex_pattern=o):i=u[n][1]):i=r,c.push(r),p.push(i)},0,u.length-1),l[t]=new P(Me,t,[c,p])}function S(e,t){var n=i(e.tokens.slice());r(function(e){var r=n[e][0],o=n[e].length>1?n[e][1]:n[e][0],s=n[e].length>2?n[e][2]:"";null===o?(t.line=t.line||[],t.line.push(r)):(t.block=t.block||[],t.block.push([r,o,s]))},0,n.length-1)}function L(e,n,r,o){var s=e.meta||r,l=!(!e.caseInsesitive&&!e.ci),i=t(n,function(e){return{word:e,meta:s,ci:l}});return o.autocomplete=(o.autocomplete||[]).concat(i),i}function R(t){t.Lex||(t.Lex={}),t.Syntax||(t.Syntax={});var n,r,o,l,i,a,c,p,f,m,h,k=t.Lex,y=t.Syntax,g=[k,y],x=g.length;for(h=0;x>h;){m=g[h++];for(o in m)m[ft](o)&&(n=o.split(":"),r=n[1]&&Ht(n[1]).length?Ht(n[1]):null,n=Ht(n[0]),n.length||(n=o,r=null),n!==o&&(m[n]=m[o],u(m,o),r&&(r=r[vt](),l=m[n],i=e(l),It===i?m[n].type||(m[n].type=r):(m[n]={type:r},"error"===r?(m[n].type="action",m[n].error=l):"nop"===r?(m[n].type="action",m[n].nop=!0):"group"===r?(m[n].type="sequence",m[n].tokens=l):"action"===r&&Lt===i?m[n][l]=!0:m[n].tokens=l))),k===m&&(Ct&e(m[n])&&(m[n]={type:"simple",tokens:m[n]}),l=m[n],l.type&&(p=l.type=l.type[vt](),"line-block"===p?(l.type="block",l.multiline=!1,l.escape=!1):"escaped-line-block"===p?(l.type="block",l.multiline=!1,l.escape="\\"):"escaped-block"===p&&(l.type="block",l.multiline=!0,l.escape="\\"))))}m=k;for(n in m)if(m[ft](n))for(l=m[n];l.extend;)a=l.extend,u(l,"extend"),c=k[a],c&&(Ct&e(c)&&(c=k[a]={type:"simple",tokens:c}),l=s(c,l));m=k;for(n in m)m[ft](n)&&(l=m[n],l.type?(p=l.type=l.type[vt](),"line-block"===p?(l.type="block",l.multiline=!1,l.escape=!1):"escaped-line-block"===p?(l.type="block",l.multiline=!1,l.escape="\\"):"escaped-block"===p&&(l.type="block",l.multiline=!0,l.escape="\\")):l["escaped-line-block"]?(l.type="block",l.multiline=!1,l.escape||(l.escape="\\"),l.tokens=l["escaped-line-block"],u(l,"escaped-line-block")):l["escaped-block"]?(l.type="block",l.multiline=!0,l.escape||(l.escape="\\"),l.tokens=l["escaped-block"],u(l,"escaped-block")):l["line-block"]?(l.type="block",l.multiline=!1,l.escape=!1,l.tokens=l["line-block"],u(l,"line-block")):l.comment?(l.type="comment",l.escape=!1,l.tokens=l.comment,u(l,"comment")):l.block?(l.type="block",l.tokens=l.block,u(l,"block")):l.simple?(l.type="simple",l.tokens=l.simple,u(l,"simple")):l.nop?(l.type="action",l.action=["nop",l.nop,!1],l.nop=!0):l.error?(l.type="action",l.action=["error",l.error,!!l["in-context"],!!l["in-hypercontext"]],u(l,"error")):l[ft]("hypercontext")?(l.type="action",l.action=[l.hypercontext?"hypercontext-start":"hypercontext-end",l.hypercontext,!!l["in-context"],!!l["in-hypercontext"]],u(l,"hypercontext")):l[ft]("context")?(l.type="action",l.action=[l.context?"context-start":"context-end",l.context,!!l["in-context"],!!l["in-hypercontext"]],u(l,"context")):l.indent?(l.type="action",l.action=["indent",l.indent,!!l["in-context"],!!l["in-hypercontext"]],u(l,"indent")):l.outdent?(l.type="action",l.action=["outdent",l.outdent,!!l["in-context"],!!l["in-hypercontext"]],u(l,"outdent")):l.define?(l.type="action",l.action=["define",Lt&e(l.define)?["*",l.define]:l.define,!!l["in-context"],!!l["in-hypercontext"]],u(l,"define")):l.undefine?(l.type="action",l.action=["undefine",Lt&e(l.undefine)?["*",l.undefine]:l.undefine,!!l["in-context"],!!l["in-hypercontext"]],u(l,"undefine")):l.defined?(l.type="action",l.action=["defined",Lt&e(l.defined)?["*",l.defined]:l.defined,!!l["in-context"],!!l["in-hypercontext"]],u(l,"defined")):l.notdefined?(l.type="action",l.action=["notdefined",Lt&e(l.notdefined)?["*",l.notdefined]:l.notdefined,!!l["in-context"],!!l["in-hypercontext"]],u(l,"notdefined")):l.unique?(l.type="action",l.action=["unique",Lt&e(l.unique)?["*",l.unique]:l.unique,!!l["in-context"],!!l["in-hypercontext"]],u(l,"unique")):l.push?(l.type="action",l.action=["push",l.push,!!l["in-context"],!!l["in-hypercontext"]],u(l,"push")):l[ft]("pop")?(l.type="action",l.action=["pop",l.pop,!!l["in-context"],!!l["in-hypercontext"]],u(l,"pop")):l.type="simple","action"===l.type?l.ci=!(!l.caseInsesitive&&!l.ci):"block"===l.type||"comment"===l.type?(l.multiline=l[ft]("multiline")?!!l.multiline:!0,Lt&e(l.escape)||(l.escape=!1)):"simple"===l.type&&(l.meta=l.autocomplete&&Lt&e(l.meta)?l.meta:null,l.ci=!(!l.caseInsesitive&&!l.ci)));m=y;for(n in m)m[ft](n)&&(l=m[n],It!==e(l)||l.type?l.type&&(p=l.type=l.type[vt](),"group"===p&&l.match?(i=e(l.match),Lt&i?(f=l.match[vt](),"alternation"===f||"either"===f?(l.type="alternation",u(l,"match")):"sequence"===f||"all"===f?(l.type="sequence",u(l,"match")):"zeroorone"===f?(l.type="zeroOrOne",u(l,"match")):"zeroormore"===f?(l.type="zeroOrMore",u(l,"match")):"oneormore"===f?(l.type="oneOrMore",u(l,"match")):(l.type="sequence",u(l,"match"))):Mt&i&&(l.type="repeat",l.repeat=l.match,u(l,"match"))):"either"===p?l.type="alternation":"all"===p?l.type="sequence":"lookahead"===p?l.type="positiveLookahead":"grammar"===p&&(l.type="subgrammar"),"subgrammar"!==l.type||l.tokens||(l.tokens=n)):l.ngram||l["n-gram"]?(l.type="ngram",l.tokens=l.ngram||l["n-gram"],l["n-gram"]?u(l,"n-gram"):u(l,"ngram")):l.sequence||l.all?(l.type="sequence",l.tokens=l.sequence||l.all,l.all?u(l,"all"):u(l,"sequence")):l.alternation||l.either?(l.type="alternation",l.tokens=l.alternation||l.either,l.either?u(l,"either"):u(l,"alternation")):l.zeroOrOne?(l.type="zeroOrOne",l.tokens=l.zeroOrOne,u(l,"zeroOrOne")):l.zeroOrMore?(l.type="zeroOrMore",l.tokens=l.zeroOrMore,u(l,"zeroOrMore")):l.oneOrMore?(l.type="oneOrMore",l.tokens=l.oneOrMore,u(l,"oneOrMore")):l.positiveLookahead||l.lookahead?(l.type="positiveLookahead",l.tokens=l.positiveLookahead||l.lookahead,l.lookahead?u(l,"lookahead"):u(l,"positiveLookahead")):l.negativeLookahead?(l.type="negativeLookahead",l.tokens=l.negativeLookahead,u(l,"negativeLookahead")):(l.subgrammar||l.grammar)&&(l.type="subgrammar",l.tokens=l.subgrammar||l.grammar,l.subgrammar?u(l,"subgrammar"):u(l,"grammar")));return t}function j(t,n,r){if(r=r||{},n=n||[],!t||!t.length)return n;var o,s,l,i,a,u,c;for(o=0,s=t.length;s>o;o++)if(a=t[o])if(Ce===a.type)if(a.autocompletions)for(l=0,i=a.autocompletions.length;i>l;l++)c=a.autocompletions[l],r[ft]("w_"+c.word)||(n.push(c),r["w_"+c.word]=1);else Lt===a.token.ptype&&Lt&e(a.token.pattern)&&a.token.pattern.length>1&&(r[ft]("w_"+a.token.pattern)||(n.push({word:""+a.token.pattern,meta:a.name,ci:!!a.ci}),r["w_"+a.token.pattern]=1));else if(He===a.type)j(a.token,n,r);else if(et&a.type){l=0,i=a.token.length;do j([u=a.token[l++]],n,r);while(i>l&&(Ue&u.type&&1>u.min||Ie===u.type))}else Ue&a.type&&j([a.token[0]],n,r);return n}function M(t,n,r,o){for(var s;Lt&e(s=n[t]||r[t]);)t=s;return o?t:n[t]||r[t]||t}function I(e,t){return e.length>1?r(t?function(t,n){var r=n[n.length-1],o=e[t];r===o||n.push(o)}:function(t,n){var r=n[n.length-1],o=e[t];en.test(o)&&en.test(r)&&r===o||n.push(o)},1,e.length-1,[e[0]]):e}function D(n,r,s){var l,i,a,u,c,p,f,m,h,k,y,g,x,b,w,q=!1;if(w=n.modifier?n.modifier:null,m=new String(Ht(n)),m.pos=0,1===m.length)g=""+n,r[g]||s[g]||(r[g]={type:"simple",tokens:n}),n=g;else{for(l=[],i=[],a="",x=[];m.pos<m.length;)if(h=m[dt](m.pos++),Qt.test(h))if(a.length&&(q?(i.length&&(y=i[i.length-1],g=y+"."+a,p=r[g]||s[g],p||(f=M(y,r,s),s[g]=Lt&e(f)?new String(f):o(f),s[g].modifier=a),i[i.length-1]=g),q=!1):"0"===a?(r[at]||(r[at]={type:"simple",tokens:0}),i.push(at)):"^^"===a?(r[rt]||(r[rt]={type:"simple",tokens:De}),i.push(rt)):"^^1"===a?(r[ot]||(r[ot]={type:"simple",tokens:Ne}),i.push(ot)):"^"===a?(r[st]||(r[st]={type:"simple",tokens:Fe}),i.push(st)):"$"===a?(r[lt]||(r[lt]={type:"simple",tokens:ze}),i.push(lt)):(r[a]||s[a]||(r[a]={type:"simple",tokens:a}),i.push(a)),a=""),"."===h)i.length&&m.pos<m.length&&!Qt.test(m[dt](m.pos))?q=!0:a+=h;else if('"'===h||"'"===h)u=$(m,h,"\\",!0),u.length?(g=""+u,r[g]||(r[g]={type:"simple",tokens:u}),i.push(g)):(r[ut]||(r[ut]={type:"simple",tokens:""}),i.push(ut));else if("["===h)u=$(m,"]","\\",!0),g="["+u+"]",r[g]||(r[g]={type:"simple",tokens:d("^(["+("^"===u[dt](0)?"^"+v(u.slice(1)):v(u))+"])")}),i.push(g);else{if("]"===h){a+=h;continue}if("/"===h)u=$(m,h,"\\",!1),k="",u.length&&(m.pos<m.length&&"i"===m[dt](m.pos)&&(m.pos++,k="i"),g="/"+u+"/"+k,r[g]||(r[g]={type:"simple",tokens:d("^("+u+")",{l:0,x:0,i:"i"===k})}),i.push(g));else if("*"===h||"+"===h||"?"===h)i.length?(y=i[i.length-1],g=""+y+h,s[g]||(s[g]={type:"*"===h?"zeroOrMore":"+"===h?"oneOrMore":"zeroOrOne",tokens:[y]}),i[i.length-1]=g):a+=h;else if("{"===h)i.length?(c=$(m,"}",!1),c=t(c.split(","),Ht),c[0].length?c[0]=parseInt(c[0],10)||0:c[0]=0,0>c[0]&&(c[0]=0),2>c.length?c.push(c[0]):c[1].length?c[1]=parseInt(c[1],10)||$t:c[1]=$t,0>c[1]&&(c[1]=0),y=i[i.length-1],g=""+y+["{",c[0],",",isFinite(c[1])?c[1]:"","}"].join(""),s[g]||(s[g]={type:"repeat",repeat:[c[0],c[1]],tokens:[y]}),i[i.length-1]=g):a+=h;else{if("}"===h){a+=h;continue}"&"===h||"!"===h?i.length?(y=i[i.length-1],g=""+y+h,s[g]||(s[g]={type:"!"===h?"negativeLookahead":"positiveLookahead",tokens:[y]}),i[i.length-1]=g):a+=h:"|"===h?(q=!1,i=I(i),i.length>1?(g=""+i.join(" "),s[g]||(s[g]={type:"sequence",tokens:i}),l.push(g)):i.length?l.push(i[0]):a+=h,i=[]):"("===h?(x.push([i,l,a]),i=[],l=[],a=""):")"===h&&(i=I(i),i.length>1?(g=""+i.join(" "),s[g]||(s[g]={type:"sequence",tokens:i}),l.push(g)):i.length&&l.push(i[0]),i=[],l=I(l,1),l.length>1?(g=""+l.join(" | "),s[g]||(s[g]={type:"alternation",tokens:l})):l.length&&(g=l[0]),l=[],b=x.pop(),i=b[0],l=b[1],a=b[2],y=g,g="("+y+")",s[g]||(s[g]=o(M(y,r,s))),i.push(g))}}else a+=h;a.length&&(q?(i.length&&(y=i[i.length-1],g=y+"."+a,p=r[g]||s[g],p||(f=M(y,r,s),s[g]=Lt&e(f)?new String(f):o(f),s[g].modifier=a),i[i.length-1]=g),q=!1):"0"===a?(r[at]||(r[at]={type:"simple",tokens:0}),i.push(at)):"^^"===a?(r[rt]||(r[rt]={type:"simple",tokens:De}),i.push(rt)):"^^1"===a?(r[ot]||(r[ot]={type:"simple",tokens:Ne}),i.push(ot)):"^"===a?(r[st]||(r[st]={type:"simple",tokens:Fe}),i.push(st)):"$"===a?(r[lt]||(r[lt]={type:"simple",tokens:ze}),i.push(lt)):(r[a]||s[a]||(r[a]={type:"simple",tokens:a}),i.push(a))),a="",i=I(i),i.length>1?(g=""+i.join(" "),s[g]||(s[g]={type:"sequence",tokens:i}),l.push(g)):i.length&&l.push(i[0]),i=[],l=I(l,1),l.length>1?(g=""+l.join(" | "),s[g]||(s[g]={type:"alternation",tokens:l}),n=g):l.length&&(n=l[0]),l=[]}return w&&(r[n]||s[n])&&((r[n]||s[n]).modifier=w),n}function N(o,s,a,u,c,p,f,m,h,k,y){var g,x,v,d,$,b,w,q=null,_=null,R=null;if(De===o||Ne===o||Fe===o||ze===o)return new T(o,De===o?rt:Ne===o?$T_FBNL$:Fe===o?st:lt,o,_);if(!1===o||0===o)return new T(Pe,at,0,_);if(""===o)return new T(Ae,ut,"",_);if(null===o)return new T(Ce,it,qt,_,R);if(Mt&e(o)&&(v=o,o="NGRAM_"+v.join("_"),u[o]||(u[o]={type:"ngram",tokens:v})),o=""+o,m[o])return m[o];if($=M(o,a,u),Lt&e($)&&($=D($,a,u),$=a[$]||u[$]||null),!$)return null;if(g=$.type?nt[$.type[vt]().replace(Yt,"")]||Ce:Ce,_=$.msg||null,R=$.modifier||null,x=$.tokens,Ce&g){if(De===x||Ne===x||Fe===x||ze===x||!1===x||0===x)return q=new T(x||Pe,o,x||0,_),m[o]=q,q;if(""===x)return q=new T(Ae,o,"",_),m[o]=q,q;if(null===x)return q=new T(Ce,o,qt,_,R),m[o]=q,q;if(!x)return null}if(Ie&g)$[ft]("action")?"nop"===$.action[0]?$.action[0]=ke:"error"===$.action[0]?$.action[0]=ye:"context-start"===$.action[0]?$.action[0]=be:"context-end"===$.action[0]?$.action[0]=we:"hypercontext-start"===$.action[0]?$.action[0]=qe:"hypercontext-end"===$.action[0]?$.action[0]=_e:"push"===$.action[0]?$.action[0]=Oe:"pop"===$.action[0]?$.action[0]=Ee:"define"===$.action[0]?$.action[0]=ge:"undefine"===$.action[0]?$.action[0]=xe:"defined"===$.action[0]?$.action[0]=ve:"notdefined"===$.action[0]?$.action[0]=de:"unique"===$.action[0]?$.action[0]=$e:"indent"===$.action[0]?$.action[0]=Se:"outdent"===$.action[0]&&($.action[0]=Le):$[ft]("nop")?$.action=[ke,$.nop,!!$["in-context"]]:$[ft]("error")?$.action=[ye,$.error,!!$["in-context"]]:$[ft]("context")?$.action=[$.context?be:we,$.context,!!$["in-context"],!!$["in-hypercontext"]]:$[ft]("hypercontext")?$.action=[$.hypercontext?qe:_e,$.context,!!$["in-context"],!!$["in-hypercontext"]]:$[ft]("context-start")?$.action=[be,$["context-start"],!!$["in-context"],!!$["in-hypercontext"]]:$[ft]("context-end")?$.action=[we,$["context-end"],!!$["in-context"],!!$["in-hypercontext"]]:$[ft]("hypercontext-start")?$.action=[qe,$["hypcontext-start"],!!$["in-context"],!!$["in-hypercontext"]]:$[ft]("hypercontext-end")?$.action=[_e,$["hypcontext-end"],!!$["in-context"],!!$["in-hypercontext"]]:$[ft]("push")?$.action=[Oe,$.push,!!$["in-context"],!!$["in-hypercontext"]]:$[ft]("pop")?$.action=[Ee,$.pop,!!$["in-context"],!!$["in-hypercontext"]]:$[ft]("define")?$.action=[ge,Lt&e($.define)?["*",$.define]:$.define,!!$["in-context"],!!$["in-hypercontext"]]:$[ft]("undefine")?$.action=[xe,Lt&e($.undefine)?["*",$.undefine]:$.undefine,!!$["in-context"],!!$["in-hypercontext"]]:$[ft]("defined")?$.action=[ve,Lt&e($.defined)?["*",$.defined]:$.defined,!!$["in-context"],!!$["in-hypercontext"]]:$[ft]("notdefined")?$.action=[de,Lt&e($.notdefined)?["*",$.notdefined]:$.notdefined,!!$["in-context"],!!$["in-hypercontext"]]:$[ft]("unique")?$.action=[$e,Lt&e($.unique)?["*",$.unique]:$.unique,!!$["in-context"],!!$["in-hypercontext"]]:$[ft]("indent")?$.action=[Se,$.indent,!!$["in-context"],!!$["in-hypercontext"]]:$[ft]("outdent")&&($.action=[Le,$.outdent,!!$["in-context"],!!$["in-hypercontext"]]),!1===$.msg&&(_=!1),$.nop&&($.action[0]=ke),q=new T(Ie,o,$.action.slice(),_,R),q.ci=!!$.caseInsensitive||$.ci,m[o]=q;else if(x=l(x),Ce&g){w=$.autocomplete?L($,Pt&e($.autocomplete)?l($.autocomplete):x,o,y):null;var j={};if(b="undefined"!=typeof $.combine?$.combine:!!(Mt&e($.tokens)),q=new T(Ce,o,O(o,x.slice(),s,b,!(!$.caseInsensitive&&!$.ci),p,f,j),_,R,null,w),j.keywords&&(q.keywords=j.keywords.join("|")),m[o]=q,null!=$.except){var I,z,F=l($.except),P=F.length,A=[];for(I=0;P>I;I++)F[I]&&(z=N(F[I],s,a,u,c,p,f,m,h,k,y),z&&A.push(z));A.length&&(q.except=A)}}else Te&g?(Ge===g&&S($,k),q=new T(g,o,E(o,x.slice(),s,p,f),_),q.empty=$[ft]("empty")?!!$.empty:!0,q.mline=$[ft]("multiline")?!!$.multiline:!0,q.esc=$[ft]("escape")?$.escape:!1,q.inter=!!c[o+".inside"],Ge===g&&$.interleave&&h.push(H(q)),R&&(q.modifier=R),m[o]=q):tt&g&&(Ze===g?m[o]=new T(Ze,o,x,_,R):Xe===g?(d=i(x),q=t(d,function(e,t){return new T(Xe,o+"_NGRAM_"+t,null,_,R)}),m[o]=q,r(function(e){q[e].token=l(n(d[e],function(e,t){return e.concat(N(t,s,a,u,c,p,f,m,h,k,y))},[]))},0,d.length-1)):(Je===g||Qe===g?q=new T(g,o,null,_,R):Ue&g&&Mt&e($.repeat)?(q=new T(Ue,o,null,_,R),q.min=$.repeat[0],q.max=$.repeat[1]):Ye===g?(q=new T(Ye,o,null,_,R),q.min=0,q.max=1):Ke===g?(q=new T(Ke,o,null,_,R),q.min=0,q.max=$t):Ve===g?(q=new T(Ve,o,null,_,R),q.min=1,q.max=$t):q=He===g?new T(He,o,null,_,R):new T(Be,o,null,_,R),m[o]=q,q.token=l(n(x,function(e,t){return e.concat(N(t,s,a,u,c,p,f,m,h,k,y))},[]))));return m[o]}function z(t){var n={};return t.Lex=t.Lex||{},t.Syntax=t.Syntax||{},t=R(t),t.Parser&&t.Parser.length&&r(function o(s,l){var i,a,u,c=l[s];n[c]||(Mt&e(c)&&(i=c,c="NGRAM_"+i.join("_"),t.Syntax[c]||(t.Syntax[c]={type:"ngram",tokens:i})),a=M(c,t.Lex,t.Syntax),Lt&e(a)&&(a=D(a,t.Lex,t.Syntax),a=t.Lex[a]||t.Syntax[a]||null),a&&(n[c]=a,u=a.type?nt[a.type[vt]().replace(Yt,"")]||Ce:Ce,tt&u&&r(o,0,a.tokens.length-1,a.tokens)))},0,t.Parser.length-1,t.Parser),t}function F(t){var r,s,l,i,a,u,c,p,f,m,h,k,y,g;return t.__parsed?t:(r=t.RegExpID||null,l=t.Extra?o(t.Extra):{},i=t.Style?o(t.Style):{},a=null,u=null,c=t.Lex?o(t.Lex):{},p=t.Syntax?o(t.Syntax):{},f={},m={},h={},y={},g={},k=[],s=t.Parser?o(t.Parser):[],t=R({Style:i,Fold:a,Match:u,Lex:c,Syntax:p,$parser:null,$interleaved:null,$comments:null,$autocomplete:null,$extra:l,__parsed:0}),t.$parser=n(s,function(t,n){var o=N(n,r,c,p,i,f,m,h,k,y,g)||null;return o&&(Mt&e(o)?t=t.concat(o):t.push(o)),t},[]),t.$interleaved=k&&k.length?k:null,t.$comments=y,t.$autocomplete=g&&g.autocomplete&&g.autocomplete.length?g.autocomplete:null,t.__parsed=1,t)}function P(t,n,r,o,s){var l,i,a=this;l=a.type=t,a.name=n,a.pattern=r,i=a.ptype=o||Lt,a.key=s||0,je===l?a.key=!1!==s:Me===l?a.pattern[0]=new P(je,n+"_Start",r[0],null,!1):qt===i?a.pattern=null:Nt===i&&(a.pattern=Nt&e(r)?[r,0]:[r[0],r[1]||0])}function A(t,n,r,o){var s,l,i,a,u,c,p,f,m,h,k,y=t,g=y.type,x=y.pattern,v=y.key;if(Me===g){if(s=y.name,i=x[0],a=x[1],c=A(i,n,r,o))return u=a[c[0]],f=e(u),m=i.pattern[c[0]].ptype,Nt===m&&Ft&f&&(u.regex_pattern?(p=b(u,c[1]),u=new P(Re,s+"_End",w(p,u.regex_pattern,{}),Nt)):(p=_t&f?c[1][u+1]:b(u,c[1]),u=new P(Re,s+"_End",p,p.length>1?Lt:Rt))),u}else if(je===g){for(h=0,k=x.length;k>h;h++)if(p=A(x[h],n,r,o))return v?[h,p[1]]:p}else{if(l=y.ptype,qt===l)return!1!==r&&n.end(),[v,""];if(Nt===l){if(p=x[0].xflags.l?n.match(x[0]):n.slice(n.pos).match(x[0]),p&&0===p.index)return!1!==r&&n.mov(p[x[1]||0].length),[v,x[1]>0?p[x[1]]:p]}else if(jt===l){if(!0===o){p=-1;var d,$;for(k=x.length-1;k>=0;k--)d=n.indexOf(x[dt](k),n.pos),d>-1&&(-1===p||p>d)&&(p=d,$=x[dt](k));if(p>-1)return!1!==r&&(n.pos=p+1),[v,$]}else if(p=n[dt](n.pos)||null,p&&-1<x.indexOf(p))return!1!==r&&n.mov(1),[v,p]}else if(Rt===l){if(!0===o){if(p=n.indexOf(x,n.pos),p>-1)return!1!==r&&(n.pos=p+1),[v,x]}else if(p=n[dt](n.pos)||null,x===p)return!1!==r&&n.mov(1),[v,p]}else if(Lt===l)if(k=x.length,!0===o){if(p=n.indexOf(x,n.pos),p>-1)return!1!==r&&(n.pos=p+k),[v,x]}else if(x===n.substr(n.pos,k))return!1!==r&&n.mov(k),[v,x]}return!1}function C(e,t){this.val=e||null,t?this.prev=t:this.prev=null}function T(e,t,n,r,o,s,l,i){var a=this;a.type=e,a.name=t,a.token=n,a.modifier=o||null,a.except=s||null,a.autocompletions=l||null,a.keywords=i||null,a.pos=null,a.msg=!1===r?!1:r||null,a.$msg=null,a.status=0,a.empty=!1,a.ci=!1,a.mline=!0,a.esc=!1,a.inter=!1,a.found=0,a.min=0,a.max=1,a.i0=0,a.$id=null}function G(){var e=this;e.T=0,e.id=null,e.type=null,e.match=null,e.str="",e.pos=null,e.block=null,e.space=null}function H(e,t,n,r){var o=new T(e.type,e.name,e.token,e.msg,e.modifier,e.except,e.autocompletions,e.keywords);return o.empty=e.empty,o.ci=e.ci,o.mline=e.mline,o.esc=e.esc,o.inter=e.inter,o.found=e.found,o.min=e.min,o.max=e.max,o.i0=e.i0,t&&(o.status|=ce),n&&(o.modifier=n),r&&(o.$id=r),o}function B(e){var t=e.name;return e.$msg?e.$msg:e.status&ce?'Token "'+t+'"'+(e.keywords?": "+e.keywords:"")+" Expected":'Syntax Error: "'+t+'"'}function U(e,t,n,r,o,s,l){e.status&ae&&e.err&&(e.err[""+t+"_"+n+"_"+r+"_"+o+"_"+(s?s.name:"ERROR")]=[t,n,r,o,l||B(s)])}function Y(e,t,n,r){if(r)return e&&e[ft](t)?e[t]:null;for(var o=null,s=null;e;){if(t===e.val[0]&&(s={prev:e.prev,next:o,node:e,val:e.val[1]},!n))return s;o=e,e=e.prev}return s}function K(e,t,n,r){return r?(e[t]=n,e):new C([t,n],e)}function V(e,t,n){if(e.stack===t)t=e.stack=new C(n,e.stack);else{for(var r=e.stack;r&&r.prev!==t;)r=r.prev;t=new C(n,t),r&&(r.prev=t)}return t}function W(e,t){if(null==e)return null;if(t){for(var n=new C(e.val),r=n,o=e;o.prev;)r.prev=new C(o.prev.val),o=o.prev,r=r.prev;return n}return e}function J(e,t,n,r){var o,s,l,i,a,u=1/0,c=null,p=1/0;if(s=t.pos,t.spc(),l=t.pos,o=e.stack,t.pos<t.length){for(a=0;o&&(i=o.val,i.$id===r.$id);){for(;!(Ie===i.type||Q(i,t,e,n)||(t.pos=i.pos>t.pos?i.pos:t.pos+1,e.stack=o,t.pos>=t.length)););e.stack=o,t.pos<t.length&&u>t.pos?(u=t.pos,c=o,p=a):u===t.pos&&p>a&&(u=t.pos,c=o,p=a),t.pos=l,o=o.prev,a++}u<t.length?(t.pos=u,e.stack=c):(t.end(),e.stack=null)}return l>=s&&t.pos===l}function Q(e,t,n,r){if(!e)return!1;var o=e.type,s=tt&o?te:Te&o?ee:Ie&o?X:Z;return s(e,t,n,r)}function X(t,n,r,o){var s,l,i,a,u,c,p,f,m,h,k,y,g,x,v,d,$,w=t,q=w.token||null,_=w.ci,O=w.name,E=!(r.status&ae);if(w.status=0,w.$msg=null,!q||!o||!o.pos)return!0;if($=!!(Te&o.T),ke===q[0]||$&&!o.block)return!0;if(s=q[0],l=q[1],g=q[2],x=q[3],u=w.msg,$?(d=o.block.match||o.block.str,m=o.block.pos[0][0],h=o.block.pos[0][1],k=o.block.pos[0][2],y=o.block.pos[0][3]):(d=o.match||o.str,m=o.pos[0],h=o.pos[1],k=o.pos[2],y=o.pos[3]),we===s)r.ctx=r.ctx?r.ctx.prev:null;else if(be===s)r.ctx=new C({symb:null,queu:null},r.ctx);else if(_e===s)r.hctx=r.hctx?r.hctx.prev:null;else if(qe===s)r.hctx=new C({symb:null,queu:null},r.hctx);else if(ge===s)p=x&&r.hctx?r.hctx.val.symb:g&&r.ctx?r.ctx.val.symb:r.symb,i=l[1],a=l[0],i=b(i,d,!0),_&&(i=i[vt]()),a+="::"+i,f=Y(p,a),(!f||f.val[0]>m||f.val[0]===m&&f.val[1]>h||f.val[0]===m&&f.val[1]===h&&(f.val[2]>k||f.val[3]>y))&&(f?(f.val[0]=m,f.val[1]=h,f.val[2]=k,f.val[3]=y):x&&r.hctx?r.hctx.val.symb=K(r.hctx.val.symb,a,[m,h,k,y]):g&&r.ctx?r.ctx.val.symb=K(r.ctx.val.symb,a,[m,h,k,y]):r.symb=K(r.symb,a,[m,h,k,y]));else if(xe===s){if(p=x&&r.hctx?r.hctx.val.symb:g&&r.ctx?r.ctx.val.symb:r.symb,!p)return!0;i=l[1],a=l[0],i=b(i,d,!0),_&&(i=i[vt]()),a+="::"+i,f=Y(p,a),f&&(f.val[0]<m||f.val[0]===m&&f.val[1]<=h)&&(f.next?f.next.prev=f.prev:x&&r.hctx?r.hctx.val.symb=r.hctx.val.symb.prev:g&&r.ctx?r.ctx.val.symb=r.ctx.val.symb.prev:r.symb=r.symb.prev)}else if(ve===s){if(p=x&&r.hctx?r.hctx.val.symb:g&&r.ctx?r.ctx.val.symb:r.symb,i=l[1],a=l[0],i=b(i,d,!0),_&&(i=i[vt]()),a+="::"+i,f=Y(p,a),!f||f.val[0]>m||f.val[0]===m&&f.val[1]>h||f.val[0]===m&&f.val[1]===h&&(f.val[2]>k||f.val[3]>y))return!1!==u&&(w.$msg=u?b(u,i,!0):'Undefined "'+i+'"',v=B(w),U(r,m,h,k,y,w,v),w.status|=pe),f&&(f.next?f.next.prev=f.prev:x&&r.hctx?r.hctx.val.symb=r.hctx.val.symb.prev:g&&r.ctx?r.ctx.val.symb=r.ctx.val.symb.prev:r.symb=r.symb.prev),!1}else if(de===s){if(p=x&&r.hctx?r.hctx.val.symb:g&&r.ctx?r.ctx.val.symb:r.symb,!p)return!0;if(i=l[1],a=l[0],i=b(i,d,!0),_&&(i=i[vt]()),a+="::"+i,f=Y(p,a,1),f&&(f.val[0]<m||f.val[0]===m&&f.val[1]<=h||f.val[0]===m&&f.val[1]===h&&f.val[2]<=k&&f.val[3]<=y))return!1!==u&&(w.$msg=u?b(u,i,!0):'Defined "'+i+'"',v=B(w),U(r,f.val[0],f.val[1],f.val[2],f.val[3],w,v),U(r,m,h,k,y,w,v),w.status|=pe),!1}if(E)return!0;if(ye===s)return!u&&Lt&e(l)&&(u=l),w.$msg=u?b(u,d,!0):'Error "'+O+'"',U(r,m,h,k,y,w,B(w)),w.status|=pe,!1;if($e===s){if(x){if(!r.hctx)return!0;p=r.hctx.val.symb}else if(g){if(!r.ctx)return!0;p=r.ctx.val.symb}else p=r.symb;if(i=l[1],a=l[0],i=b(i,d,!0),_&&(i=i[vt]()),a+="::"+i,f=Y(p,a))return!1!==u&&(w.$msg=u?b(u,i,!0):'Duplicate "'+i+'"',v=B(w),U(r,f.val[0],f.val[1],f.val[2],f.val[3],w,v),U(r,m,h,k,y,w,v),w.status|=pe),!1;x?r.hctx.val.symb=K(r.hctx.val.symb,a,[m,h,k,y]):g?r.ctx.val.symb=K(r.ctx.val.symb,a,[m,h,k,y]):r.symb=K(r.symb,a,[m,h,k,y])}else if(Ee===s){if(x){if(!r.hctx)return!0;c=r.hctx.val.queu}else if(g){if(!r.ctx)return!0;c=r.ctx.val.queu}else c=r.queu;if(l){if(l=b(l,d),_&&(l=l[vt]()),!c||l!==c.val[0])return!1!==u&&(c?(w.$msg=u?b(u,[c.val[0],l],!0):'Mismatched "'+c.val[0]+'","'+l+'"',v=B(w),U(r,c.val[1],c.val[2],c.val[3],c.val[4],w,v),U(r,m,h,k,y,w,v),c=c.prev):(w.$msg=u?b(u,["",l],!0):'Missing matching "'+l+'"',v=B(w),U(r,m,h,k,y,w,v)),w.status|=pe),x?r.hctx&&(r.hctx.val.queu=c):g?r.ctx&&(r.ctx.val.queu=c):r.queu=c,!1;c=c?c.prev:null}else c=c?c.prev:null;x?r.hctx&&(r.hctx.val.queu=c):g?r.ctx&&(r.ctx.val.queu=c):r.queu=c}else if(Oe===s&&l){if(x){if(!r.hctx)return!0;c=r.hctx.val.queu}else if(g){if(!r.ctx)return!0;c=r.ctx.val.queu}else c=r.queu;l=b(l,d),_&&(l=l[vt]()),w.$msg=u?b(u,l,!0):'Missing matching "'+l+'"',c=new C([l,m,h,k,y,B(w)],c),x?r.hctx&&(r.hctx.val.queu=c):g?r.ctx&&(r.ctx.val.queu=c):r.queu=c}return!0}function Z(e,t,n,r,o){var s,l,i=e,a=i.token,u=i.modifier,c=i.type,p=i.name,f=i.except,m=n.line,h=t.pos,k=null,y=!1;if(i.status&=me,i.$msg=o?null:i.msg||null,i.pos=t.pos,f&&!o){l=re(n,t);for(var g=0,x=f.length;x>g;g++)if(s=f[g],i!==s&&Ce===s.type&&Z(s,t,n,r,1))return i.pos=s.pos,re(n,t,l),!1}if(De===c)y=0===n.line;else if(Ne===c)y=n.bline+1===n.line;else if(Fe===c)y=t.sol();else if(ze===c)t.spc(),t.eol()?y=p:(i.pos=t.pos,t.bck(h));else if(Pe===c)i.status=0,y=!0;else if(Ae===c){if(null==r.space||t.eol()?t.spc()&&!t.eol()?(i.pos=t.pos,t.bck(h),i.status&ce&&(i.status|=pe)):y=!0:i.status&ce&&(i.status|=pe),i.status&=fe,!0===y)return y}else qt===a?(t.end(),y=u||p):(k=A(a,t))&&(k=k[1],y=u||p);return o?y:(!1!==y&&(r.T=c,r.id=p,r.type=y,r.str=t.sel(h,t.pos),r.match=k,r.pos=[m,h,m,t.pos]),!y&&i.status&&i.$msg&&(i.$msg=b(i.$msg,p,!0)),y)}function ee(e,t,n,r){var o,s,l,i,a,u,c,p,f,m,h,k,y,g,x,v,d,$,w,q,_,O,E=e,S=E.name,L=E.type,R=E.modifier,j=E.token,M=E.mline,I=E.inter,D=I?S+".inside":S,N=E.esc,z=!!N,F="",P="",C="",T="",G=E.$id||S,B=n.outer,U=B&&B[2],Y=B&&B[1];if(E.status&=me,E.$msg=E.msg||null,E.pos=t.pos,q=n.line,_=t.pos,Ge===L&&(E.status&=fe),x=E.status&ce,l=0,i=0,n.block&&n.block.name===S?(i=1,l=1,g=D,o=n.block.end,p=n.block.sp,m=n.block.ip,f=n.block.ep,F=n.block.s,P=n.block.i):!n.block&&(o=A(j,t))&&(i=1,g=S,d=t.pos,p=[q,_],m=[[q,d],[q,d]],f=[q,d],F=t.sel(_,d),P="",T="",n.block={name:S,end:o,sp:p,ip:m,ep:f,s:F,i:P,e:T}),i){if(w=n.stack,s=qt===o.ptype,v=s||E.empty,I){if(s&&l&&t.sol())return E.status&=fe,n.block=null,!1;if(!l)return d=t.pos,r.T=L,r.id=S,r.type=R||g,r.str=t.sel(_,d),r.match=null,r.pos=[q,_,q,d],V(n,w,H(E,x,0,G)),R||g}if(d=t.pos,a=Y?s&&t.eol():A(o,t),c=M,u=0,a)g=s?D:S,T=t.sel(d,t.pos);else if($=t.pos,k=!1,Y||z||jt!==o.ptype&&Rt!==o.ptype&&Lt!==o.ptype){for(;!t.eol();){if(Y){if(Q(Y,t,U,r)){if(t.pos>$){s&&(a=1);break}return!0}if(s){y=t.nxt(1),C+=y;continue}}if(d=t.pos,
!k&&A(o,t)){I&&t.pos>d&&d>$?(g=D,t.bck(d),u=1):(g=S,a=1),T=t.sel(d,t.pos);break}y=t.nxt(1),C+=y,k=z&&!k&&N===y,d=t.pos}s&&t.eol()&&(a=1)}else(O=A(o,t,!0,!0))?I&&t.pos>d+O[1].length?(g=D,t.mov(-O[1].length),u=1,C=t.sel(d,t.pos)):(g=S,a=1,C=t.sel(d,t.pos-O[1].length),T=O[1]):(t.end(),g=D,u=1,C=t.sel(d,t.pos));return c=M||z&&k,P+=C,m[1]=[q,d],f=[q,t.pos],a&&!v&&m[0][0]===m[1][0]&&m[0][1]===m[1][1]?(n.block=null,!1):(a||!c&&!u?n.block=null:(n.block.ip=m,n.block.ep=f,n.block.i=P,n.block.e=T,V(n,w,H(E,x,0,G))),r.T=L,r.id=S,r.type=R||g,r.str=t.sel(_,t.pos),r.match=null,r.pos=[q,_,f[0],f[1]],E.pos=t.pos,n.block||(h=F+P+T,r.block={str:h,match:[h,P,F,T],part:[h,F,P,T],pos:[[p[0],p[1],f[0],f[1]],[p[0],p[1],m[0][0],m[0][1]],[m[0][0],m[0][1],m[1][0],m[1][1]],[m[1][0],m[1][1],f[0],f[1]]]}),R||g)}return E.status&&E.$msg&&(E.$msg=b(E.$msg,S,!0)),!1}function te(e,t,n,r){var o,s,l,i,a,u,p,f,m,h,k,y,g,x,v,d=e,$=d.type,b=(d.name,d.token),w=b.length,q=d.modifier;if(d.status&=me,d.$msg=d.msg||null,f=t.pos,m=n.stack,d.pos=t.pos,u=0,p=0,Ze===$){d.status&=me;var _=new String(b[0]),O=n.stack?n.stack.val:null;return _.subgrammar=1,_.next=O?new T(Je,O.name,[O]):null,_.required=O?O.status&ce:0,_}if(He===$){for(g=c(),d.status|=ce,y=[],v=re(n,t),k=0,h=k;w>h;h++){if(o=H(b[h],1,q,g),s=Q(o,t,n,r),d.pos=o.pos,o.status&ce&&(u++,y.push(B(o))),!1!==s)return s;o.status&pe&&(p++,re(n,t,v))}return u>0?d.status|=ce:d.status&=fe,w===p&&u>0?d.status|=pe:d.status&=me,d.status&&!d.$msg&&y.length&&(d.$msg=y.join(" | ")),!1}if(et&$){x=!!($&Be),g=d.$id||c(),x?d.status|=ce:d.status&=fe,v=re(n,t),k=0;do o=H(b[k++],x,q,g),s=Q(o,t,n,r);while(w>k&&(!0===s&&We&o.type||!1===s&&!(o.status&ce)));if(d.pos=o.pos,!1!==s){if(!0!==s||Pe!==o.type)for(h=w-1;h>=k;h--)m=V(n,m,H(b[h],1,q,g));return s.subgrammar&&w>k&&(s.next=new T(Je,b[k].name,[b[k]]),s.required=b[k].status&ce),s}return o.status&pe?(x?d.status|=pe:d.status&=me,re(n,t,v)):x&&o.status&ce&&(d.status|=pe),d.status&&!d.$msg&&(d.$msg=B(o)),!1}if(We&$)return Ze&b[0].type?!0:(v=re(n,t,null,!1),s=Q(H(b[0],0),t,n,r),re(n,t,v),Qe===$?!1===s:!1!==s);for(g=d.$id||c(),l=d.found,i=d.min,a=d.max,d.status=0,y=[],v=re(n,t),h=0;w>h;h++){if(o=H(b[h],1,q,g),s=Q(o,t,n,r),d.pos=o.pos,!1!==s){if(++l,a>=l)return d.found=l,V(n,m,H(d,0,0,c())),d.found=0,s;break}o.status&ce&&(u++,y.push(B(o))),o.status&pe&&re(n,t,v)}return i>l&&(d.status|=ce),(l>a||i>l&&u>0)&&(d.status|=pe),d.status&&!d.$msg&&y.length&&(d.$msg=y.join(" | ")),!1}function ne(e,t){var n=this;n.id=e?p("state"):"state",t instanceof ne?(n.line=t.line,n.bline=t.bline,n.status=t.status,n.stack=W(t.stack,!1),n.token=t.token,n.token2=t.token2,n.block=t.block,n.outer=t.outer?[t.outer[0],t.outer[1],new ne(e,t.outer[2])]:null,n.queu=t.queu||null,n.symb=t.symb||null,n.ctx=t.ctx||null,n.hctx=t.hctx||null,n.err=t.err||null,n.$eol$=t.$eol$,n.$blank$=t.$blank$):(n.line=-1,n.bline=-1,n.status=t||0,n.stack=null,n.token=null,n.token2=null,n.block=null,n.outer=null,n.queu=null,n.symb=null,n.ctx=null,n.hctx=null,n.err=n.status&ae?{}:null,n.$eol$=!0,n.$blank$=!0)}function re(e,t,n,r){return n?(e.status=n[0],e.block=n[1],e.outer=n[2],e.stack=n[3],t&&t.pos>n[4]&&t.bck(n[4]),void 0):(n=[e.status,e.block,e.outer,e.stack,t?t.pos:1/0],!1===r&&(e.status=0),n)}function oe(e){e.id=null,e.line=null,e.bline=null,e.status=null,e.stack=null,e.token=null,e.token2=null,e.block=null,e.outer=null,e.queu=null,e.symb=null,e.ctx=null,e.hctx=null,e.err=null}function se(e,t,n){var r=new String(e);return r.start=t||0,r.pos=n||0,r.sol=function(){return 0===r.pos},r.eol=function(){return r.pos>=r.length},r.end=function(){return r.pos=r.length,r},r.mov=function(e){return r.pos=0>e?gt(0,r.pos+e):xt(r.length,r.pos+e),r},r.bck=function(e){return r.pos=gt(0,e),r},r.sft=function(){return r.start=r.pos,r},r.nxt=function(e,t){var n,o,s="";if(!0===e){for(t=t||se.$NONSPC$;r.pos<r.length&&t.test(n=r[dt](r.pos++));)s+=n;return s.length?s:null}for(e=e||1,o=0;o++<e&&r.pos<r.length;)s+=r[dt](r.pos++);return s},r.cur=function(e){var t=r.slice(r.start,r.pos);return e&&(r.start=r.pos),t},r.sel=function(e,t){return r.slice(e,t)},r.spc=function(e,t){var n;return(n=r.slice(r.pos).match(t||se.$SPC$))?(!1!==e&&r.mov(n[0].length),n[0]):void 0},r}function le(e,n){var o=function(e){return new n.Match(e.token,e.pos,e.type)},s=n.Highlighter,l=m(s,{constructor:function(){var e=this;s.call(e)},findMatches:function(e,n){var s=l.escapeHtml;s&&(n=x(n));var i=l.$parser.parse(n,ie|ae|ue).tokens;if(s){var a=0;r(function(e,t){var n=t[e];n.pos=a,n.token=g(n.token,1),a+=n.token.length},0,i.length-1,i)}return t(i,o)}});return l.$id=p("syntaxhighlighter_grammar_brush"),l.$parser=new rn.Parser(F(e)),l.escapeHtml=!0,l.submode=function(e,t){l.$parser.subparser(e,t.$parser)},l.dispose=function(){l.$parser&&l.$parser.dispose(),l.$parser=null},l}var ie=1,ae=2,ue=32,ce=4,pe=8,fe=~ce,me=~pe,he=ce|pe,ke=0,ye=4,ge=8,xe=9,ve=10,de=11,$e=12,be=16,we=17,qe=18,_e=19,Oe=32,Ee=33,Se=128,Le=129,Re=2,je=4,Me=8,Ie=4,De=8,Ne=9,ze=16,Fe=32,Pe=128,Ae=256,Ce=512,Te=1024,Ge=1025,He=2048,Be=4096,Ue=8192,Ye=8193,Ke=8194,Ve=8195,We=16384,Je=We,Qe=16385,Xe=32768,Ze=65536,et=Be|Xe,tt=He|Be|Ue|We|Xe|Ze,nt={action:Ie,simple:Ce,block:Te,comment:Ge,subgrammar:Ze,alternation:He,sequence:Be,repeat:Ue,zeroorone:Ye,zeroormore:Ke,oneormore:Ve,positivelookahead:Je,negativelookahead:Qe,ngram:Xe},rt="$|SOF|$",ot="$|NONBLANK|$",st="$|SOL|$",lt="$|EOL|$",it="$|ENDLINE|$",at="$|EMPTY|$",ut="$|NONSPACE|$",ct=void 0,pt="prototype",ft="hasOwnProperty",mt="propertyIsEnumerable",ht=Object[pt],kt=ht.toString,yt=Object.create,gt=Math.max,xt=Math.min,vt="toLowerCase",dt="charAt",$t=1/0,bt=4,wt=8,qt=16,_t=32,Ot=33,Et=34,St=64,Lt=128,Rt=129,jt=130,Mt=256,It=512,Dt=1024,Nt=2048,zt=4096,Ft=Lt|_t,Pt=Lt|Mt,At=Nt|Mt,Ct=Lt|Mt|Nt,Tt={"[object Number]":_t,"[object String]":Lt,"[object Array]":Mt,"[object RegExp]":Nt,"[object Date]":zt,"[object Function]":Dt,"[object Object]":It},Gt=/^\s+|\s+$/g,Ht=String[pt].trim?function(e){return e.trim()}:function(e){return e.replace(Gt,"")},Bt=function(e,t){return t.length-e.length},Ut=/\r\n|\r|\n/g,Yt=/[\-_]/g,Kt=0,Vt=/([.*+?^${}()|[\]\/\\\-])/g,Wt=/[&"'<>]/g,Jt=/&(amp|lt|gt|apos|quot);/g,Qt=/^([.!&\[\]{}()*+?\/|'"]|\s)/,Xt="(\\s|\\W|$)",Zt=/(l?i?l?)x(l?i?l?)$/,en=/[*+]$/;ne.prototype.toString=function(){var e=this;return e.id+"_"+e.line+"_"+e.bline+"_"+(e.block?e.block.name:"0")},se.$SPC$=/^[\s\u00a0]+/,se.$NONSPC$=/[^\s\u00a0]/,se.$NOTEMPTY$=/\S/,se.$SPACE$=/^\s*/;var tn=m({constructor:function(e,t,n){var r=this;r.$grammar=e,r.$DEF=t||null,r.$ERR=n||null,r.DEF=r.$DEF,r.ERR=r.$ERR,r.$folders=[],r.$matchers=[],r.$subgrammars={}},$grammar:null,$subgrammars:null,$folders:null,$matchers:null,$n$:"name",$t$:"type",$v$:"token",$DEF:null,$ERR:null,DEF:null,ERR:null,dispose:function(){var e=this;return e.$grammar=e.$subgrammars=null,e.$folders=e.$matchers=null,e.$n$=e.$t$=e.$v$=null,e.$DEF=e.$ERR=e.DEF=e.ERR=null,e},token:function(e,t,n){if(t.token2){var r=t.token2[0];return e.pos=t.token2[1],e.sft(),t.token=t.token2[3],t.$eol$=e.eol(),t.$blank$=t.$blank$&&(t.token2[2]||t.$eol$),t.token2=null,r}var o,s,l,i,a,u,c,p,f,m,h,k,y,g,x,v,d,$,b=this,w=b.$grammar,q=w.Style,_=b.DEF,O=b.ERR,r={},E=b.$n$,S=b.$t$,L=b.$v$,R=w.$interleaved,j=w.$parser,M=j.length,I=R?R.length:0,D=t.outer,N=D&&D[2],z=D&&D[1];if(e.sol()&&(t.$eol$&&(t.$blank$&&(t.bline=t.line),t.$eol$=!1,t.line++),t.$blank$=t.bline+1===t.line),t.$actionerr$=!1,t.token=null,i=t.line,a=e.pos,m=!1,k=!0,h=!1,y=!1,D&&b===D[0]){if(r[E]=null,r[S]=_,r[L]=null,z){if(l=new G,Q(z,e,N,l))return t.outer=null,{parser:b,state:N};for(e.nxt(1);!e.eol();){if(Q(z,e,N,l)){if(e.pos>a)break;return t.outer=null,{parser:b,state:N}}e.nxt(1)}}else e.spc(),e.eol()?y=!0:e.end();return r[L]=e.cur(1),t.$eol$=e.eol(),t.$blank$=t.$blank$&&(y||t.$eol$),r}if(t.stack&&ze===t.stack.val.type&&e.sol()&&(t.stack=t.stack.prev),(!t.stack||null==t.block)&&e.spc()){if(t.stack&&Ze===t.stack.val.type)return e.bck(a),o=t.stack.val,t.stack=t.stack.prev,m=Q(o,e,t,l),g=""+m,b.$subgrammars[g]?(x=b.$subgrammars[g],v=new ne(1,n[g]?n[g]:t.status),N=t):(x=b,v=new ne,N=t),v.outer=[b,m.next,N],{parser:x,state:v,toInner:g};k=!0,y=!0}if(r[E]=null,r[S]=_,r[L]=null,k)for(l=new G,y&&(l.space=[a,e.pos],e.sft()),u=0;k&&(t.stack||M>u)&&!e.eol();){if(p=e.pos,f=t.stack,z){if(e.spc(),Q(z,e,N,l))return l.space||e.pos>p?(l.space&&(e.start=l.space[0],e.pos=l.space[1]),r[L]=e.cur(1),t.$eol$=e.eol(),t.$blank$=t.$blank$&&!0,r):(t.outer=null,{parser:D[0],state:N,fromInner:t});e.bck(p)}if(d=!1,I&&!t.block)for(c=0;I>c;c++)if(o=R[c],m=Q(o,e,t,l),!1!==m){d=!0;break}if(k&&!d){if(!t.stack&&u>=M)break;t.stack?(o=t.stack.val,t.stack=t.stack.prev):o=j[u++],m=Q(o,e,t,l)}if(!1===m){if(o.status&he){t.token=o,y=J(t,e,l,o)||y,h=!0,k=!1;break}}else{if(m.subgrammar)return g=""+m,b.$subgrammars[g]?(x=b.$subgrammars[g],v=new ne(1,n[g]?n[g]:t.status),N=t):(x=b,v=new ne,N=t),v.outer=[b,m.next,N],l.space?(t.token2=[{parser:x,state:v,toInner:g},e.pos,y,t.token],t.token=null,e.start=l.space[0],e.pos=l.space[1],r[L]=e.cur(1),t.$eol$=e.eol(),t.$blank$=t.$blank$&&!0,r):{parser:x,state:v,toInner:g};if(t.stack&&t.stack.prev&&e.eol()&&Te&t.stack.val.type&&t.block&&t.block.name===t.stack.val.name)for(c=t.stack.prev;c&&Ie===c.val.type;)s=c,c=c.prev,$=X(s,e,t,l),s.status&pe?t.$actionerr$=!0:$&&!0!==m&&s.modifier&&(m=s.modifier);else if(t.stack&&Ie===t.stack.val.type)for(;t.stack&&Ie===t.stack.val.type;)s=t.stack.val,t.stack=t.stack.prev,$=X(s,e,t,l),s.status&pe?t.$actionerr$=!0:$&&!0!==m&&s.modifier&&(m=s.modifier);if(!0!==m){k=!1;break}}}return k&&(l.space?(e.start=l.space[0],e.pos=l.space[1],m=!1,l.space=null):e.nxt(1)),r[L]=e.cur(1),!1!==m?(m=m?q[m]||_:_,r[E]=o?o.name:null):h?(m=O,t.status&ae&&U(t,i,a,i,e.pos,o)):m=_,r[S]=m,l.space&&(t.token2=[r,e.pos,y,t.token],t.token=null,e.start=l.space[0],e.pos=l.space[1],r={},r[E]=null,r[S]=_,r[L]=e.cur(1),y=!0),t.$eol$=e.eol(),t.$blank$=t.$blank$&&(y||t.$eol$),r},get:function(e,t){for(var n=t.parser.token(e,t.state,t.inner);n&&n.parser;)n.fromInner&&t.parser!==n.parser&&(t.state.err=n.fromInner.err,t.name&&(t.inner[t.name]=n.fromInner)),n.state.err=t.state.err,n.state.line=t.state.line,n.state.bline=t.state.bline,n.state.$blank$=t.state.$blank$,n.state.$eol$=t.state.$eol$,n.state.$full_parse$=t.state.$full_parse$,t.state=n.state,t.parser=n.parser,t.name=n.toInner,n=t.parser.get(e,t);return n},tokenize:function(e,t,n,r){if(r=r||[],e.eol())t.state.line++,t.state.$blank$&&t.state.bline++;else for(;!e.eol();)r.push(t.parser.get(e,t));return r},parse:function(e,t){var n,o,s,l,i,a,u=(e||"").split(Ut),c=u.length,p=null;if(t=t||ie,s=!!(t&ae),l=!!(t&ie),o={parser:this,state:new ne(0,t),inner:{}},o.state.$full_parse$=!0,r(function(e){u[e]+="\n"},0,c-2),l?p=r(t&ue?function(e,t){o.parser.tokenize(se(u[e]),o,e,t)}:function(e,t){t.push(o.parser.tokenize(se(u[e]),o,e))},0,c-1,[]):r(function(e){var t=se(u[e]);if(t.eol())o.state.line++,o.state.$blank$&&o.state.bline++;else for(;!t.eol();)o.parser.get(t,o)},0,c-1),n=o.state,s&&n.queu)for(;n.queu;)i=n.queu.val,n.queu=n.queu.prev,U(n,i[1],i[2],i[3],i[4],null,i[5]);return a=l&&s?{tokens:p,errors:n.err}:l?p:n.err,oe(n),o=n=null,a},autocompletion:function(e,t){var n,r,o=e.stack,s={},l=j([e.token],[],s);for(t=t||0;o;){if(n=o.val,r=n.type,Ue&r){if(l=j([n],l,s),0<n.min&&t<l.length)break}else if((Ce===r||He===r||et&r)&&(l=j([n],l,s),t<l.length))break;o=o.prev}return l},subparser:function(e,t){var n=this;return!1===t?n.$subgrammars[ft](e)&&delete n.$subgrammars[e]:t&&(n.$subgrammars[e]=t),n},iterator:function(){},validate:function(){},autocomplete:function(){},indent:function(){},fold:function(){},match:function(){}}),nn=m(tn,{constructor:function(e,t){var n=this;tn.call(n,e,"plain","plain"),n.DEF=t||n.$DEF,n.ERR=n.$ERR},get:function(e,t){for(var n=t.parser.token(e,t.state,t.inner);n&&n.parser;)n.fromInner&&t.parser!==n.parser&&(t.state.err=n.fromInner.err,t.state.pos=n.fromInner.pos,t.name&&(t.inner[t.name]=n.fromInner)),n.state.err=t.state.err,n.state.line=t.state.line,n.state.bline=t.state.bline,n.state.$blank$=t.state.$blank$,n.state.$eol$=t.state.$eol$,n.state.pos=t.state.pos,n.state.$full_parse$=t.state.$full_parse$,t.state=n.state,t.parser=n.parser,t.name=n.toInner,n=t.parser.get(e,t);return n},tokenize:function(e,n,r,o){var s,l=this,i=[],a=null,u=Array.prototype.push,c=function(e){return e.type=l.$DEF,e};if(o=o||[],ct===n.state.pos&&(n.state.pos=0),e.eol())n.state.line++,n.state.$blank$&&n.state.bline++;else for(;!e.eol();)s=n.parser.get(e,n),s.pos=n.state.pos,n.state.pos+=s.token.length,n.state.$actionerr$?(i.length&&u.apply(o,t(i,c)),s.type=l.$DEF,o.push(s),i.length=0,a=null):(a!==s.name&&(i.length&&u.apply(o,i),i.length=0,a=s.name),i.push(s));return i.length&&u.apply(o,i),i.length=0,a=null,o}}),rn={VERSION:"4.1.0",clone:o,extend:s,pre_process:z,parse:F,getMode:le,Parser:nn};return rn});