/**
*
*   SyntaxHighlighterGrammar
*   @version: 4.2.1
*
*   Transform a grammar specification in JSON format, into a syntax-highlight brush for SyntaxHighlighter
*   https://github.com/foo123/syntaxhighlighter-grammar
*   https://github.com/foo123/editor-grammar
*
**/!function(e,t,n){"use strict";"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[t]=n.call(e)):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["module"],function(t){return n.moduleUri=t.uri,n.call(e)}):t in e||(e[t]=n.call(e)||1)&&"function"==typeof define&&define.amd&&define(function(){return e[t]})}(this,"SyntaxHighlighterGrammar",function(){"use strict";function e(e){var t=0;return null===e?t=Ot:!0===e||!1===e||e instanceof Boolean?t=Rt:ft===e?t=_t:(t=Ht[$t.call(e)]||qt,t=Et===t||e instanceof Number?isNaN(e)?Lt:isFinite(e)?Et:St:It===t||e instanceof String?1===e.length?jt:It:Nt===t||e instanceof Array?Nt:Ft===t||e instanceof RegExp?Ft:Pt===t||e instanceof Date?Pt:zt===t||e instanceof Function?zt:Dt===t?Dt:qt),t}function t(e,t,n,o){var l,s,r,a,i,u,p=e.length;if(arguments.length<4&&(o=p-1),0>o&&(o+=p),arguments.length<3&&(n=0),n>o)return[];if(n===o)return[t(e[n],n,n,o)];for(r=o-n+1,a=15&r,i=1&a,u=new Array(r),i&&(u[0]=t(e[n],n,n,o)),l=i;a>l;l+=2)s=n+l,u[l]=t(e[s],s,n,o),u[l+1]=t(e[s+1],s+1,n,o);for(l=a;r>l;l+=16)s=n+l,u[l]=t(e[s],s,n,o),u[l+1]=t(e[s+1],s+1,n,o),u[l+2]=t(e[s+2],s+2,n,o),u[l+3]=t(e[s+3],s+3,n,o),u[l+4]=t(e[s+4],s+4,n,o),u[l+5]=t(e[s+5],s+5,n,o),u[l+6]=t(e[s+6],s+6,n,o),u[l+7]=t(e[s+7],s+7,n,o),u[l+8]=t(e[s+8],s+8,n,o),u[l+9]=t(e[s+9],s+9,n,o),u[l+10]=t(e[s+10],s+10,n,o),u[l+11]=t(e[s+11],s+11,n,o),u[l+12]=t(e[s+12],s+12,n,o),u[l+13]=t(e[s+13],s+13,n,o),u[l+14]=t(e[s+14],s+14,n,o),u[l+15]=t(e[s+15],s+15,n,o);return u}function n(e,t,n,o,l){var s,r,a,i,u,p=e.length,c=n;if(arguments.length<5&&(l=p-1),0>l&&(l+=p),arguments.length<4&&(o=0),o>l)return c;if(o===l)return t(c,e[o],o);for(a=l-o+1,i=15&a,u=1&i,u&&(c=t(c,e[o],o)),s=u;i>s;s+=2)r=o+s,c=t(t(c,e[r],r),e[r+1],r+1);for(s=i;a>s;s+=16)r=o+s,c=t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(c,e[r],r),e[r+1],r+1),e[r+2],r+2),e[r+3],r+3),e[r+4],r+4),e[r+5],r+5),e[r+6],r+6),e[r+7],r+7),e[r+8],r+8),e[r+9],r+9),e[r+10],r+10),e[r+11],r+11),e[r+12],r+12),e[r+13],r+13),e[r+14],r+14),e[r+15],r+15);return c}function o(e,t,n,o){if(t>n)return o;if(t===n)return e(t,o,t,n),o;var l,s,r=n-t+1,a=15&r,i=1&a;for(i&&e(t,o,t,n),l=i;a>l;l+=2)s=t+l,e(s,o,t,n),e(++s,o,t,n);for(l=a;r>l;l+=16)s=t+l,e(s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n);return o}function l(t,n){var o,s,r,a,i=e(t),u=0;if(Et===e(n)?n>0?(u=n,n=!0):n=!1:n=!1!==n,Dt===i){s={};for(r in t)bt.call(t,r)&&xt.call(t,r)&&(o=e(t[r]),Dt===o?s[r]=n?l(t[r],u>0?u-1:n):t[r]:Nt===o?s[r]=n?l(t[r],u>0?u-1:n):t[r].slice():Pt===o?s[r]=new Date(t[r]):It&o?s[r]=t[r].slice():Et&o?s[r]=0+t[r]:s[r]=t[r])}else if(Nt===i)for(a=t.length,s=new Array(a),r=0;a>r;r++)o=e(t[r]),Dt===o?s[r]=n?l(t[r],u>0?u-1:n):t[r]:Nt===o?s[r]=n?l(t[r],u>0?u-1:n):t[r].slice():Pt===o?s[r]=new Date(t[r]):It&o?s[r]=t[r].slice():Et&o?s[r]=0+t[r]:s[r]=t[r];else s=Pt===i?new Date(t):It&i?t.slice():Et&i?0+t:t;return s}function s(){var t,n,o,r,a,i,u,p,c,f,m=arguments,h=m.length;if(1>h)return null;for(n=l(m[0]),o=1;h>o;o++)if(t=m[o])for(r in t)if(bt.call(t,r)&&xt.call(t,r))if(bt.call(n,r)&&xt.call(n,r)){if(c=e(n[r]),f=e(t[r]),Dt===c&&Dt===f)n[r]=s(n[r],t[r]);else if(Nt===c&&Nt===f){if(u=n[r],p=t[r],i=p.length,!i)continue;if(u.length)for(a=0;i>a;a++)0>u.indexOf(p[a])&&u.push(p[a]);else n[r]=p.slice()}}else n[r]=l(t[r]);return n}function r(t,n){return n||Nt!==e(t)?[t]:t}function a(t,n){return t=r(t),(n||Nt!==e(t[0]))&&(t=[t]),t}function i(t,n){return It&e(n)&&It&e(t)&&n.length&&n.length<=t.length&&n===t.substr(0,n.length)}function u(e,t,n){return n?e[t]=ft:delete e[t],e}function p(e){return(e||"id_")+ ++Wt}function c(e){return(e||"uuid")+"_"+ ++Wt+"_"+(new Date).getTime()}function f(){var t,n,o,l,s,r,a=arguments,i=a.length;for(t=a[0]||{},s=1;i>s;s++)if(n=a[s],Dt===e(n))for(l in n)bt.call(n,l)&&xt.call(n,l)&&(o=n[l],r=e(o),Et&r?t[l]=0+o:Pt&r?t[l]=new Date(o):Ct&r?t[l]=o.slice():t[l]=o);return t}function m(e,t){var n,o=arguments.length,l="constructor";return 0===o?(e=Object,t={}):1===o?(t=e||{},e=Object):(e=e||Object,t=t||{}),bt.call(t,l)||(t[l]=function(){}),n=t[l],delete t[l],n[mt]=f(kt(e[mt]),t),n[mt][l]=n,n}function h(e){return"&"===e?"&amp;":"<"===e?"&lt;":">"===e?"&gt;":'"'===e?"&quot;":"&apos;"}function k(e){return"&amp;"===e?"&":"&lt;"===e?"<":"&gt;"===e?">":"&quot;"===e?'"':"'"}function d(e){return"&#"+e.charCodeAt(0)+";"}function g(e,t){return e.replace(Qt,t?h:d)}function y(e){return e.replace(Xt,k)}function v(e){return e.replace(Jt,"\\$1")}function $(e,t){t=t||{l:0,x:0,i:0,g:0};var e=new RegExp(e,(t.g?"g":"")+(t.i?"i":""));return e.xflags=t,e}function b(e,t,n,o){var l,s=e.pos||0,r=e.length,a=t.length,i="";if(n)if(o)for(;r>s;)if(l=!1,n===e[vt](s)&&(l=!0,s+=1),t===e.substr(s,a)){if(s+=a,!l)break;i+=t}else i+=e[vt](s++);else for(;r>s;)if(l=!1,n===e[vt](s)&&(l=!0,s+=1,i+=n),t===e.substr(s,a)){if(s+=a,!l)break;i+=t}else i+=e[vt](s++);else for(;r>s;){if(t===e.substr(s,a)){s+=a;break}i+=e[vt](s++)}return e.pos=s,i}function x(t,n,o,l){var s,r,a,i,u,p=!0===o?0:1,c=l?"\\":"$",f=l?92:36;for(It&e(n)&&(l&&(n=v(n)),n=[n,n,n],p=0),r=t.length,u="",s=0;r>s;)a=t[vt](s),r>s+1&&c===a?(i=t.charCodeAt(s+1),f===i?(u+=c,s+=2):i>=48&&57>=i?(u+=n[p+i-48]||"",s+=2):(u+=a,s+=1)):(u+=a,s+=1);return u}function w(t,n,o,l){if(!t||(Et|Ft)&e(t))return t;var s,r=n?n.length||0:0,a="",i={g:0,i:0,x:0,l:0};if(It&e(l)?a=l:l&&(a=en),r&&t.substr(0,r)===n){var u,p,c,s,f,m=t.substr(r),h=m[vt](0);for(s=m.length;s--&&(f=m[vt](s),h!==f);)"i"===f.toLowerCase()?i.i=1:"x"===f.toLowerCase()?i.x=1:"l"===f.toLowerCase()&&(i.l=1);return u=m.substring(1,s),"^"===u.charAt(0)?(i.l=1,p="^("+u.slice(1)+")"):p="^("+u+")",c=p,(i.x||i.l||i.i)&&(p=(i.l?"l":"")+(i.x?"x":"")+(i.i?"i":"")+"::"+p),o[p]||(c=$(c,i),o[p]=c),o[p]}return a?(c=p="^("+v(t)+")"+a,o[p]||(c=$(c,i),o[p]=c),o[p]):t}function q(n,o,l){var s,r="";return It&e(o)?r=o:o&&(r=en),s=t(n.sort(Yt),v).join("|"),[$("^("+s+")"+r,{l:0,x:0,i:l?1:0}),1]}function _(t,n,o,l){var s=e(n);if(Et===s)return n;if(l[t])return l[t];o=o||0;var r,a=0;return n&&n.isCharList&&(a=1,u(n,"isCharList")),r=Ot===s?new A(je,t,n,Ot,o):jt===s?new A(je,t,n,jt,o):Tt&s?new A(je,t,n,Ft,o):It&s?new A(je,t,n,a?Mt:It,o):n,l[t]=r}function O(t,n,o,l,s,a,u,p){if(u[t])return u[t];var c,f,m,h,k,d,g,y=0,v=0,$=1,b=It&e(l)?!0:!!l;if(c=r(n),m=c.length,1===m)g=_(t,w(c[0],o,a,l),0,u);else if(m>1){for(h=(m>>>1)+1,f=0;h>=f;f++)k=e(c[f]),d=e(c[m-1-f]),jt===k&&jt===d||($=0),Nt&k||Nt&d?y=1:(Ft&k||Ft&d||i(c[f],o)||i(c[m-1-f],o))&&(v=1);if($&&!b)c=c.slice().join(""),c.isCharList=1,g=_(t,c,0,u);else if(!b||y||v)if(y||v){for(f=0;m>f;f++)Nt&e(c[f])?c[f]=O(t+"_"+f,c[f],o,l,s,a,u):c[f]=_(t+"_"+f,w(c[f],o,a),f,u);g=m>1?new A(Me,t,c):c[0]}else{for(p&&(p.keywords=r(n).slice()),c=c.sort(Yt),f=0;m>f;f++)c[f]=_(t+"_"+f,w(c[f],o,a),f,u);g=m>1?new A(Me,t,c):c[0]}else p&&(p.keywords=r(n).slice()),g=_(t,q(c,l,s),0,u)}return u[t]=g}function E(t,n,l,s,r){if(r[t])return r[t];var u=a(n),p=[],c=[];return o(function(n){var o,a,f,m;o=_(t+"_0_"+n,w(u[n][0],l,s),n,r),u[n].length>1?(f=i(u[n][1],l),m=f&&tn.test(u[n][1]),Ft!==o.ptype||It!==e(u[n][1])||!m&&f?a=_(t+"_1_"+n,w(u[n][1],l,s),n,r):m?(a=new String(u[n][1]),a.regex_pattern=l):a=u[n][1]):a=o,p.push(o),c.push(a)},0,u.length-1),r[t]=new A(Ne,t,[p,c])}function S(e,t){var n=a(e.tokens.slice());o(function(e){var o=n[e][0],l=n[e].length>1?n[e][1]:n[e][0],s=n[e].length>2?n[e][2]:"";null===l?(t.line=t.line||[],t.line.push(o)):(t.block=t.block||[],t.block.push([o,l,s]))},0,n.length-1)}function L(e,n,o,l){var s=e.meta||o,r=!(!e.caseInsesitive&&!e.ci),a=t(n,function(e){return{word:e,meta:s,ci:r}});return l.autocomplete=(l.autocomplete||[]).concat(a),a}function R(t){t.Lex||(t.Lex={}),t.Syntax||(t.Syntax={});var n,o,l,r,a,i,p,c,f,m,h,k=t.Lex,d=t.Syntax,g=[k,d],y=g.length;for(h=0;y>h;){m=g[h++];for(l in m)bt.call(m,l)&&(n=l.split(":"),o=n[1]&&Ut(n[1]).length?Ut(n[1]):null,n=Ut(n[0]),n.length||(n=l,o=null),n!==l&&(m[n]=m[l],u(m,l),o&&(o=o[yt](),r=m[n],a=e(r),Dt===a?m[n].type||(m[n].type=o):(m[n]={type:o},"error"===o?(m[n].type="action",m[n].error=r):"nop"===o?(m[n].type="action",m[n].nop=!0):"group"===o?(m[n].type="sequence",m[n].tokens=r):"action"===o&&It===a?m[n][r]=!0:m[n].tokens=r))),k===m&&(Gt&e(m[n])&&(m[n]={type:"simple",tokens:m[n]}),r=m[n],r.type&&(c=r.type=r.type[yt](),"line-block"===c?(r.type="block",r.multiline=!1,r.escape=!1):"escaped-line-block"===c?(r.type="block",r.multiline=!1,r.escape="\\"):"escaped-block"===c&&(r.type="block",r.multiline=!0,r.escape="\\"))))}m=k;for(n in m)if(bt.call(m,n))for(r=m[n];r.extend;)i=r.extend,u(r,"extend"),p=k[i],p&&(Gt&e(p)&&(p=k[i]={type:"simple",tokens:p}),r=s(p,r));m=k;for(n in m)bt.call(m,n)&&(r=m[n],r.type?(c=r.type=r.type[yt](),"action"===c?r.options=r.options||{}:"line-block"===c?(r.type="block",r.multiline=!1,r.escape=!1):"escaped-line-block"===c?(r.type="block",r.multiline=!1,r.escape="\\"):"escaped-block"===c&&(r.type="block",r.multiline=!0,r.escape="\\")):r["escaped-line-block"]?(r.type="block",r.multiline=!1,r.escape||(r.escape="\\"),r.tokens=r["escaped-line-block"],u(r,"escaped-line-block")):r["escaped-block"]?(r.type="block",r.multiline=!0,r.escape||(r.escape="\\"),r.tokens=r["escaped-block"],u(r,"escaped-block")):r["line-block"]?(r.type="block",r.multiline=!1,r.escape=!1,r.tokens=r["line-block"],u(r,"line-block")):r.comment?(r.type="comment",r.escape=!1,r.tokens=r.comment,u(r,"comment")):r.block?(r.type="block",r.tokens=r.block,u(r,"block")):r.simple?(r.type="simple",r.tokens=r.simple,u(r,"simple")):r.nop?(r.type="action",r.options=r.options||{},r.action=["nop",r.nop,r.options],r.nop=!0):r.error?(r.type="action",r.options=r.options||{},r.action=["error",r.error,r.options],u(r,"error")):bt.call(r,"hypercontext")?(r.type="action",r.options=r.options||{},r.action=[r.hypercontext?"hypercontext-start":"hypercontext-end",r.hypercontext,r.options],u(r,"hypercontext")):bt.call(r,"context")?(r.type="action",r.options=r.options||{},r.action=[r.context?"context-start":"context-end",r.context,r.options],u(r,"context")):r.indent?(r.type="action",r.options=r.options||{},r.action=["indent",r.indent,r.options],u(r,"indent")):r.outdent?(r.type="action",r.options=r.options||{},r.action=["outdent",r.outdent,r.options],u(r,"outdent")):r.define?(r.type="action",r.options=r.options||{},r.action=["define",It&e(r.define)?["*",r.define]:r.define,r.options],u(r,"define")):r.undefine?(r.type="action",r.options=r.options||{},r.action=["undefine",It&e(r.undefine)?["*",r.undefine]:r.undefine,r.options],u(r,"undefine")):r.defined?(r.type="action",r.options=r.options||{},r.action=["defined",It&e(r.defined)?["*",r.defined]:r.defined,r.options],u(r,"defined")):r.notdefined?(r.type="action",r.options=r.options||{},r.action=["notdefined",It&e(r.notdefined)?["*",r.notdefined]:r.notdefined,r.options],u(r,"notdefined")):r.unique?(r.type="action",r.options=r.options||{},r.action=["unique",It&e(r.unique)?["*",r.unique]:r.unique,r.options],u(r,"unique")):r.push?(r.type="action",r.options=r.options||{},r.action=["push",r.push,r.options],u(r,"push")):bt.call(r,"pop")?(r.type="action",r.options=r.options||{},r.action=["pop",r.pop,r.options],u(r,"pop")):r.type="simple","action"===r.type?(r.options=r.options||{},r.options["in-context"]=!(!r.options["in-context"]&&!r["in-context"]),r.options["in-hypercontext"]=!(!r.options["in-hypercontext"]&&!r["in-hypercontext"]),r.options.ci=r.ci=!!(r.options.caseInsesitive||r.options.ci||r.caseInsesitive||r.ci),r.options.autocomplete=!(!r.options.autocomplete&&!r.autocomplete),r.options.mode=r.options.mode||r.mode):"block"===r.type||"comment"===r.type?(r.multiline=bt.call(r,"multiline")?!!r.multiline:!0,It&e(r.escape)||(r.escape=!1)):"simple"===r.type&&(r.meta=r.autocomplete&&It&e(r.meta)?r.meta:null,r.ci=!(!r.caseInsesitive&&!r.ci)));m=d;for(n in m)bt.call(m,n)&&(r=m[n],Dt!==e(r)||r.type?r.type&&(c=r.type=r.type[yt](),"group"===c&&r.match?(a=e(r.match),It&a?(f=r.match[yt](),"alternation"===f||"either"===f?(r.type="alternation",u(r,"match")):"sequence"===f||"all"===f?(r.type="sequence",u(r,"match")):"zeroorone"===f?(r.type="zeroOrOne",u(r,"match")):"zeroormore"===f?(r.type="zeroOrMore",u(r,"match")):"oneormore"===f?(r.type="oneOrMore",u(r,"match")):(r.type="sequence",u(r,"match"))):Nt&a&&(r.type="repeat",r.repeat=r.match,u(r,"match"))):"either"===c?r.type="alternation":"all"===c?r.type="sequence":"lookahead"===c?r.type="positiveLookahead":"grammar"===c&&(r.type="subgrammar"),"subgrammar"!==r.type||r.tokens||(r.tokens=n)):r.ngram||r["n-gram"]?(r.type="ngram",r.tokens=r.ngram||r["n-gram"],r["n-gram"]?u(r,"n-gram"):u(r,"ngram")):r.sequence||r.all?(r.type="sequence",r.tokens=r.sequence||r.all,r.all?u(r,"all"):u(r,"sequence")):r.alternation||r.either?(r.type="alternation",r.tokens=r.alternation||r.either,r.either?u(r,"either"):u(r,"alternation")):r.zeroOrOne?(r.type="zeroOrOne",r.tokens=r.zeroOrOne,u(r,"zeroOrOne")):r.zeroOrMore?(r.type="zeroOrMore",r.tokens=r.zeroOrMore,u(r,"zeroOrMore")):r.oneOrMore?(r.type="oneOrMore",r.tokens=r.oneOrMore,u(r,"oneOrMore")):r.positiveLookahead||r.lookahead?(r.type="positiveLookahead",r.tokens=r.positiveLookahead||r.lookahead,r.lookahead?u(r,"lookahead"):u(r,"positiveLookahead")):r.negativeLookahead?(r.type="negativeLookahead",r.tokens=r.negativeLookahead,u(r,"negativeLookahead")):(r.subgrammar||r.grammar)&&(r.type="subgrammar",r.tokens=r.subgrammar||r.grammar,r.subgrammar?u(r,"subgrammar"):u(r,"grammar")));return t}function I(e,t){t=t||[];var n,o,l,s;for(n=e.ctx;n;){for(o=n.val.symb;o;)s=o.val[1],s[7]&&t.push({word:s[5],meta:(s[6]||"")+" at ("+(s[0]+1)+","+(s[1]+1)+")",ci:s[8],token:s[6],pos:[s[0]+1,s[1]+1,s[2]+1,s[3]+1]}),o=o.prev;o=n.val.tabl;for(l in o)bt.call(o,l)&&o[l][7]&&(s=o[l],t.push({word:s[5],meta:(s[6]||"")+" at ("+(s[0]+1)+","+(s[1]+1)+")",ci:s[8],token:s[6],pos:[s[0]+1,s[1]+1,s[2]+1,s[3]+1]}));n=n.prev}for(n=e.hctx;n;){for(o=n.val.symb;o;)s=o.val[1],s[7]&&t.push({word:s[5],meta:(s[6]||"")+" at ("+(s[0]+1)+","+(s[1]+1)+")",ci:s[8],token:s[6],pos:[s[0]+1,s[1]+1,s[2]+1,s[3]+1]}),o=o.prev;o=n.val.tabl;for(l in o)bt.call(o,l)&&o[l][7]&&(s=o[l],t.push({word:s[5],meta:(s[6]||"")+" at ("+(s[0]+1)+","+(s[1]+1)+")",ci:s[8],token:s[6],pos:[s[0]+1,s[1]+1,s[2]+1,s[3]+1]}));n=n.prev}for(o=e.symb;o;)s=o.val[1],s[7]&&t.push({word:s[5],meta:(s[6]||"")+" at ("+(s[0]+1)+","+(s[1]+1)+")",ci:s[8],token:s[6],pos:[s[0]+1,s[1]+1,s[2]+1,s[3]+1]}),o=o.prev;o=e.tabl;for(l in o)bt.call(o,l)&&o[l][7]&&(s=o[l],t.push({word:s[5],meta:(s[6]||"")+" at ("+(s[0]+1)+","+(s[1]+1)+")",ci:s[8],token:s[6],pos:[s[0]+1,s[1]+1,s[2]+1,s[3]+1]}));return t}function j(t,n,o,l){if(o=o||{},n=n||[],!t||!t.length)return n;var s,r,a,i,u,p,c;for(s=0,r=t.length;r>s;s++)if(u=t[s])if(Ge===u.type){if(l&&l.length&&u.name)for(a=l.length-1;a>=0;a--)l[a].token&&(u.name===l[a].token||u.name.length>l[a].token.length&&u.name.slice(0,l[a].token.length)===l[a].token||u.name.length<l[a].token.length&&u.name===l[a].token.slice(0,u.name.length))&&(l[a].meta=u.name+" at ("+l[a].pos[0]+","+l[a].pos[1]+")",n.push(l[a]),l.splice(a,1));if(u.autocompletions)for(a=0,i=u.autocompletions.length;i>a;a++)c=u.autocompletions[a],bt.call(o,"w_"+c.word)||(n.push(c),o["w_"+c.word]=1);else It===u.token.ptype&&It&e(u.token.pattern)&&u.token.pattern.length>1&&(bt.call(o,"w_"+u.token.pattern)||(n.push({word:""+u.token.pattern,meta:u.name,ci:!!u.ci}),o["w_"+u.token.pattern]=1))}else if(Ue===u.type)j(u.token,n,o,l);else if(nt&u.type){a=0,i=u.token.length;do j([p=u.token[a++]],n,o,l);while(i>a&&(Ke&p.type&&1>p.min||De===p.type))}else Ke&u.type&&j([u.token[0]],n,o,l);return n}function M(t,n,o,l){for(var s;It&e(s=n[t]||o[t]);)t=s;return l?t:n[t]||o[t]||t}function N(e,t){return e.length>1?o(t?function(t,n){var o=n[n.length-1],l=e[t];o===l||n.push(l)}:function(t,n){var o=n[n.length-1],l=e[t];nn.test(l)&&nn.test(o)&&o===l||n.push(l)},1,e.length-1,[e[0]]):e}function D(n,o,s){var r,a,i,u,p,c,f,m,h,k,d,g,y,v,x,w=!1;if(x=n.modifier?n.modifier:null,m=new String(Ut(n)),m.pos=0,1===m.length)g=""+n,o[g]||s[g]||(o[g]={type:"simple",tokens:n}),n=g;else{for(r=[],a=[],i="",y=[];m.pos<m.length;)if(h=m[vt](m.pos++),Zt.test(h))if(i.length&&(w?(a.length&&(d=a[a.length-1],g=d+"."+i,c=o[g]||s[g],c||(f=M(d,o,s),s[g]=It&e(f)?new String(f):l(f),s[g].modifier=i),a[a.length-1]=g),w=!1):"0"===i?(o[pt]||(o[pt]={type:"simple",tokens:0}),a.push(pt)):"^^"===i?(o[st]||(o[st]={type:"simple",tokens:ze}),a.push(st)):"^^1"===i?(o[rt]||(o[rt]={type:"simple",tokens:Fe}),a.push(rt)):"^"===i?(o[at]||(o[at]={type:"simple",tokens:Ae}),a.push(at)):"$"===i?(o[it]||(o[it]={type:"simple",tokens:Pe}),a.push(it)):(o[i]||s[i]||(o[i]={type:"simple",tokens:i}),a.push(i)),i=""),"."===h)a.length&&m.pos<m.length&&!Zt.test(m[vt](m.pos))?w=!0:i+=h;else if('"'===h||"'"===h)u=b(m,h,"\\",1),u.length?(g=""+u,o[g]||(o[g]={type:"simple",tokens:u}),a.push(g)):(o[ct]||(o[ct]={type:"simple",tokens:""}),a.push(ct));else if("["===h)h=m[vt](m.pos+1),"^"===h?m.pos++:h="",u=b(m,"]","\\",0),g="["+h+u+"]",o[g]||(o[g]={type:"simple",tokens:$("^(["+h+u+"])")}),a.push(g);else{if("]"===h){i+=h;continue}if("/"===h)u=b(m,h,"\\",0),k="",u.length&&(m.pos<m.length&&"i"===m[vt](m.pos)&&(m.pos++,k="i"),g="/"+u+"/"+k,o[g]||(o[g]={type:"simple",tokens:$("^("+u+")",{l:0,x:0,i:"i"===k})}),a.push(g));else if("*"===h||"+"===h||"?"===h)a.length?(d=a[a.length-1],g=""+d+h,s[g]||(s[g]={type:"*"===h?"zeroOrMore":"+"===h?"oneOrMore":"zeroOrOne",tokens:[d]}),a[a.length-1]=g):i+=h;else if("{"===h)a.length?(p=b(m,"}",0,0),p=t(p.split(","),Ut),p[0].length?p[0]=parseInt(p[0],10)||0:p[0]=0,0>p[0]&&(p[0]=0),2>p.length?p.push(p[0]):p[1].length?p[1]=parseInt(p[1],10)||wt:p[1]=wt,0>p[1]&&(p[1]=0),d=a[a.length-1],g=""+d+["{",p[0],",",isFinite(p[1])?p[1]:"","}"].join(""),s[g]||(s[g]={type:"repeat",repeat:[p[0],p[1]],tokens:[d]}),a[a.length-1]=g):i+=h;else{if("}"===h){i+=h;continue}"&"===h||"!"===h?a.length?(d=a[a.length-1],g=""+d+h,s[g]||(s[g]={type:"!"===h?"negativeLookahead":"positiveLookahead",tokens:[d]}),a[a.length-1]=g):i+=h:"|"===h?(w=!1,a=N(a),a.length>1?(g=""+a.join(" "),s[g]||(s[g]={type:"sequence",tokens:a}),r.push(g)):a.length?r.push(a[0]):i+=h,a=[]):"("===h?(y.push([a,r,i]),a=[],r=[],i=""):")"===h&&(a=N(a),a.length>1?(g=""+a.join(" "),s[g]||(s[g]={type:"sequence",tokens:a}),r.push(g)):a.length&&r.push(a[0]),a=[],r=N(r,1),r.length>1?(g=""+r.join(" | "),s[g]||(s[g]={type:"alternation",tokens:r})):r.length&&(g=r[0]),r=[],v=y.pop(),a=v[0],r=v[1],i=v[2],d=g,g="("+d+")",s[g]||(s[g]=l(M(d,o,s))),a.push(g))}}else i+=h;i.length&&(w?(a.length&&(d=a[a.length-1],g=d+"."+i,c=o[g]||s[g],c||(f=M(d,o,s),s[g]=It&e(f)?new String(f):l(f),s[g].modifier=i),a[a.length-1]=g),w=!1):"0"===i?(o[pt]||(o[pt]={type:"simple",tokens:0}),a.push(pt)):"^^"===i?(o[st]||(o[st]={type:"simple",tokens:ze}),a.push(st)):"^^1"===i?(o[rt]||(o[rt]={type:"simple",tokens:Fe}),a.push(rt)):"^"===i?(o[at]||(o[at]={type:"simple",tokens:Ae}),a.push(at)):"$"===i?(o[it]||(o[it]={type:"simple",tokens:Pe}),a.push(it)):(o[i]||s[i]||(o[i]={type:"simple",tokens:i}),a.push(i))),i="",a=N(a),a.length>1?(g=""+a.join(" "),s[g]||(s[g]={type:"sequence",tokens:a}),r.push(g)):a.length&&r.push(a[0]),a=[],r=N(r,1),r.length>1?(g=""+r.join(" | "),s[g]||(s[g]={type:"alternation",tokens:r}),n=g):r.length&&(n=r[0]),r=[]}return x&&(o[n]||s[n])&&((o[n]||s[n]).modifier=x),n}function z(l,s,i,u,p,c,f,m,h,k,d){var g,y,v,$,b,x,w,q=null,_=null,R=null;if(ze===l||Fe===l||Ae===l||Pe===l)return new G(l,ze===l?st:Fe===l?$T_FBNL$:Ae===l?at:it,l,_);if(!1===l||0===l)return new G(Ce,pt,0,_);if(""===l)return new G(Te,ct,"",_);if(null===l)return new G(Ge,ut,Ot,_,R);if(Nt&e(l)&&(v=l,l="NGRAM_"+v.join("_"),u[l]||(u[l]={type:"ngram",tokens:v})),l=""+l,m[l])return m[l];if(b=M(l,i,u),It&e(b)&&(b=D(b,i,u),b=i[b]||u[b]||null),!b)return null;if(g=b.type?lt[b.type[yt]().replace(Vt,"")]||Ge:Ge,_=b.msg||null,R=b.modifier||null,y=b.tokens,Ge&g){if(ze===y||Fe===y||Ae===y||Pe===y||!1===y||0===y)return q=new G(y||Ce,l,y||0,_),m[l]=q,q;if(""===y)return q=new G(Te,l,"",_),m[l]=q,q;if(null===y)return q=new G(Ge,l,Ot,_,R),m[l]=q,q;if(!y)return null}if(De&g)b.options=b.options||{},b.options["in-context"]=!(!b.options["in-context"]&&!b["in-context"]),b.options["in-hypercontext"]=!(!b.options["in-hypercontext"]&&!b["in-hypercontext"]),b.options.ci=b.ci=!!(b.options.caseInsesitive||b.options.ci||b.caseInsesitive||b.ci),b.options.autocomplete=!(!b.options.autocomplete&&!b.autocomplete),b.options.mode=b.options.mode||b.mode,bt.call(b,"action")?"nop"===b.action[0]?b.action[0]=ge:"error"===b.action[0]?b.action[0]=ye:"context-start"===b.action[0]?b.action[0]=qe:"context-end"===b.action[0]?b.action[0]=_e:"hypercontext-start"===b.action[0]?b.action[0]=Oe:"hypercontext-end"===b.action[0]?b.action[0]=Ee:"push"===b.action[0]?b.action[0]=Se:"pop"===b.action[0]?b.action[0]=Le:"define"===b.action[0]?b.action[0]=ve:"undefine"===b.action[0]?b.action[0]=$e:"defined"===b.action[0]?b.action[0]=be:"notdefined"===b.action[0]?b.action[0]=xe:"unique"===b.action[0]?b.action[0]=we:"indent"===b.action[0]?b.action[0]=Re:"outdent"===b.action[0]&&(b.action[0]=Ie):bt.call(b,"nop")?b.action=[ge,b.nop,b.options]:bt.call(b,"error")?b.action=[ye,b.error,b.options]:bt.call(b,"context")?b.action=[b.context?qe:_e,b.context,b.options]:bt.call(b,"hypercontext")?b.action=[b.hypercontext?Oe:Ee,b.hypercontext,b.options]:bt.call(b,"context-start")?b.action=[qe,b["context-start"],b.options]:bt.call(b,"context-end")?b.action=[_e,b["context-end"],b.options]:bt.call(b,"hypercontext-start")?b.action=[Oe,b["hypcontext-start"],b.options]:bt.call(b,"hypercontext-end")?b.action=[Ee,b["hypcontext-end"],b.options]:bt.call(b,"push")?b.action=[Se,b.push,b.options]:bt.call(b,"pop")?b.action=[Le,b.pop,b.options]:bt.call(b,"define")?b.action=[ve,It&e(b.define)?["*",b.define]:b.define,b.options]:bt.call(b,"undefine")?b.action=[$e,It&e(b.undefine)?["*",b.undefine]:b.undefine,b.options]:bt.call(b,"defined")?b.action=[be,It&e(b.defined)?["*",b.defined]:b.defined,b.options]:bt.call(b,"notdefined")?b.action=[xe,It&e(b.notdefined)?["*",b.notdefined]:b.notdefined,b.options]:bt.call(b,"unique")?b.action=[we,It&e(b.unique)?["*",b.unique]:b.unique,b.options]:bt.call(b,"indent")?b.action=[Re,b.indent,b.options]:bt.call(b,"outdent")&&(b.action=[Ie,b.outdent,b.options]),!1===b.msg&&(_=!1),b.nop&&(b.action[0]=ge),q=new G(De,l,b.action.slice(),_,R),q.ci=!!(b.options.caseInsensitive||b.options.ci||b.caseInsensitive||b.ci),m[l]=q;else if(y=r(y),Ge&g){w=b.autocomplete?L(b,Ct&e(b.autocomplete)?r(b.autocomplete):y,l,d):null;var I={};if(x="undefined"!=typeof b.combine?b.combine:!!(Nt&e(b.tokens)),q=new G(Ge,l,O(l,y.slice(),s,x,!(!b.caseInsensitive&&!b.ci),c,f,I),_,R,null,w),I.keywords&&(q.keywords=I.keywords.join("|")),m[l]=q,null!=b.except){var j,N,F=r(b.except),P=F.length,A=[];for(j=0;P>j;j++)F[j]&&(N=z(F[j],s,i,u,p,c,f,m,h,k,d),N&&A.push(N));A.length&&(q.except=A)}}else He&g?(Be===g&&S(b,k),q=new G(g,l,E(l,y.slice(),s,c,f),_),q.empty=bt.call(b,"empty")?!!b.empty:!0,q.mline=bt.call(b,"multiline")?!!b.multiline:!0,q.esc=bt.call(b,"escape")?b.escape:!1,q.inter=!!p[l+".inside"],Be===g&&b.interleave&&h.push(B(q)),R&&(q.modifier=R),m[l]=q):ot&g&&(tt===g?m[l]=new G(tt,l,y,_,R):et===g?($=a(y),q=t($,function(e,t){return new G(et,l+"_NGRAM_"+t,null,_,R)}),m[l]=q,o(function(e){q[e].token=r(n($[e],function(e,t){return e.concat(z(t,s,i,u,p,c,f,m,h,k,d))},[]))},0,$.length-1)):(Xe===g||Ze===g?q=new G(g,l,null,_,R):Ke&g&&Nt&e(b.repeat)?(q=new G(Ke,l,null,_,R),q.min=b.repeat[0],q.max=b.repeat[1]):Ve===g?(q=new G(Ve,l,null,_,R),q.min=0,q.max=1):We===g?(q=new G(We,l,null,_,R),q.min=0,q.max=wt):Je===g?(q=new G(Je,l,null,_,R),q.min=1,q.max=wt):q=Ue===g?new G(Ue,l,null,_,R):new G(Ye,l,null,_,R),m[l]=q,q.token=r(n(y,function(e,t){return e.concat(z(t,s,i,u,p,c,f,m,h,k,d))},[]))));return m[l]}function F(t){var n={};return t.Lex=t.Lex||{},t.Syntax=t.Syntax||{},t=R(t),t.Parser&&t.Parser.length&&o(function l(s,r){var a,i,u,p=r[s];n[p]||(Nt&e(p)&&(a=p,p="NGRAM_"+a.join("_"),t.Syntax[p]||(t.Syntax[p]={type:"ngram",tokens:a})),i=M(p,t.Lex,t.Syntax),It&e(i)&&(i=D(i,t.Lex,t.Syntax),i=t.Lex[i]||t.Syntax[i]||null),i&&(n[p]=i,u=i.type?lt[i.type[yt]().replace(Vt,"")]||Ge:Ge,ot&u&&o(l,0,i.tokens.length-1,i.tokens)))},0,t.Parser.length-1,t.Parser),t}function P(t){var o,s,r,a,i,u,p,c,f,m,h,k,d,g;return t.__parsed?t:(o=t.RegExpID||null,r=t.Extra?l(t.Extra):{},a=t.Style?l(t.Style):{},i=null,u=null,p=t.Lex?l(t.Lex):{},c=t.Syntax?l(t.Syntax):{},f={},m={},h={},d={},g={},k=[],s=t.Parser?l(t.Parser):[],t=R({Style:a,Fold:i,Match:u,Lex:p,Syntax:c,$parser:null,$interleaved:null,$comments:null,$autocomplete:null,$extra:r,__parsed:0}),t.$parser=n(s,function(t,n){var l=z(n,o,p,c,a,f,m,h,k,d,g)||null;return l&&(Nt&e(l)?t=t.concat(l):t.push(l)),t},[]),t.$interleaved=k&&k.length?k:null,t.$comments=d,t.$autocomplete=g&&g.autocomplete&&g.autocomplete.length?g.autocomplete:null,t.__parsed=1,t)}function A(t,n,o,l,s){var r,a,i=this;r=i.type=t,i.name=n,i.pattern=o,a=i.ptype=l||It,i.key=s||0,Me===r?i.key=!1!==s:Ne===r?i.pattern[0]=new A(Me,n+"_Start",o[0],null,!1):Ot===a?i.pattern=null:Ft===a&&(i.pattern=Ft&e(o)?[o,0]:[o[0],o[1]||0])}function C(t,n,o,l){var s,r,a,i,u,p,c,f,m,h,k,d=t,g=d.type,y=d.pattern,v=d.key;if(Ne===g){if(s=d.name,a=y[0],i=y[1],p=C(a,n,o,l))return u=i[p[0]],f=e(u),m=a.pattern[p[0]].ptype,Ft===m&&At&f&&(u.regex_pattern?(c=x(u,p[1]),u=new A(je,s+"_End",w(c,u.regex_pattern,{}),Ft)):(c=Et&f?p[1][u+1]:x(u,p[1]),u=new A(je,s+"_End",c,c.length>1?It:jt))),u}else if(Me===g){for(h=0,k=y.length;k>h;h++)if(c=C(y[h],n,o,l))return v?[h,c[1]]:c}else{if(r=d.ptype,Ot===r)return!1!==o&&n.end(),[v,""];if(Ft===r){if(c=y[0].xflags.l?n.match(y[0]):n.slice(n.pos).match(y[0]),c&&0===c.index)return!1!==o&&n.mov(c[y[1]||0].length),[v,y[1]>0?c[y[1]]:c]}else if(Mt===r){if(!0===l){c=-1;var $,b;for(k=y.length-1;k>=0;k--)$=n.indexOf(y[vt](k),n.pos),$>-1&&(-1===c||c>$)&&(c=$,b=y[vt](k));if(c>-1)return!1!==o&&(n.pos=c+1),[v,b]}else if(c=n[vt](n.pos)||null,c&&-1<y.indexOf(c))return!1!==o&&n.mov(1),[v,c]}else if(jt===r){if(!0===l){if(c=n.indexOf(y,n.pos),c>-1)return!1!==o&&(n.pos=c+1),[v,y]}else if(c=n[vt](n.pos)||null,y===c)return!1!==o&&n.mov(1),[v,c]}else if(It===r)if(k=y.length,!0===l){if(c=n.indexOf(y,n.pos),c>-1)return!1!==o&&(n.pos=c+k),[v,y]}else if(y===n.substr(n.pos,k))return!1!==o&&n.mov(k),[v,y]}return!1}function T(e,t){this.val=e||null,t?this.prev=t:this.prev=null}function G(e,t,n,o,l,s,r,a){var i=this;i.type=e,i.name=t,i.token=n,i.modifier=l||null,i.except=s||null,i.autocompletions=r||null,i.keywords=a||null,i.pos=null,i.msg=!1===o?!1:o||null,i.$msg=null,i.status=0,i.empty=!1,i.ci=!1,i.mline=!0,i.esc=!1,i.inter=!1,i.found=0,i.min=0,i.max=1,i.i0=0,i.$id=null}function H(){var e=this;e.T=0,e.id=null,e.type=null,e.match=null,e.str="",e.pos=null,e.block=null,e.space=null}function B(e,t,n,o){var l=new G(e.type,e.name,e.token,e.msg,e.modifier,e.except,e.autocompletions,e.keywords);return l.empty=e.empty,l.ci=e.ci,l.mline=e.mline,l.esc=e.esc,l.inter=e.inter,l.found=e.found,l.min=e.min,l.max=e.max,l.i0=e.i0,t&&(l.status|=fe),n&&(l.modifier=n),o&&(l.$id=o),l}function U(e){var t=e.name;return e.$msg?e.$msg:e.status&fe?'Token "'+t+'"'+(e.keywords?": "+e.keywords:"")+" Expected":'Syntax Error: "'+t+'"'}function Y(e,t,n,o,l,s,r){e.status&pe&&e.err&&(e.err[""+t+"_"+n+"_"+o+"_"+l+"_"+(s?s.name:"ERROR")]=[t,n,o,l,r||U(s)])}function K(e,t,n){var o=null;if(n)e&&bt.call(e,t)&&(o={list:e,key:t,val:e[t]});else for(var l=null,s=e;e;){if(t===e.val[0]){o={list:s,node:e,nodePrev:e.prev,nodeNext:l,key:t,val:e.val[1]};break}l=e,e=e.prev}return o}function V(e,t,n,o){return o?(e[t]=n,e):new T([t,n],e)}function W(e,t){return t?delete e.list[e.key]:e.nodeNext?e.nodeNext.prev=e.nodePrev:e.list=e.list.prev,e.list}function J(e,t,n){if(e.stack===t)t=e.stack=new T(n,e.stack);else{for(var o=e.stack;o&&o.prev!==t;)o=o.prev;t=new T(n,t),o&&(o.prev=t)}return t}function Q(e,t){if(null==e)return null;if(t){for(var n=new T(e.val),o=n,l=e;l.prev;)o.prev=new T(l.prev.val),l=l.prev,o=o.prev;return n}return e}function X(e,t,n,o){var l,s,r,a,i,u=1/0,p=null,c=1/0;if(s=t.pos,t.spc(),r=t.pos,l=e.stack,t.pos<t.length){for(i=0;l&&(a=l.val,a.$id===o.$id);){for(;!(De===a.type||Z(a,t,e,n)||(t.pos=a.pos>t.pos?a.pos:t.pos+1,e.stack=l,t.pos>=t.length)););e.stack=l,t.pos<t.length&&u>t.pos?(u=t.pos,p=l,c=i):u===t.pos&&c>i&&(u=t.pos,p=l,c=i),t.pos=r,l=l.prev,i++}u<t.length?(t.pos=u,e.stack=p):(t.end(),e.stack=null)}return r>=s&&t.pos===r}function Z(e,t,n,o){if(!e)return!1;var l=e.type,s=ot&l?oe:He&l?ne:De&l?ee:te;return s(e,t,n,o)}function ee(t,n,o,l){var s,r,a,i,u,p,c,f,m,h,k,d,g,y,v,$,b,w,q,_,O=t,E=O.token||null,S=O.ci,L=O.name,R=!1,I=!(o.status&pe);if(O.status=0,O.$msg=null,!E||!l||!l.pos)return!0;if(b=!!(He&l.T),ge===E[0]||b&&!l.block)return!0;if(s=E[0],r=E[1],w=E[2]||{},u=O.msg,g=w["in-context"],y=w["in-hypercontext"],b?($=l.block.match||l.block.str,m=l.block.pos[0][0],h=l.block.pos[0][1],k=l.block.pos[0][2],d=l.block.pos[0][3],R=!0):($=l.match||l.str,m=l.pos[0],h=l.pos[1],k=l.pos[2],d=l.pos[3],R=!1),_e===s)o.ctx=o.ctx?o.ctx.prev:null;else if(qe===s)o.ctx=new T({tabl:{},symb:null,queu:null},o.ctx);else if(Ee===s)o.hctx=o.hctx?o.hctx.prev:null;else if(Oe===s)o.hctx=new T({tabl:{},symb:null,queu:null},o.hctx);else if(ve===s)q="hash"===w.mode,_=q?"tabl":"symb",a=r[1],i=r[0],a=x(a,$,R),S&&(a=a[yt]()),i+="::"+a,f=y&&o.hctx?K(o.hctx.val[_],i,q):g&&o.ctx?K(o.ctx.val[_],i,q):K(o[_],i,q),f||(y&&o.hctx?o.hctx.val[_]=V(o.hctx.val[_],i,[m,h,k,d,i,a,l.type,!!w.autocomplete,S],q):g&&o.ctx?o.ctx.val[_]=V(o.ctx.val[_],i,[m,h,k,d,i,a,l.type,!!w.autocomplete,S],q):o[_]=V(o[_],i,[m,h,k,d,i,a,l.type,!!w.autocomplete,S],q));else if($e===s)q="hash"===w.mode,_=q?"tabl":"symb",a=r[1],i=r[0],a=x(a,$,R),S&&(a=a[yt]()),i+="::"+a,f=y&&o.hctx?K(o.hctx.val[_],i,q):g&&o.ctx?K(o.ctx.val[_],i,q):K(o[_],i,q),f&&(y&&o.hctx?o.hctx.val[_]=W(f,q):g&&o.ctx?o.ctx.val[_]=W(f,q):o[_]=W(f,q));else if(be===s){if(q="hash"===w.mode,_=q?"tabl":"symb",a=r[1],i=r[0],a=x(a,$,R),S&&(a=a[yt]()),i+="::"+a,f=y&&o.hctx?K(o.hctx.val[_],i,q):g&&o.ctx?K(o.ctx.val[_],i,q):K(o[_],i,q),!f)return!1!==u&&(O.$msg=u?x(u,a,!0):'Undefined "'+a+'"',v=U(O),Y(o,m,h,k,d,O,v),O.status|=me),!1}else if(xe===s&&(q="hash"===w.mode,_=q?"tabl":"symb",a=r[1],i=r[0],a=x(a,$,R),S&&(a=a[yt]()),i+="::"+a,f=y&&o.hctx?K(o.hctx.val[_],i,q):g&&o.ctx?K(o.ctx.val[_],i,q):K(o[_],i,q)))return!1!==u&&(O.$msg=u?x(u,a,!0):'Defined "'+a+'"',v=U(O),Y(o,f.val[0],f.val[1],f.val[2],f.val[3],O,v),Y(o,m,h,k,d,O,v),O.status|=me),!1;if(I)return!0;if(ye===s)return!u&&It&e(r)&&(u=r),O.$msg=u?x(u,$,!0):'Error "'+L+'"',Y(o,m,h,k,d,O,U(O)),O.status|=me,!1;if(we===s){if(q="hash"===w.mode,_=q?"tabl":"symb",y){if(!o.hctx)return!0;c=o.hctx.val[_]}else if(g){if(!o.ctx)return!0;c=o.ctx.val[_]}else c=o[_];if(a=r[1],i=r[0],a=x(a,$,R),S&&(a=a[yt]()),i+="::"+a,f=K(c,i,q))return!1!==u&&(O.$msg=u?x(u,a,!0):'Duplicate "'+a+'"',v=U(O),Y(o,f.val[0],f.val[1],f.val[2],f.val[3],O,v),Y(o,m,h,k,d,O,v),O.status|=me),!1;y?o.hctx.val[_]=V(o.hctx.val[_],i,[m,h,k,d,i,a,l.type,!!w.autocomplete,S],q):g?o.ctx.val[_]=V(o.ctx.val[_],i,[m,h,k,d,i,a,l.type,!!w.autocomplete,S],q):o[_]=V(o[_],i,[m,h,k,d,i,a,l.type,!!w.autocomplete,S],q)}else if(Le===s){if(y){if(!o.hctx)return!0;p=o.hctx.val.queu}else if(g){if(!o.ctx)return!0;p=o.ctx.val.queu}else p=o.queu;if(r){if(r=x(r,$,R),S&&(r=r[yt]()),!p||r!==p.val[0])return!1!==u&&(p?(O.$msg=u?x(u,[p.val[0],r],!0):'Mismatched "'+p.val[0]+'","'+r+'"',v=U(O),Y(o,p.val[1],p.val[2],p.val[3],p.val[4],O,v),Y(o,m,h,k,d,O,v),p=p.prev):(O.$msg=u?x(u,["",r],!0):'Missing matching "'+r+'"',v=U(O),Y(o,m,h,k,d,O,v)),O.status|=me),y?o.hctx&&(o.hctx.val.queu=p):g?o.ctx&&(o.ctx.val.queu=p):o.queu=p,!1;p=p?p.prev:null}else p=p?p.prev:null;y?o.hctx&&(o.hctx.val.queu=p):g?o.ctx&&(o.ctx.val.queu=p):o.queu=p}else if(Se===s&&r){if(y){if(!o.hctx)return!0;p=o.hctx.val.queu}else if(g){if(!o.ctx)return!0;p=o.ctx.val.queu}else p=o.queu;r=x(r,$,R),S&&(r=r[yt]()),O.$msg=u?x(u,r,!0):'Missing matching "'+r+'"',p=new T([r,m,h,k,d,U(O)],p),
y?o.hctx&&(o.hctx.val.queu=p):g?o.ctx&&(o.ctx.val.queu=p):o.queu=p}return!0}function te(e,t,n,o,l){var s,r,a=e,i=a.token,u=a.modifier,p=a.type,c=a.name,f=a.except,m=n.line,h=t.pos,k=null,d=!1;if(a.status&=ke,a.$msg=l?null:a.msg||null,a.pos=t.pos,f&&!l){r=se(n,t);for(var g=0,y=f.length;y>g;g++)if(s=f[g],a!==s&&Ge===s.type&&te(s,t,n,o,1))return a.pos=s.pos,se(n,t,r),!1}if(ze===p)d=0===n.line;else if(Fe===p)d=n.bline+1===n.line;else if(Ae===p)d=t.sol();else if(Pe===p)t.spc(),t.eol()?d=c:(a.pos=t.pos,t.bck(h));else if(Ce===p)a.status=0,d=!0;else if(Te===p){if(null==o.space||t.eol()?t.spc()&&!t.eol()?(a.pos=t.pos,t.bck(h),a.status&fe&&(a.status|=me)):d=!0:a.status&fe&&(a.status|=me),a.status&=he,!0===d)return d}else Ot===i?(t.end(),d=u||c):(k=C(i,t))&&(k=k[1],d=u||c);return l?d:(!1!==d&&(o.T=p,o.id=c,o.type=d,o.str=t.sel(h,t.pos),o.match=k,o.pos=[m,h,m,t.pos]),!d&&a.status&&a.$msg&&(a.$msg=x(a.$msg,c,!0)),d)}function ne(e,t,n,o){var l,s,r,a,i,u,p,c,f,m,h,k,d,g,y,v,$,b,w,q,_,O,E=e,S=E.name,L=E.type,R=E.modifier,I=E.token,j=E.mline,M=E.inter,N=M?S+".inside":S,D=E.esc,z=!!D,F="",P="",A="",T="",G=E.$id||S,H=n.outer,U=H&&H[2],Y=H&&H[1];if(E.status&=ke,E.$msg=E.msg||null,E.pos=t.pos,q=n.line,_=t.pos,Be===L&&(E.status&=he),y=E.status&fe,r=0,a=0,n.block&&n.block.name===S?(a=1,r=1,g=N,l=n.block.end,c=n.block.sp,m=n.block.ip,f=n.block.ep,F=n.block.s,P=n.block.i):!n.block&&(l=C(I,t))&&(a=1,g=S,$=t.pos,c=[q,_],m=[[q,$],[q,$]],f=[q,$],F=t.sel(_,$),P="",T="",n.block={name:S,end:l,sp:c,ip:m,ep:f,s:F,i:P,e:T}),a){if(w=n.stack,s=Ot===l.ptype,v=s||E.empty,M){if(s&&r&&t.sol())return E.status&=he,n.block=null,!1;if(!r)return $=t.pos,o.T=L,o.id=S,o.type=R||g,o.str=t.sel(_,$),o.match=null,o.pos=[q,_,q,$],J(n,w,B(E,y,0,G)),R||g}if($=t.pos,i=Y?s&&t.eol():C(l,t),p=j,u=0,i)g=s?N:S,T=t.sel($,t.pos);else if(b=t.pos,k=!1,Y||z||Mt!==l.ptype&&jt!==l.ptype&&It!==l.ptype){for(;!t.eol();){if(Y){if(Z(Y,t,U,o)){if(t.pos>b){s&&(i=1);break}return!0}if(s){d=t.nxt(1),A+=d;continue}}if($=t.pos,!k&&C(l,t)){M&&t.pos>$&&$>b?(g=N,t.bck($),u=1):(g=S,i=1),T=t.sel($,t.pos);break}d=t.nxt(1),A+=d,k=z&&!k&&D===d,$=t.pos}s&&t.eol()&&(i=1)}else(O=C(l,t,!0,!0))?M&&t.pos>$+O[1].length?(g=N,t.mov(-O[1].length),u=1,A=t.sel($,t.pos)):(g=S,i=1,A=t.sel($,t.pos-O[1].length),T=O[1]):(t.end(),g=N,u=1,A=t.sel($,t.pos));return p=j||z&&k,P+=A,m[1]=[q,$],f=[q,t.pos],i&&!v&&m[0][0]===m[1][0]&&m[0][1]===m[1][1]?(n.block=null,!1):(i||!p&&!u?n.block=null:(n.block.ip=m,n.block.ep=f,n.block.i=P,n.block.e=T,J(n,w,B(E,y,0,G))),o.T=L,o.id=S,o.type=R||g,o.str=t.sel(_,t.pos),o.match=null,o.pos=[q,_,f[0],f[1]],E.pos=t.pos,n.block||(h=F+P+T,o.block={str:h,match:[h,P,F,T],part:[h,F,P,T],pos:[[c[0],c[1],f[0],f[1]],[c[0],c[1],m[0][0],m[0][1]],[m[0][0],m[0][1],m[1][0],m[1][1]],[m[1][0],m[1][1],f[0],f[1]]]}),R||g)}return E.status&&E.$msg&&(E.$msg=x(E.$msg,S,!0)),!1}function oe(e,t,n,o){var l,s,r,a,i,u,c,f,m,h,k,d,g,y,v,$=e,b=$.type,x=($.name,$.token),w=x.length,q=$.modifier;if($.status&=ke,$.$msg=$.msg||null,f=t.pos,m=n.stack,$.pos=t.pos,u=0,c=0,tt===b){$.status&=ke;var _=new String(x[0]),O=n.stack?n.stack.val:null;return _.subgrammar=1,_.next=O?new G(Xe,O.name,[O]):null,_.required=O?O.status&fe:0,_}if(Ue===b){for(g=p(),$.status|=fe,d=[],v=se(n,t),k=0,h=k;w>h;h++){if(l=B(x[h],1,q,g),s=Z(l,t,n,o),$.pos=l.pos,l.status&fe&&(u++,d.push(U(l))),!1!==s)return s;l.status&me&&(c++,se(n,t,v))}return u>0?$.status|=fe:$.status&=he,w===c&&u>0?$.status|=me:$.status&=ke,$.status&&!$.$msg&&d.length&&($.$msg=d.join(" | ")),!1}if(nt&b){y=!!(b&Ye),g=$.$id||p(),y?$.status|=fe:$.status&=he,v=se(n,t),k=0;do l=B(x[k++],y,q,g),s=Z(l,t,n,o);while(w>k&&(!0===s&&Qe&l.type||!1===s&&!(l.status&fe)));if($.pos=l.pos,!1!==s){if(!0!==s||Ce!==l.type)for(h=w-1;h>=k;h--)m=J(n,m,B(x[h],1,q,g));return s.subgrammar&&w>k&&(s.next=new G(Xe,x[k].name,[x[k]]),s.required=x[k].status&fe),s}return l.status&me?(y?$.status|=me:$.status&=ke,se(n,t,v)):y&&l.status&fe&&($.status|=me),$.status&&!$.$msg&&($.$msg=U(l)),!1}if(Qe&b)return tt&x[0].type?!0:(v=se(n,t,null,!1),s=Z(B(x[0],0),t,n,o),se(n,t,v),Ze===b?!1===s:!1!==s);for(g=$.$id||p(),r=$.found,a=$.min,i=$.max,$.status=0,d=[],v=se(n,t),h=0;w>h;h++){if(l=B(x[h],1,q,g),s=Z(l,t,n,o),$.pos=l.pos,!1!==s){if(++r,i>=r)return $.found=r,J(n,m,B($,0,0,p())),$.found=0,s;break}l.status&fe&&(u++,d.push(U(l))),l.status&me&&se(n,t,v)}return a>r&&($.status|=fe),(r>i||a>r&&u>0)&&($.status|=me),$.status&&!$.$msg&&d.length&&($.$msg=d.join(" | ")),!1}function le(e,t){var n=this;n.id=e?c("state"):"state",t instanceof le?(n.line=t.line,n.bline=t.bline,n.status=t.status,n.stack=Q(t.stack,!1),n.token=t.token,n.token2=t.token2,n.block=t.block,n.outer=t.outer?[t.outer[0],t.outer[1],new le(e,t.outer[2])]:null,n.queu=t.queu||null,n.symb=t.symb||null,n.tabl=t.tabl||null,n.ctx=t.ctx?new T({tabl:t.ctx.val.tabl,symb:t.ctx.val.symb,queu:t.ctx.val.queu},t.ctx.prev):null,n.hctx=t.hctx?new T({tabl:t.hctx.val.tabl,symb:t.hctx.val.symb,queu:t.hctx.val.queu},t.hctx.prev):null,n.err=t.err||null,n.$eol$=t.$eol$,n.$blank$=t.$blank$):(n.line=-1,n.bline=-1,n.status=t||0,n.stack=null,n.token=null,n.token2=null,n.block=null,n.outer=null,n.queu=null,n.symb=null,n.tabl={},n.ctx=null,n.hctx=null,n.err=n.status&pe?{}:null,n.$eol$=!0,n.$blank$=!0)}function se(e,t,n,o){return n?(e.status=n[0],e.block=n[1],e.outer=n[2],e.stack=n[3],t&&t.pos>n[4]&&t.bck(n[4]),void 0):(n=[e.status,e.block,e.outer,e.stack,t?t.pos:1/0],!1===o&&(e.status=0),n)}function re(e){e.id=null,e.line=null,e.bline=null,e.status=null,e.stack=null,e.token=null,e.token2=null,e.block=null,e.outer=null,e.queu=null,e.symb=null,e.tabl=null,e.ctx=null,e.hctx=null,e.err=null}function ae(e,t,n){var o=new String(e);return o.start=t||0,o.pos=n||0,o.sol=function(){return 0===o.pos},o.eol=function(){return o.pos>=o.length},o.end=function(){return o.pos=o.length,o},o.mov=function(e){return o.pos=0>e?dt(0,o.pos+e):gt(o.length,o.pos+e),o},o.bck=function(e){return o.pos=dt(0,e),o},o.sft=function(){return o.start=o.pos,o},o.nxt=function(e,t){var n,l,s="";if(!0===e){for(t=t||ae.$NONSPC$;o.pos<o.length&&t.test(n=o[vt](o.pos++));)s+=n;return s.length?s:null}for(e=e||1,l=0;l++<e&&o.pos<o.length;)s+=o[vt](o.pos++);return s},o.cur=function(e){var t=o.slice(o.start,o.pos);return e&&(o.start=o.pos),t},o.sel=function(e,t){return o.slice(e,t)},o.spc=function(e,t){var n;return(n=o.slice(o.pos).match(t||ae.$SPC$))?(!1!==e&&o.mov(n[0].length),n[0]):void 0},o}function ie(e,n){var l=function(e){return new n.Match(e.token,e.pos,e.type)},s=n.Highlighter,r=m(s,{constructor:function(){var e=this;s.call(e)},findMatches:function(e,n){var s=r.escapeHtml;s&&(n=y(n));var a=r.$parser.parse(n,ue|pe|ce).tokens;if(s){var i=0;o(function(e,t){var n=t[e];n.pos=i,n.token=g(n.token,1),i+=n.token.length},0,a.length-1,a)}return t(a,l)}});return r.$id=c("syntaxhighlighter_grammar_brush"),r.$parser=new sn.Parser(P(e)),r.escapeHtml=!0,r.submode=function(e,t){r.$parser.subparser(e,t.$parser)},r.dispose=function(){r.$parser&&r.$parser.dispose(),r.$parser=null},r}var ue=1,pe=2,ce=32,fe=4,me=8,he=~fe,ke=~me,de=fe|me,ge=0,ye=4,ve=8,$e=9,be=10,xe=11,we=12,qe=16,_e=17,Oe=18,Ee=19,Se=32,Le=33,Re=128,Ie=129,je=2,Me=4,Ne=8,De=4,ze=8,Fe=9,Pe=16,Ae=32,Ce=128,Te=256,Ge=512,He=1024,Be=1025,Ue=2048,Ye=4096,Ke=8192,Ve=8193,We=8194,Je=8195,Qe=16384,Xe=Qe,Ze=16385,et=32768,tt=65536,nt=Ye|et,ot=Ue|Ye|Ke|Qe|et|tt,lt={action:De,simple:Ge,block:He,comment:Be,subgrammar:tt,alternation:Ue,sequence:Ye,repeat:Ke,zeroorone:Ve,zeroormore:We,oneormore:Je,positivelookahead:Xe,negativelookahead:Ze,ngram:et},st="$|SOF|$",rt="$|NONBLANK|$",at="$|SOL|$",it="$|EOL|$",ut="$|ENDLINE|$",pt="$|EMPTY|$",ct="$|NONSPACE|$",ft=void 0,mt="prototype",ht=Object[mt],kt=Object.create,dt=Math.max,gt=Math.min,yt="toLowerCase",vt="charAt",$t=ht.toString,bt=ht.hasOwnProperty,xt=ht.propertyIsEnumerable,wt=1/0,qt=4,_t=8,Ot=16,Et=32,St=33,Lt=34,Rt=64,It=128,jt=129,Mt=130,Nt=256,Dt=512,zt=1024,Ft=2048,Pt=4096,At=It|Et,Ct=It|Nt,Tt=Ft|Nt,Gt=It|Nt|Ft,Ht={"[object Number]":Et,"[object String]":It,"[object Array]":Nt,"[object RegExp]":Ft,"[object Date]":Pt,"[object Function]":zt,"[object Object]":Dt},Bt=/^\s+|\s+$/g,Ut=String[mt].trim?function(e){return e.trim()}:function(e){return e.replace(Bt,"")},Yt=function(e,t){return t.length-e.length},Kt=/\r\n|\r|\n/g,Vt=/[\-_]/g,Wt=0,Jt=/([.*+?^${}()|[\]\/\\\-])/g,Qt=/[&"'<>]/g,Xt=/&(amp|lt|gt|apos|quot);/g,Zt=/^([.!&\[\]{}()*+?\/|'"]|\s)/,en="(\\s|\\W|$)",tn=/(l?i?l?)x(l?i?l?)$/,nn=/[*+]$/;le.prototype.toString=function(){var e=this;return e.id+"_"+e.line+"_"+e.bline+"_"+(e.block?e.block.name:"0")},ae.$SPC$=/^[\s\u00a0]+/,ae.$NONSPC$=/[^\s\u00a0]/,ae.$NOTEMPTY$=/\S/,ae.$SPACE$=/^\s*/;var on=m({constructor:function(e,t,n){var o=this;o.$grammar=e,o.$DEF=t||null,o.$ERR=n||null,o.DEF=o.$DEF,o.ERR=o.$ERR,o.$folders=[],o.$matchers=[],o.$subgrammars={}},$grammar:null,$subgrammars:null,$folders:null,$matchers:null,$n$:"name",$t$:"type",$v$:"token",$DEF:null,$ERR:null,DEF:null,ERR:null,dispose:function(){var e=this;return e.$grammar=e.$subgrammars=null,e.$folders=e.$matchers=null,e.$n$=e.$t$=e.$v$=null,e.$DEF=e.$ERR=e.DEF=e.ERR=null,e},token:function(e,t,n){if(t.token2){var o=t.token2[0];return e.pos=t.token2[1],e.sft(),t.token=t.token2[3],t.$eol$=e.eol(),t.$blank$=t.$blank$&&(t.token2[2]||t.$eol$),t.token2=null,o}var l,s,r,a,i,u,p,c,f,m,h,k,d,g,y,v,$,b,x=this,w=x.$grammar,q=w.Style,_=x.DEF,O=x.ERR,o={},E=x.$n$,S=x.$t$,L=x.$v$,R=w.$interleaved,I=w.$parser,j=I.length,M=R?R.length:0,N=t.outer,D=N&&N[2],z=N&&N[1];if(e.sol()&&(t.$eol$&&(t.$blank$&&(t.bline=t.line),t.$eol$=!1,t.line++),t.$blank$=t.bline+1===t.line),t.$actionerr$=!1,t.token=null,a=t.line,i=e.pos,m=!1,k=!0,h=!1,d=!1,N&&x===N[0]){if(o[E]=null,o[S]=_,o[L]=null,z){if(r=new H,Z(z,e,D,r))return t.outer=null,{parser:x,state:D};for(e.nxt(1);!e.eol();){if(Z(z,e,D,r)){if(e.pos>i)break;return t.outer=null,{parser:x,state:D}}e.nxt(1)}}else e.spc(),e.eol()?d=!0:e.end();return o[L]=e.cur(1),t.$eol$=e.eol(),t.$blank$=t.$blank$&&(d||t.$eol$),o}if(t.stack&&Pe===t.stack.val.type&&e.sol()&&(t.stack=t.stack.prev),(!t.stack||null==t.block)&&e.spc()){if(t.stack&&tt===t.stack.val.type)return e.bck(i),l=t.stack.val,t.stack=t.stack.prev,m=Z(l,e,t,r),g=""+m,x.$subgrammars[g]?(y=x.$subgrammars[g],v=new le(1,n[g]?n[g]:t.status),D=t):(y=x,v=new le,D=t),v.outer=[x,m.next,D],{parser:y,state:v,toInner:g};k=!0,d=!0}if(o[E]=null,o[S]=_,o[L]=null,k)for(r=new H,d&&(r.space=[i,e.pos],e.sft()),u=0;k&&(t.stack||j>u)&&!e.eol();){if(c=e.pos,f=t.stack,z){if(e.spc(),Z(z,e,D,r))return r.space||e.pos>c?(r.space&&(e.start=r.space[0],e.pos=r.space[1]),o[L]=e.cur(1),t.$eol$=e.eol(),t.$blank$=t.$blank$&&!0,o):(t.outer=null,{parser:N[0],state:D,fromInner:t});e.bck(c)}if($=!1,M&&!t.block)for(p=0;M>p;p++)if(l=R[p],m=Z(l,e,t,r),!1!==m){$=!0;break}if(k&&!$){if(!t.stack&&u>=j)break;t.stack?(l=t.stack.val,t.stack=t.stack.prev):l=I[u++],m=Z(l,e,t,r)}if(!1===m){if(l.status&de){t.token=l,d=X(t,e,r,l)||d,h=!0,k=!1;break}}else{if(m.subgrammar)return g=""+m,x.$subgrammars[g]?(y=x.$subgrammars[g],v=new le(1,n[g]?n[g]:t.status),D=t):(y=x,v=new le,D=t),v.outer=[x,m.next,D],r.space?(t.token2=[{parser:y,state:v,toInner:g},e.pos,d,t.token],t.token=null,e.start=r.space[0],e.pos=r.space[1],o[L]=e.cur(1),t.$eol$=e.eol(),t.$blank$=t.$blank$&&!0,o):{parser:y,state:v,toInner:g};if(t.stack&&t.stack.prev&&e.eol()&&He&t.stack.val.type&&t.block&&t.block.name===t.stack.val.name)for(p=t.stack.prev;p&&De===p.val.type;)s=p,p=p.prev,b=ee(s,e,t,r),s.status&me?t.$actionerr$=!0:b&&!0!==m&&s.modifier&&(m=s.modifier);else if(t.stack&&De===t.stack.val.type)for(;t.stack&&De===t.stack.val.type;)s=t.stack.val,t.stack=t.stack.prev,b=ee(s,e,t,r),s.status&me?t.$actionerr$=!0:b&&!0!==m&&s.modifier&&(m=s.modifier);if(!0!==m){k=!1;break}}}return k&&(r.space?(e.start=r.space[0],e.pos=r.space[1],m=!1,r.space=null):e.nxt(1)),o[L]=e.cur(1),!1!==m?(m=m?q[m]||_:_,o[E]=l?l.name:null):h?(m=O,t.status&pe&&Y(t,a,i,a,e.pos,l)):m=_,o[S]=m,r.space&&(t.token2=[o,e.pos,d,t.token],t.token=null,e.start=r.space[0],e.pos=r.space[1],o={},o[E]=null,o[S]=_,o[L]=e.cur(1),d=!0),t.$eol$=e.eol(),t.$blank$=t.$blank$&&(d||t.$eol$),o},get:function(e,t){for(var n=t.parser.token(e,t.state,t.inner);n&&n.parser;)n.fromInner&&t.parser!==n.parser&&(t.state.err=n.fromInner.err,t.name&&(t.inner[t.name]=n.fromInner)),n.state.err=t.state.err,n.state.line=t.state.line,n.state.bline=t.state.bline,n.state.$blank$=t.state.$blank$,n.state.$eol$=t.state.$eol$,n.state.$full_parse$=t.state.$full_parse$,t.state=n.state,t.parser=n.parser,t.name=n.toInner,n=t.parser.get(e,t);return n},tokenize:function(e,t,n,o){if(o=o||[],e.eol())t.state.line++,t.state.$blank$&&t.state.bline++;else for(;!e.eol();)o.push(t.parser.get(e,t));return o},parse:function(e,t){var n,l,s,r,a,i,u=(e||"").split(Kt),p=u.length,c=null;if(t=t||ue,s=!!(t&pe),r=!!(t&ue),l={parser:this,state:new le(0,t),inner:{}},l.state.$full_parse$=!0,o(function(e){u[e]+="\n"},0,p-2),r?c=o(t&ce?function(e,t){l.parser.tokenize(ae(u[e]),l,e,t)}:function(e,t){t.push(l.parser.tokenize(ae(u[e]),l,e))},0,p-1,[]):o(function(e){var t=ae(u[e]);if(t.eol())l.state.line++,l.state.$blank$&&l.state.bline++;else for(;!t.eol();)l.parser.get(t,l)},0,p-1),n=l.state,s&&n.queu)for(;n.queu;)a=n.queu.val,n.queu=n.queu.prev,Y(n,a[1],a[2],a[3],a[4],null,a[5]);return i=r&&s?{tokens:c,errors:n.err}:r?c:n.err,re(n),l=n=null,i},autocompletion:function(e,t,n){var o,l,s=e.stack,r={},a=j([e.token],[],r,n);for(t=t||0;s;){if(o=s.val,l=o.type,Ke&l){if(a=j([o],a,r,n),0<o.min&&t<a.length)break}else if((Ge===l||Ue===l||nt&l)&&(a=j([o],a,r,n),t<a.length))break;s=s.prev}return n&&n.length?n.concat(a):a},dynamic_autocompletion:function(e){return e?I(e)||null:null},subparser:function(e,t){var n=this;return!1===t?bt.call(n.$subgrammars,e)&&delete n.$subgrammars[e]:t&&(n.$subgrammars[e]=t),n},iterator:function(){},validate:function(){},autocomplete:function(){},indent:function(){},fold:function(){},match:function(){}}),ln=m(on,{constructor:function(e,t){var n=this;on.call(n,e,"plain","plain"),n.DEF=t||n.$DEF,n.ERR=n.$ERR},get:function(e,t){for(var n=t.parser.token(e,t.state,t.inner);n&&n.parser;)n.fromInner&&t.parser!==n.parser&&(t.state.err=n.fromInner.err,t.state.pos=n.fromInner.pos,t.name&&(t.inner[t.name]=n.fromInner)),n.state.err=t.state.err,n.state.line=t.state.line,n.state.bline=t.state.bline,n.state.$blank$=t.state.$blank$,n.state.$eol$=t.state.$eol$,n.state.pos=t.state.pos,n.state.$full_parse$=t.state.$full_parse$,t.state=n.state,t.parser=n.parser,t.name=n.toInner,n=t.parser.get(e,t);return n},tokenize:function(e,n,o,l){var s,r=this,a=[],i=null,u=Array.prototype.push,p=function(e){return e.type=r.$DEF,e};if(l=l||[],ft===n.state.pos&&(n.state.pos=0),e.eol())n.state.line++,n.state.$blank$&&n.state.bline++;else for(;!e.eol();)s=n.parser.get(e,n),s.pos=n.state.pos,n.state.pos+=s.token.length,n.state.$actionerr$?(a.length&&u.apply(l,t(a,p)),s.type=r.$DEF,l.push(s),a.length=0,i=null):(i!==s.name&&(a.length&&u.apply(l,a),a.length=0,i=s.name),a.push(s));return a.length&&u.apply(l,a),a.length=0,i=null,l}}),sn={VERSION:"4.2.1",clone:l,extend:s,pre_process:F,parse:P,getMode:ie,Parser:ln};return sn});