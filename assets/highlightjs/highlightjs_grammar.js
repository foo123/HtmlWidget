/**
*
*   HighlightJSGrammar
*   @version: 4.1.0
*
*   Transform a grammar specification in JSON format, into a syntax-highlight language for HighlightJS
*   https://github.com/foo123/highlightjs-grammar
*   https://github.com/foo123/editor-grammar
*
**/!function(e,t,n){"use strict";"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[t]=n.call(e)):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["module"],function(t){return n.moduleUri=t.uri,n.call(e)}):t in e||(e[t]=n.call(e)||1)&&"function"==typeof define&&define.amd&&define(function(){return e[t]})}(this,"HighlightJSGrammar",function(){"use strict";function e(e){var t=0;return null===e?t=gt:!0===e||!1===e||e instanceof Boolean?t=wt:lt===e?t=xt:(t=zt[ct.call(e)]||dt,t=$t===t||e instanceof Number?isNaN(e)?vt:isFinite(e)?$t:bt:qt===t||e instanceof String?1===e.length?_t:qt:Et===t||e instanceof Array?Et:Lt===t||e instanceof RegExp?Lt:It===t||e instanceof Date?It:Rt===t||e instanceof Function?Rt:St===t?St:dt),t}function t(e,t,n,o){var r,l,s,i,a,u,c=e.length;if(arguments.length<4&&(o=c-1),0>o&&(o+=c),arguments.length<3&&(n=0),n>o)return[];if(n===o)return[t(e[n],n,n,o)];for(s=o-n+1,i=15&s,a=1&i,u=new Array(s),a&&(u[0]=t(e[n],n,n,o)),r=a;i>r;r+=2)l=n+r,u[r]=t(e[l],l,n,o),u[r+1]=t(e[l+1],l+1,n,o);for(r=i;s>r;r+=16)l=n+r,u[r]=t(e[l],l,n,o),u[r+1]=t(e[l+1],l+1,n,o),u[r+2]=t(e[l+2],l+2,n,o),u[r+3]=t(e[l+3],l+3,n,o),u[r+4]=t(e[l+4],l+4,n,o),u[r+5]=t(e[l+5],l+5,n,o),u[r+6]=t(e[l+6],l+6,n,o),u[r+7]=t(e[l+7],l+7,n,o),u[r+8]=t(e[l+8],l+8,n,o),u[r+9]=t(e[l+9],l+9,n,o),u[r+10]=t(e[l+10],l+10,n,o),u[r+11]=t(e[l+11],l+11,n,o),u[r+12]=t(e[l+12],l+12,n,o),u[r+13]=t(e[l+13],l+13,n,o),u[r+14]=t(e[l+14],l+14,n,o),u[r+15]=t(e[l+15],l+15,n,o);return u}function n(e,t,n,o,r){var l,s,i,a,u,c=e.length,p=n;if(arguments.length<5&&(r=c-1),0>r&&(r+=c),arguments.length<4&&(o=0),o>r)return p;if(o===r)return t(p,e[o],o);for(i=r-o+1,a=15&i,u=1&a,u&&(p=t(p,e[o],o)),l=u;a>l;l+=2)s=o+l,p=t(t(p,e[s],s),e[s+1],s+1);for(l=a;i>l;l+=16)s=o+l,p=t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(p,e[s],s),e[s+1],s+1),e[s+2],s+2),e[s+3],s+3),e[s+4],s+4),e[s+5],s+5),e[s+6],s+6),e[s+7],s+7),e[s+8],s+8),e[s+9],s+9),e[s+10],s+10),e[s+11],s+11),e[s+12],s+12),e[s+13],s+13),e[s+14],s+14),e[s+15],s+15);return p}function o(e,t,n,o){if(t>n)return o;if(t===n)return e(t,o,t,n),o;var r,l,s=n-t+1,i=15&s,a=1&i;for(a&&e(t,o,t,n),r=a;i>r;r+=2)l=t+r,e(l,o,t,n),e(++l,o,t,n);for(r=i;s>r;r+=16)l=t+r,e(l,o,t,n),e(++l,o,t,n),e(++l,o,t,n),e(++l,o,t,n),e(++l,o,t,n),e(++l,o,t,n),e(++l,o,t,n),e(++l,o,t,n),e(++l,o,t,n),e(++l,o,t,n),e(++l,o,t,n),e(++l,o,t,n),e(++l,o,t,n),e(++l,o,t,n),e(++l,o,t,n),e(++l,o,t,n);return o}function r(t,n){var o,l,s,i,a=e(t),u=0;if($t===e(n)?n>0?(u=n,n=!0):n=!1:n=!1!==n,St===a){l={};for(s in t)t[it](s)&&t[at](s)&&(o=e(t[s]),St===o?l[s]=n?r(t[s],u>0?u-1:n):t[s]:Et===o?l[s]=n?r(t[s],u>0?u-1:n):t[s].slice():It===o?l[s]=new Date(t[s]):qt&o?l[s]=t[s].slice():$t&o?l[s]=0+t[s]:l[s]=t[s])}else if(Et===a)for(i=t.length,l=new Array(i),s=0;i>s;s++)o=e(t[s]),St===o?l[s]=n?r(t[s],u>0?u-1:n):t[s]:Et===o?l[s]=n?r(t[s],u>0?u-1:n):t[s].slice():It===o?l[s]=new Date(t[s]):qt&o?l[s]=t[s].slice():$t&o?l[s]=0+t[s]:l[s]=t[s];else l=It===a?new Date(t):qt&a?t.slice():$t&a?0+t:t;return l}function l(){var t,n,o,s,i,a,u,c,p,f,m=arguments,h=m.length;if(1>h)return null;for(n=r(m[0]),o=1;h>o;o++)if(t=m[o])for(s in t)if(t[it](s)&&t[at](s))if(n[it](s)&&n[at](s)){if(p=e(n[s]),f=e(t[s]),St===p&&St===f)n[s]=l(n[s],t[s]);else if(Et===p&&Et===f){if(u=n[s],c=t[s],a=c.length,!a)continue;if(u.length)for(i=0;a>i;i++)0>u.indexOf(c[i])&&u.push(c[i]);else n[s]=c.slice()}}else n[s]=r(t[s]);return n}function s(t,n){return n||Et!==e(t)?[t]:t}function i(t,n){return t=s(t),(n||Et!==e(t[0]))&&(t=[t]),t}function a(t,n){return qt&e(n)&&qt&e(t)&&n.length&&n.length<=t.length&&n===t.substr(0,n.length)}function u(e,t,n){return n?e[t]=lt:delete e[t],e}function c(e){return(e||"id_")+ ++Gt}function p(e){return(e||"uuid")+"_"+ ++Gt+"_"+(new Date).getTime()}function f(){var t,n,o,r,l,s,i=arguments,a=i.length;for(t=i[0]||{},l=1;a>l;l++)if(n=i[l],St===e(n))for(r in n)n[it](r)&&n[at](r)&&(o=n[r],s=e(o),$t&s?t[r]=0+o:It&s?t[r]=new Date(o):Mt&s?t[r]=o.slice():t[r]=o);return t}function m(e,t){var n,o=arguments.length,r="constructor";return 0===o?(e=Object,t={}):1===o?(t=e||{},e=Object):(e=e||Object,t=t||{}),t[it](r)||(t[r]=function(){}),n=t[r],delete t[r],n[st]=f(pt(e[st]),t),n[st][r]=n,n}function h(e){return e.replace(Bt,"\\$1")}function k(e,t){t=t||{l:0,x:0,i:0,g:0};var e=new RegExp(e,(t.g?"g":"")+(t.i?"i":""));return e.xflags=t,e}function y(e,t,n,o){var r,l,s,i,a=e.pos,u=e.length,c="",p=!!n;if(p){for(o=!!o,l=!1,i=0;u>a&&(r=e[kt](a++),t!==r||l);)s=n===r,l=!l&&s,o?(s&&i++,(!s||2&i)&&(c+=r,i=0)):c+=r;2&i&&(c+=n)}else for(;u>a&&(r=e[kt](a++),t!==r);)c+=r;return e.pos=a,c}function d(t,n,o,r){var l,s,i,a,u,c=!0===o?0:1,p=r?"\\":"$",f=r?92:36;for(qt&e(n)&&(r&&(n=h(n)),n=[n,n,n],c=0),s=t.length,u="",l=0;s>l;)i=t[kt](l),s>l+1&&p===i?(a=t.charCodeAt(l+1),f===a?(u+=p,l+=2):a>=48&&57>=a?(u+=n[c+a-48]||"",l+=2):(u+=i,l+=1)):(u+=i,l+=1);return u}function x(t,n,o,r){if(!t||($t|Lt)&e(t))return t;var l,s=n?n.length||0:0,i="",a={g:0,i:0,x:0,l:0};if(qt&e(r)?i=r:r&&(i=Yt),s&&t.substr(0,s)===n){var u,c,p,l,f,m=t.substr(s),y=m[kt](0);for(l=m.length;l--&&(f=m[kt](l),y!==f);)"i"===f.toLowerCase()?a.i=1:"x"===f.toLowerCase()?a.x=1:"l"===f.toLowerCase()&&(a.l=1);return u=m.substring(1,l),"^"===u.charAt(0)?(a.l=1,c="^("+u.slice(1)+")"):c="^("+u+")",p=c,(a.x||a.l||a.i)&&(c=(a.l?"l":"")+(a.x?"x":"")+(a.i?"i":"")+"::"+c),o[c]||(p=k(p,a),o[c]=p),o[c]}return i?(p=c="^("+h(t)+")"+i,o[c]||(p=k(p,a),o[c]=p),o[c]):t}function g(n,o,r){var l,s="";return qt&e(o)?s=o:o&&(s=Yt),l=t(n.sort(At),h).join("|"),[k("^("+l+")"+s,{l:0,x:0,i:r?1:0}),1]}function $(t,n,o,r){var l=e(n);if($t===l)return n;if(r[t])return r[t];o=o||0;var s,i=0;return n&&n.isCharList&&(i=1,u(n,"isCharList")),s=gt===l?new M(_e,t,n,gt,o):_t===l?new M(_e,t,n,_t,o):Nt&l?new M(_e,t,n,Lt,o):qt&l?new M(_e,t,n,i?Ot:qt,o):n,r[t]=s}function b(t,n,o,r,l,i,u,c){if(u[t])return u[t];var p,f,m,h,k,y,d,v=0,w=0,q=1,_=qt&e(r)?!0:!!r;if(p=s(n),m=p.length,1===m)d=$(t,x(p[0],o,i,r),0,u);else if(m>1){for(h=(m>>>1)+1,f=0;h>=f;f++)k=e(p[f]),y=e(p[m-1-f]),_t===k&&_t===y||(q=0),Et&k||Et&y?v=1:(Lt&k||Lt&y||a(p[f],o)||a(p[m-1-f],o))&&(w=1);if(q&&!_)p=p.slice().join(""),p.isCharList=1,d=$(t,p,0,u);else if(!_||v||w)if(v||w){for(f=0;m>f;f++)Et&e(p[f])?p[f]=b(t+"_"+f,p[f],o,r,l,i,u):p[f]=$(t+"_"+f,x(p[f],o,i),f,u);d=m>1?new M(Oe,t,p):p[0]}else{for(c&&(c.keywords=s(n).slice()),p=p.sort(At),f=0;m>f;f++)p[f]=$(t+"_"+f,x(p[f],o,i),f,u);d=m>1?new M(Oe,t,p):p[0]}else c&&(c.keywords=s(n).slice()),d=$(t,g(p,r,l),0,u)}return u[t]=d}function v(t,n,r,l,s){if(s[t])return s[t];var u=i(n),c=[],p=[];return o(function(n){var o,i,f,m;o=$(t+"_0_"+n,x(u[n][0],r,l),n,s),u[n].length>1?(f=a(u[n][1],r),m=f&&Ht.test(u[n][1]),Lt!==o.ptype||qt!==e(u[n][1])||!m&&f?i=$(t+"_1_"+n,x(u[n][1],r,l),n,s):m?(i=new String(u[n][1]),i.regex_pattern=r):i=u[n][1]):i=o,c.push(o),p.push(i)},0,u.length-1),s[t]=new M(Ee,t,[c,p])}function w(e,t){var n=i(e.tokens.slice());o(function(e){var o=n[e][0],r=n[e].length>1?n[e][1]:n[e][0],l=n[e].length>2?n[e][2]:"";null===r?(t.line=t.line||[],t.line.push(o)):(t.block=t.block||[],t.block.push([o,r,l]))},0,n.length-1)}function q(e,n,o,r){var l=e.meta||o,s=!(!e.caseInsesitive&&!e.ci),i=t(n,function(e){return{word:e,meta:l,ci:s}});return r.autocomplete=(r.autocomplete||[]).concat(i),i}function _(t){t.Lex||(t.Lex={}),t.Syntax||(t.Syntax={});var n,o,r,s,i,a,c,p,f,m,h,k=t.Lex,y=t.Syntax,d=[k,y],x=d.length;for(h=0;x>h;){m=d[h++];for(r in m)m[it](r)&&(n=r.split(":"),o=n[1]&&Pt(n[1]).length?Pt(n[1]):null,n=Pt(n[0]),n.length||(n=r,o=null),n!==r&&(m[n]=m[r],u(m,r),o&&(o=o[ht](),s=m[n],i=e(s),St===i?m[n].type||(m[n].type=o):(m[n]={type:o},"error"===o?(m[n].type="action",m[n].error=s):"nop"===o?(m[n].type="action",m[n].nop=!0):"group"===o?(m[n].type="sequence",m[n].tokens=s):"action"===o&&qt===i?m[n][s]=!0:m[n].tokens=s))),k===m&&(Dt&e(m[n])&&(m[n]={type:"simple",tokens:m[n]}),s=m[n],s.type&&(p=s.type=s.type[ht](),"line-block"===p?(s.type="block",s.multiline=!1,s.escape=!1):"escaped-line-block"===p?(s.type="block",s.multiline=!1,s.escape="\\"):"escaped-block"===p&&(s.type="block",s.multiline=!0,s.escape="\\"))))}m=k;for(n in m)if(m[it](n))for(s=m[n];s.extend;)a=s.extend,u(s,"extend"),c=k[a],c&&(Dt&e(c)&&(c=k[a]={type:"simple",tokens:c}),s=l(c,s));m=k;for(n in m)m[it](n)&&(s=m[n],s.type?(p=s.type=s.type[ht](),"line-block"===p?(s.type="block",s.multiline=!1,s.escape=!1):"escaped-line-block"===p?(s.type="block",s.multiline=!1,s.escape="\\"):"escaped-block"===p&&(s.type="block",s.multiline=!0,s.escape="\\")):s["escaped-line-block"]?(s.type="block",s.multiline=!1,s.escape||(s.escape="\\"),s.tokens=s["escaped-line-block"],u(s,"escaped-line-block")):s["escaped-block"]?(s.type="block",s.multiline=!0,s.escape||(s.escape="\\"),s.tokens=s["escaped-block"],u(s,"escaped-block")):s["line-block"]?(s.type="block",s.multiline=!1,s.escape=!1,s.tokens=s["line-block"],u(s,"line-block")):s.comment?(s.type="comment",s.escape=!1,s.tokens=s.comment,u(s,"comment")):s.block?(s.type="block",s.tokens=s.block,u(s,"block")):s.simple?(s.type="simple",s.tokens=s.simple,u(s,"simple")):s.nop?(s.type="action",s.action=["nop",s.nop,!1],s.nop=!0):s.error?(s.type="action",s.action=["error",s.error,!!s["in-context"],!!s["in-hypercontext"]],u(s,"error")):s[it]("hypercontext")?(s.type="action",s.action=[s.hypercontext?"hypercontext-start":"hypercontext-end",s.hypercontext,!!s["in-context"],!!s["in-hypercontext"]],u(s,"hypercontext")):s[it]("context")?(s.type="action",s.action=[s.context?"context-start":"context-end",s.context,!!s["in-context"],!!s["in-hypercontext"]],u(s,"context")):s.indent?(s.type="action",s.action=["indent",s.indent,!!s["in-context"],!!s["in-hypercontext"]],u(s,"indent")):s.outdent?(s.type="action",s.action=["outdent",s.outdent,!!s["in-context"],!!s["in-hypercontext"]],u(s,"outdent")):s.define?(s.type="action",s.action=["define",qt&e(s.define)?["*",s.define]:s.define,!!s["in-context"],!!s["in-hypercontext"]],u(s,"define")):s.undefine?(s.type="action",s.action=["undefine",qt&e(s.undefine)?["*",s.undefine]:s.undefine,!!s["in-context"],!!s["in-hypercontext"]],u(s,"undefine")):s.defined?(s.type="action",s.action=["defined",qt&e(s.defined)?["*",s.defined]:s.defined,!!s["in-context"],!!s["in-hypercontext"]],u(s,"defined")):s.notdefined?(s.type="action",s.action=["notdefined",qt&e(s.notdefined)?["*",s.notdefined]:s.notdefined,!!s["in-context"],!!s["in-hypercontext"]],u(s,"notdefined")):s.unique?(s.type="action",s.action=["unique",qt&e(s.unique)?["*",s.unique]:s.unique,!!s["in-context"],!!s["in-hypercontext"]],u(s,"unique")):s.push?(s.type="action",s.action=["push",s.push,!!s["in-context"],!!s["in-hypercontext"]],u(s,"push")):s[it]("pop")?(s.type="action",s.action=["pop",s.pop,!!s["in-context"],!!s["in-hypercontext"]],u(s,"pop")):s.type="simple","action"===s.type?s.ci=!(!s.caseInsesitive&&!s.ci):"block"===s.type||"comment"===s.type?(s.multiline=s[it]("multiline")?!!s.multiline:!0,qt&e(s.escape)||(s.escape=!1)):"simple"===s.type&&(s.meta=s.autocomplete&&qt&e(s.meta)?s.meta:null,s.ci=!(!s.caseInsesitive&&!s.ci)));m=y;for(n in m)m[it](n)&&(s=m[n],St!==e(s)||s.type?s.type&&(p=s.type=s.type[ht](),"group"===p&&s.match?(i=e(s.match),qt&i?(f=s.match[ht](),"alternation"===f||"either"===f?(s.type="alternation",u(s,"match")):"sequence"===f||"all"===f?(s.type="sequence",u(s,"match")):"zeroorone"===f?(s.type="zeroOrOne",u(s,"match")):"zeroormore"===f?(s.type="zeroOrMore",u(s,"match")):"oneormore"===f?(s.type="oneOrMore",u(s,"match")):(s.type="sequence",u(s,"match"))):Et&i&&(s.type="repeat",s.repeat=s.match,u(s,"match"))):"either"===p?s.type="alternation":"all"===p?s.type="sequence":"lookahead"===p?s.type="positiveLookahead":"grammar"===p&&(s.type="subgrammar"),"subgrammar"!==s.type||s.tokens||(s.tokens=n)):s.ngram||s["n-gram"]?(s.type="ngram",s.tokens=s.ngram||s["n-gram"],s["n-gram"]?u(s,"n-gram"):u(s,"ngram")):s.sequence||s.all?(s.type="sequence",s.tokens=s.sequence||s.all,s.all?u(s,"all"):u(s,"sequence")):s.alternation||s.either?(s.type="alternation",s.tokens=s.alternation||s.either,s.either?u(s,"either"):u(s,"alternation")):s.zeroOrOne?(s.type="zeroOrOne",s.tokens=s.zeroOrOne,u(s,"zeroOrOne")):s.zeroOrMore?(s.type="zeroOrMore",s.tokens=s.zeroOrMore,u(s,"zeroOrMore")):s.oneOrMore?(s.type="oneOrMore",s.tokens=s.oneOrMore,u(s,"oneOrMore")):s.positiveLookahead||s.lookahead?(s.type="positiveLookahead",s.tokens=s.positiveLookahead||s.lookahead,s.lookahead?u(s,"lookahead"):u(s,"positiveLookahead")):s.negativeLookahead?(s.type="negativeLookahead",s.tokens=s.negativeLookahead,u(s,"negativeLookahead")):(s.subgrammar||s.grammar)&&(s.type="subgrammar",s.tokens=s.subgrammar||s.grammar,s.subgrammar?u(s,"subgrammar"):u(s,"grammar")));return t}function O(t,n,o){if(o=o||{},n=n||[],!t||!t.length)return n;var r,l,s,i,a,u,c;for(r=0,l=t.length;l>r;r++)if(a=t[r])if(De===a.type)if(a.autocompletions)for(s=0,i=a.autocompletions.length;i>s;s++)c=a.autocompletions[s],o[it]("w_"+c.word)||(n.push(c),o["w_"+c.word]=1);else qt===a.token.ptype&&qt&e(a.token.pattern)&&a.token.pattern.length>1&&(o[it]("w_"+a.token.pattern)||(n.push({word:""+a.token.pattern,meta:a.name,ci:!!a.ci}),o["w_"+a.token.pattern]=1));else if(Pe===a.type)O(a.token,n,o);else if(Ve&a.type){s=0,i=a.token.length;do O([u=a.token[s++]],n,o);while(i>s&&(Ce&u.type&&1>u.min||Se===u.type))}else Ce&a.type&&O([a.token[0]],n,o);return n}function E(t,n,o,r){for(var l;qt&e(l=n[t]||o[t]);)t=l;return r?t:n[t]||o[t]||t}function S(e,t){return e.length>1?o(t?function(t,n){var o=n[n.length-1],r=e[t];o===r||n.push(r)}:function(t,n){var o=n[n.length-1],r=e[t];Jt.test(r)&&Jt.test(o)&&o===r||n.push(r)},1,e.length-1,[e[0]]):e}function R(n,o,l){var s,i,a,u,c,p,f,m,d,x,g,$,b,v,w,q=!1;if(w=n.modifier?n.modifier:null,m=new String(Pt(n)),m.pos=0,1===m.length)$=""+n,o[$]||l[$]||(o[$]={type:"simple",tokens:n}),n=$;else{for(s=[],i=[],a="",b=[];m.pos<m.length;)if(d=m[kt](m.pos++),Ut.test(d))if(a.length&&(q?(i.length&&(g=i[i.length-1],$=g+"."+a,p=o[$]||l[$],p||(f=E(g,o,l),l[$]=qt&e(f)?new String(f):r(f),l[$].modifier=a),i[i.length-1]=$),q=!1):"0"===a?(o[ot]||(o[ot]={type:"simple",tokens:0}),i.push(ot)):"^^"===a?(o[Xe]||(o[Xe]={type:"simple",tokens:Re}),i.push(Xe)):"^^1"===a?(o[Ze]||(o[Ze]={type:"simple",tokens:Le}),i.push(Ze)):"^"===a?(o[et]||(o[et]={type:"simple",tokens:je}),i.push(et)):"$"===a?(o[tt]||(o[tt]={type:"simple",tokens:Ie}),i.push(tt)):(o[a]||l[a]||(o[a]={type:"simple",tokens:a}),i.push(a)),a=""),"."===d)i.length&&m.pos<m.length&&!Ut.test(m[kt](m.pos))?q=!0:a+=d;else if('"'===d||"'"===d)u=y(m,d,"\\",!0),u.length?($=""+u,o[$]||(o[$]={type:"simple",tokens:u}),i.push($)):(o[rt]||(o[rt]={type:"simple",tokens:""}),i.push(rt));else if("["===d)u=y(m,"]","\\",!0),$="["+u+"]",o[$]||(o[$]={type:"simple",tokens:k("^(["+("^"===u[kt](0)?"^"+h(u.slice(1)):h(u))+"])")}),i.push($);else{if("]"===d){a+=d;continue}if("/"===d)u=y(m,d,"\\",!1),x="",u.length&&(m.pos<m.length&&"i"===m[kt](m.pos)&&(m.pos++,x="i"),$="/"+u+"/"+x,o[$]||(o[$]={type:"simple",tokens:k("^("+u+")",{l:0,x:0,i:"i"===x})}),i.push($));else if("*"===d||"+"===d||"?"===d)i.length?(g=i[i.length-1],$=""+g+d,l[$]||(l[$]={type:"*"===d?"zeroOrMore":"+"===d?"oneOrMore":"zeroOrOne",tokens:[g]}),i[i.length-1]=$):a+=d;else if("{"===d)i.length?(c=y(m,"}",!1),c=t(c.split(","),Pt),c[0].length?c[0]=parseInt(c[0],10)||0:c[0]=0,0>c[0]&&(c[0]=0),2>c.length?c.push(c[0]):c[1].length?c[1]=parseInt(c[1],10)||yt:c[1]=yt,0>c[1]&&(c[1]=0),g=i[i.length-1],$=""+g+["{",c[0],",",isFinite(c[1])?c[1]:"","}"].join(""),l[$]||(l[$]={type:"repeat",repeat:[c[0],c[1]],tokens:[g]}),i[i.length-1]=$):a+=d;else{if("}"===d){a+=d;continue}"&"===d||"!"===d?i.length?(g=i[i.length-1],$=""+g+d,l[$]||(l[$]={type:"!"===d?"negativeLookahead":"positiveLookahead",tokens:[g]}),i[i.length-1]=$):a+=d:"|"===d?(q=!1,i=S(i),i.length>1?($=""+i.join(" "),l[$]||(l[$]={type:"sequence",tokens:i}),s.push($)):i.length?s.push(i[0]):a+=d,i=[]):"("===d?(b.push([i,s,a]),i=[],s=[],a=""):")"===d&&(i=S(i),i.length>1?($=""+i.join(" "),l[$]||(l[$]={type:"sequence",tokens:i}),s.push($)):i.length&&s.push(i[0]),i=[],s=S(s,1),s.length>1?($=""+s.join(" | "),l[$]||(l[$]={type:"alternation",tokens:s})):s.length&&($=s[0]),s=[],v=b.pop(),i=v[0],s=v[1],a=v[2],g=$,$="("+g+")",l[$]||(l[$]=r(E(g,o,l))),i.push($))}}else a+=d;a.length&&(q?(i.length&&(g=i[i.length-1],$=g+"."+a,p=o[$]||l[$],p||(f=E(g,o,l),l[$]=qt&e(f)?new String(f):r(f),l[$].modifier=a),i[i.length-1]=$),q=!1):"0"===a?(o[ot]||(o[ot]={type:"simple",tokens:0}),i.push(ot)):"^^"===a?(o[Xe]||(o[Xe]={type:"simple",tokens:Re}),i.push(Xe)):"^^1"===a?(o[Ze]||(o[Ze]={type:"simple",tokens:Le}),i.push(Ze)):"^"===a?(o[et]||(o[et]={type:"simple",tokens:je}),i.push(et)):"$"===a?(o[tt]||(o[tt]={type:"simple",tokens:Ie}),i.push(tt)):(o[a]||l[a]||(o[a]={type:"simple",tokens:a}),i.push(a))),a="",i=S(i),i.length>1?($=""+i.join(" "),l[$]||(l[$]={type:"sequence",tokens:i}),s.push($)):i.length&&s.push(i[0]),i=[],s=S(s,1),s.length>1?($=""+s.join(" | "),l[$]||(l[$]={type:"alternation",tokens:s}),n=$):s.length&&(n=s[0]),s=[]}return w&&(o[n]||l[n])&&((o[n]||l[n]).modifier=w),n}function L(r,l,a,u,c,p,f,m,h,k,y){var d,x,g,$,_,O,S,I=null,j=null,M=null;if(Re===r||Le===r||je===r||Ie===r)return new z(r,Re===r?Xe:Le===r?$T_FBNL$:je===r?et:tt,r,j);if(!1===r||0===r)return new z(Me,ot,0,j);if(""===r)return new z(Ne,rt,"",j);if(null===r)return new z(De,nt,gt,j,M);if(Et&e(r)&&(g=r,r="NGRAM_"+g.join("_"),u[r]||(u[r]={type:"ngram",tokens:g})),r=""+r,m[r])return m[r];if(_=E(r,a,u),qt&e(_)&&(_=R(_,a,u),_=a[_]||u[_]||null),!_)return null;if(d=_.type?Qe[_.type[ht]().replace(Tt,"")]||De:De,j=_.msg||null,M=_.modifier||null,x=_.tokens,De&d){if(Re===x||Le===x||je===x||Ie===x||!1===x||0===x)return I=new z(x||Me,r,x||0,j),m[r]=I,I;if(""===x)return I=new z(Ne,r,"",j),m[r]=I,I;if(null===x)return I=new z(De,r,gt,j,M),m[r]=I,I;if(!x)return null}if(Se&d)_[it]("action")?"nop"===_.action[0]?_.action[0]=ce:"error"===_.action[0]?_.action[0]=pe:"context-start"===_.action[0]?_.action[0]=de:"context-end"===_.action[0]?_.action[0]=xe:"hypercontext-start"===_.action[0]?_.action[0]=ge:"hypercontext-end"===_.action[0]?_.action[0]=$e:"push"===_.action[0]?_.action[0]=be:"pop"===_.action[0]?_.action[0]=ve:"define"===_.action[0]?_.action[0]=fe:"undefine"===_.action[0]?_.action[0]=me:"defined"===_.action[0]?_.action[0]=he:"notdefined"===_.action[0]?_.action[0]=ke:"unique"===_.action[0]?_.action[0]=ye:"indent"===_.action[0]?_.action[0]=we:"outdent"===_.action[0]&&(_.action[0]=qe):_[it]("nop")?_.action=[ce,_.nop,!!_["in-context"]]:_[it]("error")?_.action=[pe,_.error,!!_["in-context"]]:_[it]("context")?_.action=[_.context?de:xe,_.context,!!_["in-context"],!!_["in-hypercontext"]]:_[it]("hypercontext")?_.action=[_.hypercontext?ge:$e,_.context,!!_["in-context"],!!_["in-hypercontext"]]:_[it]("context-start")?_.action=[de,_["context-start"],!!_["in-context"],!!_["in-hypercontext"]]:_[it]("context-end")?_.action=[xe,_["context-end"],!!_["in-context"],!!_["in-hypercontext"]]:_[it]("hypercontext-start")?_.action=[ge,_["hypcontext-start"],!!_["in-context"],!!_["in-hypercontext"]]:_[it]("hypercontext-end")?_.action=[$e,_["hypcontext-end"],!!_["in-context"],!!_["in-hypercontext"]]:_[it]("push")?_.action=[be,_.push,!!_["in-context"],!!_["in-hypercontext"]]:_[it]("pop")?_.action=[ve,_.pop,!!_["in-context"],!!_["in-hypercontext"]]:_[it]("define")?_.action=[fe,qt&e(_.define)?["*",_.define]:_.define,!!_["in-context"],!!_["in-hypercontext"]]:_[it]("undefine")?_.action=[me,qt&e(_.undefine)?["*",_.undefine]:_.undefine,!!_["in-context"],!!_["in-hypercontext"]]:_[it]("defined")?_.action=[he,qt&e(_.defined)?["*",_.defined]:_.defined,!!_["in-context"],!!_["in-hypercontext"]]:_[it]("notdefined")?_.action=[ke,qt&e(_.notdefined)?["*",_.notdefined]:_.notdefined,!!_["in-context"],!!_["in-hypercontext"]]:_[it]("unique")?_.action=[ye,qt&e(_.unique)?["*",_.unique]:_.unique,!!_["in-context"],!!_["in-hypercontext"]]:_[it]("indent")?_.action=[we,_.indent,!!_["in-context"],!!_["in-hypercontext"]]:_[it]("outdent")&&(_.action=[qe,_.outdent,!!_["in-context"],!!_["in-hypercontext"]]),!1===_.msg&&(j=!1),_.nop&&(_.action[0]=ce),I=new z(Se,r,_.action.slice(),j,M),I.ci=!!_.caseInsensitive||_.ci,m[r]=I;else if(x=s(x),De&d){S=_.autocomplete?q(_,Mt&e(_.autocomplete)?s(_.autocomplete):x,r,y):null;var N={};if(O="undefined"!=typeof _.combine?_.combine:!!(Et&e(_.tokens)),I=new z(De,r,b(r,x.slice(),l,O,!(!_.caseInsensitive&&!_.ci),p,f,N),j,M,null,S),N.keywords&&(I.keywords=N.keywords.join("|")),m[r]=I,null!=_.except){var D,F,A=s(_.except),C=A.length,T=[];for(D=0;C>D;D++)A[D]&&(F=L(A[D],l,a,u,c,p,f,m,h,k,y),F&&T.push(F));T.length&&(I.except=T)}}else ze&d?(Fe===d&&w(_,k),I=new z(d,r,v(r,x.slice(),l,p,f),j),I.empty=_[it]("empty")?!!_.empty:!0,I.mline=_[it]("multiline")?!!_.multiline:!0,I.esc=_[it]("escape")?_.escape:!1,I.inter=!!c[r+".inside"],Fe===d&&_.interleave&&h.push(P(I)),M&&(I.modifier=M),m[r]=I):We&d&&(Ke===d?m[r]=new z(Ke,r,x,j,M):Je===d?($=i(x),I=t($,function(e,t){return new z(Je,r+"_NGRAM_"+t,null,j,M)}),m[r]=I,o(function(e){I[e].token=s(n($[e],function(e,t){return e.concat(L(t,l,a,u,c,p,f,m,h,k,y))},[]))},0,$.length-1)):(Ye===d||He===d?I=new z(d,r,null,j,M):Ce&d&&Et&e(_.repeat)?(I=new z(Ce,r,null,j,M),I.min=_.repeat[0],I.max=_.repeat[1]):Te===d?(I=new z(Te,r,null,j,M),I.min=0,I.max=1):Ge===d?(I=new z(Ge,r,null,j,M),I.min=0,I.max=yt):Be===d?(I=new z(Be,r,null,j,M),I.min=1,I.max=yt):I=Pe===d?new z(Pe,r,null,j,M):new z(Ae,r,null,j,M),m[r]=I,I.token=s(n(x,function(e,t){return e.concat(L(t,l,a,u,c,p,f,m,h,k,y))},[]))));return m[r]}function I(t){var n={};return t.Lex=t.Lex||{},t.Syntax=t.Syntax||{},t=_(t),t.Parser&&t.Parser.length&&o(function r(l,s){var i,a,u,c=s[l];n[c]||(Et&e(c)&&(i=c,c="NGRAM_"+i.join("_"),t.Syntax[c]||(t.Syntax[c]={type:"ngram",tokens:i})),a=E(c,t.Lex,t.Syntax),qt&e(a)&&(a=R(a,t.Lex,t.Syntax),a=t.Lex[a]||t.Syntax[a]||null),a&&(n[c]=a,u=a.type?Qe[a.type[ht]().replace(Tt,"")]||De:De,We&u&&o(r,0,a.tokens.length-1,a.tokens)))},0,t.Parser.length-1,t.Parser),t}function j(t){var o,l,s,i,a,u,c,p,f,m,h,k,y,d;return t.__parsed?t:(o=t.RegExpID||null,s=t.Extra?r(t.Extra):{},i=t.Style?r(t.Style):{},a=null,u=null,c=t.Lex?r(t.Lex):{},p=t.Syntax?r(t.Syntax):{},f={},m={},h={},y={},d={},k=[],l=t.Parser?r(t.Parser):[],t=_({Style:i,Fold:a,Match:u,Lex:c,Syntax:p,$parser:null,$interleaved:null,$comments:null,$autocomplete:null,$extra:s,__parsed:0}),t.$parser=n(l,function(t,n){var r=L(n,o,c,p,i,f,m,h,k,y,d)||null;return r&&(Et&e(r)?t=t.concat(r):t.push(r)),t},[]),t.$interleaved=k&&k.length?k:null,t.$comments=y,t.$autocomplete=d&&d.autocomplete&&d.autocomplete.length?d.autocomplete:null,t.__parsed=1,t)}function M(t,n,o,r,l){var s,i,a=this;s=a.type=t,a.name=n,a.pattern=o,i=a.ptype=r||qt,a.key=l||0,Oe===s?a.key=!1!==l:Ee===s?a.pattern[0]=new M(Oe,n+"_Start",o[0],null,!1):gt===i?a.pattern=null:Lt===i&&(a.pattern=Lt&e(o)?[o,0]:[o[0],o[1]||0])}function N(t,n,o,r){var l,s,i,a,u,c,p,f,m,h,k,y=t,g=y.type,$=y.pattern,b=y.key;if(Ee===g){if(l=y.name,i=$[0],a=$[1],c=N(i,n,o,r))return u=a[c[0]],f=e(u),m=i.pattern[c[0]].ptype,Lt===m&&jt&f&&(u.regex_pattern?(p=d(u,c[1]),u=new M(_e,l+"_End",x(p,u.regex_pattern,{}),Lt)):(p=$t&f?c[1][u+1]:d(u,c[1]),u=new M(_e,l+"_End",p,p.length>1?qt:_t))),u}else if(Oe===g){for(h=0,k=$.length;k>h;h++)if(p=N($[h],n,o,r))return b?[h,p[1]]:p}else{if(s=y.ptype,gt===s)return!1!==o&&n.end(),[b,""];if(Lt===s){if(p=$[0].xflags.l?n.match($[0]):n.slice(n.pos).match($[0]),p&&0===p.index)return!1!==o&&n.mov(p[$[1]||0].length),[b,$[1]>0?p[$[1]]:p]}else if(Ot===s){if(!0===r){p=-1;var v,w;for(k=$.length-1;k>=0;k--)v=n.indexOf($[kt](k),n.pos),v>-1&&(-1===p||p>v)&&(p=v,w=$[kt](k));if(p>-1)return!1!==o&&(n.pos=p+1),[b,w]}else if(p=n[kt](n.pos)||null,p&&-1<$.indexOf(p))return!1!==o&&n.mov(1),[b,p]}else if(_t===s){if(!0===r){if(p=n.indexOf($,n.pos),p>-1)return!1!==o&&(n.pos=p+1),[b,$]}else if(p=n[kt](n.pos)||null,$===p)return!1!==o&&n.mov(1),[b,p]}else if(qt===s)if(k=$.length,!0===r){if(p=n.indexOf($,n.pos),p>-1)return!1!==o&&(n.pos=p+k),[b,$]}else if($===n.substr(n.pos,k))return!1!==o&&n.mov(k),[b,$]}return!1}function D(e,t){this.val=e||null,t?this.prev=t:this.prev=null}function z(e,t,n,o,r,l,s,i){var a=this;a.type=e,a.name=t,a.token=n,a.modifier=r||null,a.except=l||null,a.autocompletions=s||null,a.keywords=i||null,a.pos=null,a.msg=!1===o?!1:o||null,a.$msg=null,a.status=0,a.empty=!1,a.ci=!1,a.mline=!0,a.esc=!1,a.inter=!1,a.found=0,a.min=0,a.max=1,a.i0=0,a.$id=null}function F(){var e=this;e.T=0,e.id=null,e.type=null,e.match=null,e.str="",e.pos=null,e.block=null,e.space=null}function P(e,t,n,o){var r=new z(e.type,e.name,e.token,e.msg,e.modifier,e.except,e.autocompletions,e.keywords);return r.empty=e.empty,r.ci=e.ci,r.mline=e.mline,r.esc=e.esc,r.inter=e.inter,r.found=e.found,r.min=e.min,r.max=e.max,r.i0=e.i0,t&&(r.status|=le),n&&(r.modifier=n),o&&(r.$id=o),r}function A(e){var t=e.name;return e.$msg?e.$msg:e.status&le?'Token "'+t+'"'+(e.keywords?": "+e.keywords:"")+" Expected":'Syntax Error: "'+t+'"'}function C(e,t,n,o,r,l,s){e.status&oe&&e.err&&(e.err[""+t+"_"+n+"_"+o+"_"+r+"_"+(l?l.name:"ERROR")]=[t,n,o,r,s||A(l)])}function T(e,t){for(var n=null,o=null;e;){if(t===e.val[0])return o={node:e,nodePrev:e.prev,nodeNext:n,val:e.val[1]};n=e,e=e.prev}return o}function G(e,t,n){return new D([t,n],e)}function B(e,t,n){if(e.stack===t)t=e.stack=new D(n,e.stack);else{for(var o=e.stack;o&&o.prev!==t;)o=o.prev;t=new D(n,t),o&&(o.prev=t)}return t}function U(e,t){if(null==e)return null;if(t){for(var n=new D(e.val),o=n,r=e;r.prev;)o.prev=new D(r.prev.val),r=r.prev,o=o.prev;return n}return e}function Y(e,t,n,o){var r,l,s,i,a,u=1/0,c=null,p=1/0;if(l=t.pos,t.spc(),s=t.pos,r=e.stack,t.pos<t.length){for(a=0;r&&(i=r.val,i.$id===o.$id);){for(;!(Se===i.type||H(i,t,e,n)||(t.pos=i.pos>t.pos?i.pos:t.pos+1,e.stack=r,t.pos>=t.length)););e.stack=r,t.pos<t.length&&u>t.pos?(u=t.pos,c=r,p=a):u===t.pos&&p>a&&(u=t.pos,c=r,p=a),t.pos=s,r=r.prev,a++}u<t.length?(t.pos=u,e.stack=c):(t.end(),e.stack=null)}return s>=l&&t.pos===s}function H(e,t,n,o){if(!e)return!1;var r=e.type,l=We&r?W:ze&r?V:Se&r?J:K;return l(e,t,n,o)}function J(t,n,o,r){var l,s,i,a,u,c,p,f,m,h,k,y,x,g,$,b,v,w=t,q=w.token||null,_=w.ci,O=w.name,E=!(o.status&oe);if(w.status=0,w.$msg=null,!q||!r||!r.pos)return!0;if(v=!!(ze&r.T),ce===q[0]||v&&!r.block)return!0;if(l=q[0],s=q[1],x=q[2],g=q[3],u=w.msg,v?(b=r.block.match||r.block.str,m=r.block.pos[0][0],h=r.block.pos[0][1],k=r.block.pos[0][2],y=r.block.pos[0][3]):(b=r.match||r.str,m=r.pos[0],h=r.pos[1],k=r.pos[2],y=r.pos[3]),xe===l)o.ctx=o.ctx?o.ctx.prev:null;else if(de===l)o.ctx=new D({symb:null,queu:null},o.ctx);else if($e===l)o.hctx=o.hctx?o.hctx.prev:null;else if(ge===l)o.hctx=new D({symb:null,queu:null},o.hctx);else if(fe===l)i=s[1],a=s[0],i=d(i,b,!0),_&&(i=i[ht]()),a+="::"+i,f=g&&o.hctx?T(o.hctx.val.symb,a):x&&o.ctx?T(o.ctx.val.symb,a):o.symb?T(o.symb,a):null,f||(g&&o.hctx?o.hctx.val.symb=G(o.hctx.val.symb,a,[m,h,k,y]):x&&o.ctx?o.ctx.val.symb=G(o.ctx.val.symb,a,[m,h,k,y]):o.symb=G(o.symb,a,[m,h,k,y]));else if(me===l){if(i=s[1],a=s[0],i=d(i,b,!0),_&&(i=i[ht]()),a+="::"+i,g&&o.hctx)f=T(o.hctx.val.symb,a);else if(x&&o.ctx)f=T(o.ctx.val.symb,a);else{if(!o.symb)return!0;f=T(o.symb,a)}f&&(f.nodeNext?f.nodeNext.prev=f.nodePrev:g&&o.hctx?o.hctx.val.symb=o.hctx.val.symb.prev:x&&o.ctx?o.ctx.val.symb=o.ctx.val.symb.prev:o.symb=o.symb.prev)}else if(he===l){if(i=s[1],a=s[0],i=d(i,b,!0),_&&(i=i[ht]()),a+="::"+i,f=g&&o.hctx?T(o.hctx.val.symb,a):x&&o.ctx?T(o.ctx.val.symb,a):o.symb?T(o.symb,a):null,!f)return!1!==u&&(w.$msg=u?d(u,i,!0):'Undefined "'+i+'"',$=A(w),C(o,m,h,k,y,w,$),w.status|=se),!1}else if(ke===l){if(i=s[1],a=s[0],i=d(i,b,!0),_&&(i=i[ht]()),a+="::"+i,g&&o.hctx)f=T(o.hctx.val.symb,a);else if(x&&o.ctx)f=T(o.ctx.val.symb,a);else{if(!o.symb)return!0;f=T(o.symb,a)}if(f)return!1!==u&&(w.$msg=u?d(u,i,!0):'Defined "'+i+'"',$=A(w),C(o,f.val[0],f.val[1],f.val[2],f.val[3],w,$),C(o,m,h,k,y,w,$),w.status|=se),!1}if(E)return!0;if(pe===l)return!u&&qt&e(s)&&(u=s),w.$msg=u?d(u,b,!0):'Error "'+O+'"',C(o,m,h,k,y,w,A(w)),w.status|=se,!1;if(ye===l){if(g){if(!o.hctx)return!0;p=o.hctx.val.symb}else if(x){if(!o.ctx)return!0;p=o.ctx.val.symb}else p=o.symb;if(i=s[1],a=s[0],i=d(i,b,!0),_&&(i=i[ht]()),a+="::"+i,f=T(p,a))return!1!==u&&(w.$msg=u?d(u,i,!0):'Duplicate "'+i+'"',$=A(w),C(o,f.val[0],f.val[1],f.val[2],f.val[3],w,$),C(o,m,h,k,y,w,$),w.status|=se),!1;g?o.hctx.val.symb=G(o.hctx.val.symb,a,[m,h,k,y]):x?o.ctx.val.symb=G(o.ctx.val.symb,a,[m,h,k,y]):o.symb=G(o.symb,a,[m,h,k,y])}else if(ve===l){if(g){if(!o.hctx)return!0;c=o.hctx.val.queu}else if(x){if(!o.ctx)return!0;c=o.ctx.val.queu}else c=o.queu;if(s){if(s=d(s,b),_&&(s=s[ht]()),!c||s!==c.val[0])return!1!==u&&(c?(w.$msg=u?d(u,[c.val[0],s],!0):'Mismatched "'+c.val[0]+'","'+s+'"',$=A(w),C(o,c.val[1],c.val[2],c.val[3],c.val[4],w,$),C(o,m,h,k,y,w,$),c=c.prev):(w.$msg=u?d(u,["",s],!0):'Missing matching "'+s+'"',$=A(w),C(o,m,h,k,y,w,$)),w.status|=se),g?o.hctx&&(o.hctx.val.queu=c):x?o.ctx&&(o.ctx.val.queu=c):o.queu=c,!1;c=c?c.prev:null}else c=c?c.prev:null;g?o.hctx&&(o.hctx.val.queu=c):x?o.ctx&&(o.ctx.val.queu=c):o.queu=c}else if(be===l&&s){if(g){if(!o.hctx)return!0;c=o.hctx.val.queu}else if(x){if(!o.ctx)return!0;c=o.ctx.val.queu}else c=o.queu;s=d(s,b),_&&(s=s[ht]()),w.$msg=u?d(u,s,!0):'Missing matching "'+s+'"',c=new D([s,m,h,k,y,A(w)],c),g?o.hctx&&(o.hctx.val.queu=c):x?o.ctx&&(o.ctx.val.queu=c):o.queu=c}return!0}function K(e,t,n,o,r){var l,s,i=e,a=i.token,u=i.modifier,c=i.type,p=i.name,f=i.except,m=n.line,h=t.pos,k=null,y=!1;if(i.status&=ae,i.$msg=r?null:i.msg||null,i.pos=t.pos,f&&!r){s=X(n,t);for(var x=0,g=f.length;g>x;x++)if(l=f[x],i!==l&&De===l.type&&K(l,t,n,o,1))return i.pos=l.pos,X(n,t,s),!1}if(Re===c)y=0===n.line;else if(Le===c)y=n.bline+1===n.line;else if(je===c)y=t.sol();else if(Ie===c)t.spc(),t.eol()?y=p:(i.pos=t.pos,t.bck(h));else if(Me===c)i.status=0,y=!0;else if(Ne===c){if(null==o.space||t.eol()?t.spc()&&!t.eol()?(i.pos=t.pos,t.bck(h),i.status&le&&(i.status|=se)):y=!0:i.status&le&&(i.status|=se),i.status&=ie,!0===y)return y}else gt===a?(t.end(),y=u||p):(k=N(a,t))&&(k=k[1],y=u||p);return r?y:(!1!==y&&(o.T=c,o.id=p,o.type=y,o.str=t.sel(h,t.pos),o.match=k,o.pos=[m,h,m,t.pos]),!y&&i.status&&i.$msg&&(i.$msg=d(i.$msg,p,!0)),y)}function V(e,t,n,o){var r,l,s,i,a,u,c,p,f,m,h,k,y,x,g,$,b,v,w,q,_,O,E=e,S=E.name,R=E.type,L=E.modifier,I=E.token,j=E.mline,M=E.inter,D=M?S+".inside":S,z=E.esc,F=!!z,A="",C="",T="",G="",U=E.$id||S,Y=n.outer,J=Y&&Y[2],K=Y&&Y[1];if(E.status&=ae,E.$msg=E.msg||null,E.pos=t.pos,q=n.line,_=t.pos,Fe===R&&(E.status&=ie),g=E.status&le,s=0,i=0,n.block&&n.block.name===S?(i=1,s=1,x=D,r=n.block.end,p=n.block.sp,m=n.block.ip,f=n.block.ep,A=n.block.s,C=n.block.i):!n.block&&(r=N(I,t))&&(i=1,x=S,b=t.pos,p=[q,_],m=[[q,b],[q,b]],f=[q,b],A=t.sel(_,b),C="",G="",n.block={name:S,end:r,sp:p,ip:m,ep:f,s:A,i:C,e:G}),i){if(w=n.stack,l=gt===r.ptype,$=l||E.empty,M){if(l&&s&&t.sol())return E.status&=ie,n.block=null,!1;if(!s)return b=t.pos,o.T=R,o.id=S,o.type=L||x,o.str=t.sel(_,b),o.match=null,o.pos=[q,_,q,b],B(n,w,P(E,g,0,U)),L||x}if(b=t.pos,a=K?l&&t.eol():N(r,t),c=j,u=0,a)x=l?D:S,G=t.sel(b,t.pos);else if(v=t.pos,k=!1,K||F||Ot!==r.ptype&&_t!==r.ptype&&qt!==r.ptype){for(;!t.eol();){if(K){if(H(K,t,J,o)){if(t.pos>v){l&&(a=1);break}return!0}if(l){y=t.nxt(1),T+=y;continue}}if(b=t.pos,!k&&N(r,t)){M&&t.pos>b&&b>v?(x=D,t.bck(b),u=1):(x=S,a=1),G=t.sel(b,t.pos);break}y=t.nxt(1),T+=y,k=F&&!k&&z===y,b=t.pos}l&&t.eol()&&(a=1)}else(O=N(r,t,!0,!0))?M&&t.pos>b+O[1].length?(x=D,t.mov(-O[1].length),u=1,T=t.sel(b,t.pos)):(x=S,a=1,T=t.sel(b,t.pos-O[1].length),G=O[1]):(t.end(),x=D,u=1,T=t.sel(b,t.pos));return c=j||F&&k,C+=T,m[1]=[q,b],f=[q,t.pos],a&&!$&&m[0][0]===m[1][0]&&m[0][1]===m[1][1]?(n.block=null,!1):(a||!c&&!u?n.block=null:(n.block.ip=m,n.block.ep=f,n.block.i=C,n.block.e=G,B(n,w,P(E,g,0,U))),o.T=R,o.id=S,o.type=L||x,o.str=t.sel(_,t.pos),o.match=null,o.pos=[q,_,f[0],f[1]],E.pos=t.pos,n.block||(h=A+C+G,o.block={str:h,match:[h,C,A,G],part:[h,A,C,G],pos:[[p[0],p[1],f[0],f[1]],[p[0],p[1],m[0][0],m[0][1]],[m[0][0],m[0][1],m[1][0],m[1][1]],[m[1][0],m[1][1],f[0],f[1]]]
}),L||x)}return E.status&&E.$msg&&(E.$msg=d(E.$msg,S,!0)),!1}function W(e,t,n,o){var r,l,s,i,a,u,p,f,m,h,k,y,d,x,g,$=e,b=$.type,v=($.name,$.token),w=v.length,q=$.modifier;if($.status&=ae,$.$msg=$.msg||null,f=t.pos,m=n.stack,$.pos=t.pos,u=0,p=0,Ke===b){$.status&=ae;var _=new String(v[0]),O=n.stack?n.stack.val:null;return _.subgrammar=1,_.next=O?new z(Ye,O.name,[O]):null,_.required=O?O.status&le:0,_}if(Pe===b){for(d=c(),$.status|=le,y=[],g=X(n,t),k=0,h=k;w>h;h++){if(r=P(v[h],1,q,d),l=H(r,t,n,o),$.pos=r.pos,r.status&le&&(u++,y.push(A(r))),!1!==l)return l;r.status&se&&(p++,X(n,t,g))}return u>0?$.status|=le:$.status&=ie,w===p&&u>0?$.status|=se:$.status&=ae,$.status&&!$.$msg&&y.length&&($.$msg=y.join(" | ")),!1}if(Ve&b){x=!!(b&Ae),d=$.$id||c(),x?$.status|=le:$.status&=ie,g=X(n,t),k=0;do r=P(v[k++],x,q,d),l=H(r,t,n,o);while(w>k&&(!0===l&&Ue&r.type||!1===l&&!(r.status&le)));if($.pos=r.pos,!1!==l){if(!0!==l||Me!==r.type)for(h=w-1;h>=k;h--)m=B(n,m,P(v[h],1,q,d));return l.subgrammar&&w>k&&(l.next=new z(Ye,v[k].name,[v[k]]),l.required=v[k].status&le),l}return r.status&se?(x?$.status|=se:$.status&=ae,X(n,t,g)):x&&r.status&le&&($.status|=se),$.status&&!$.$msg&&($.$msg=A(r)),!1}if(Ue&b)return Ke&v[0].type?!0:(g=X(n,t,null,!1),l=H(P(v[0],0),t,n,o),X(n,t,g),He===b?!1===l:!1!==l);for(d=$.$id||c(),s=$.found,i=$.min,a=$.max,$.status=0,y=[],g=X(n,t),h=0;w>h;h++){if(r=P(v[h],1,q,d),l=H(r,t,n,o),$.pos=r.pos,!1!==l){if(++s,a>=s)return $.found=s,B(n,m,P($,0,0,c())),$.found=0,l;break}r.status&le&&(u++,y.push(A(r))),r.status&se&&X(n,t,g)}return i>s&&($.status|=le),(s>a||i>s&&u>0)&&($.status|=se),$.status&&!$.$msg&&y.length&&($.$msg=y.join(" | ")),!1}function Q(e,t){var n=this;n.id=e?p("state"):"state",t instanceof Q?(n.line=t.line,n.bline=t.bline,n.status=t.status,n.stack=U(t.stack,!1),n.token=t.token,n.token2=t.token2,n.block=t.block,n.outer=t.outer?[t.outer[0],t.outer[1],new Q(e,t.outer[2])]:null,n.queu=t.queu||null,n.symb=t.symb||null,n.ctx=t.ctx?new D({symb:t.ctx.val.symb,queu:t.ctx.val.queu},t.ctx.prev):null,n.hctx=t.hctx?new D({symb:t.hctx.val.symb,queu:t.hctx.val.queu},t.hctx.prev):null,n.err=t.err||null,n.$eol$=t.$eol$,n.$blank$=t.$blank$):(n.line=-1,n.bline=-1,n.status=t||0,n.stack=null,n.token=null,n.token2=null,n.block=null,n.outer=null,n.queu=null,n.symb=null,n.ctx=null,n.hctx=null,n.err=n.status&oe?{}:null,n.$eol$=!0,n.$blank$=!0)}function X(e,t,n,o){return n?(e.status=n[0],e.block=n[1],e.outer=n[2],e.stack=n[3],t&&t.pos>n[4]&&t.bck(n[4]),void 0):(n=[e.status,e.block,e.outer,e.stack,t?t.pos:1/0],!1===o&&(e.status=0),n)}function Z(e){e.id=null,e.line=null,e.bline=null,e.status=null,e.stack=null,e.token=null,e.token2=null,e.block=null,e.outer=null,e.queu=null,e.symb=null,e.ctx=null,e.hctx=null,e.err=null}function ee(e,t,n){var o=new String(e);return o.start=t||0,o.pos=n||0,o.sol=function(){return 0===o.pos},o.eol=function(){return o.pos>=o.length},o.end=function(){return o.pos=o.length,o},o.mov=function(e){return o.pos=0>e?ft(0,o.pos+e):mt(o.length,o.pos+e),o},o.bck=function(e){return o.pos=ft(0,e),o},o.sft=function(){return o.start=o.pos,o},o.nxt=function(e,t){var n,r,l="";if(!0===e){for(t=t||ee.$NONSPC$;o.pos<o.length&&t.test(n=o[kt](o.pos++));)l+=n;return l.length?l:null}for(e=e||1,r=0;r++<e&&o.pos<o.length;)l+=o[kt](o.pos++);return l},o.cur=function(e){var t=o.slice(o.start,o.pos);return e&&(o.start=o.pos),t},o.sel=function(e,t){return o.slice(e,t)},o.spc=function(e,t){var n;return(n=o.slice(o.pos).match(t||ee.$SPC$))?(!1!==e&&o.mov(n[0].length),n[0]):void 0},o}function te(e,t){var n=function o(e){var t={Mode:o,compiled:!0,aliases:o.aliases||null,case_insensitive:!1,relevance:0,contains:[],parent:null,keywords:null,className:null,$tokens:null,$token:null,beginRe:null,endRe:null,lexemesRe:null,terminators:null,submode:function(e,t){o.submode(e,t.Mode)}},n={lastIndex:0,exec:function(e){var n=null;return t.$token&&(n=[t.$token.token],n.index=0,this.lastIndex=n[0].length),n}},r={lastIndex:0,exec:function(e){var n=null;return t.$token&&!t.$token.ret&&(n=[t.$token.token],n.index=0,this.lastIndex=n[0].length,t.$token.ret=1),n}},l={_str:null,lastIndex:0,exec:function(e){var n=null,o=this;return e!==o._str?(o._str=e,o.lastIndex=o.lastIndex||0,t.$tokens=t.Mode.$parser.parse(e,ne|oe|re).tokens,t.$token=t.$tokens.shift(),t.$token.ret=0,t.parent=t,null===t.$token.type?t.keywords=null:(t.keywords={},t.keywords[t.$token.token]=[t.$token.type,1]),n=[t.$token.token],n.index=o.lastIndex,o.lastIndex+=n[0].length):t.$tokens&&t.$tokens.length?(o.lastIndex=o.lastIndex||0,t.$token=t.$tokens.shift(),t.$token.ret=0,t.parent=t,null===t.$token.type?t.keywords=null:(t.keywords={},t.keywords[t.$token.token]=[t.$token.type,1]),n=[t.$token.token],n.index=o.lastIndex,o.lastIndex+=n[0].length):(o._str=null,o.lastIndex=0,t.$tokens=null,t.$token=null,t.parent=null,t.keywords=null),n}};return t.beginRe=n,t.endRe=n,t.lexemesRe=r,t.terminators=l,t};return n.$id=p("highlightjs_grammar_mode"),n.$parser=new Wt.Parser(j(e)),n.submode=function(e,t){n.$parser.subparser(e,t.$parser)},n.dispose=function(){n.$parser&&n.$parser.dispose(),n.$parser=null},n.aliases=null,n}var ne=1,oe=2,re=32,le=4,se=8,ie=~le,ae=~se,ue=le|se,ce=0,pe=4,fe=8,me=9,he=10,ke=11,ye=12,de=16,xe=17,ge=18,$e=19,be=32,ve=33,we=128,qe=129,_e=2,Oe=4,Ee=8,Se=4,Re=8,Le=9,Ie=16,je=32,Me=128,Ne=256,De=512,ze=1024,Fe=1025,Pe=2048,Ae=4096,Ce=8192,Te=8193,Ge=8194,Be=8195,Ue=16384,Ye=Ue,He=16385,Je=32768,Ke=65536,Ve=Ae|Je,We=Pe|Ae|Ce|Ue|Je|Ke,Qe={action:Se,simple:De,block:ze,comment:Fe,subgrammar:Ke,alternation:Pe,sequence:Ae,repeat:Ce,zeroorone:Te,zeroormore:Ge,oneormore:Be,positivelookahead:Ye,negativelookahead:He,ngram:Je},Xe="$|SOF|$",Ze="$|NONBLANK|$",et="$|SOL|$",tt="$|EOL|$",nt="$|ENDLINE|$",ot="$|EMPTY|$",rt="$|NONSPACE|$",lt=void 0,st="prototype",it="hasOwnProperty",at="propertyIsEnumerable",ut=Object[st],ct=ut.toString,pt=Object.create,ft=Math.max,mt=Math.min,ht="toLowerCase",kt="charAt",yt=1/0,dt=4,xt=8,gt=16,$t=32,bt=33,vt=34,wt=64,qt=128,_t=129,Ot=130,Et=256,St=512,Rt=1024,Lt=2048,It=4096,jt=qt|$t,Mt=qt|Et,Nt=Lt|Et,Dt=qt|Et|Lt,zt={"[object Number]":$t,"[object String]":qt,"[object Array]":Et,"[object RegExp]":Lt,"[object Date]":It,"[object Function]":Rt,"[object Object]":St},Ft=/^\s+|\s+$/g,Pt=String[st].trim?function(e){return e.trim()}:function(e){return e.replace(Ft,"")},At=function(e,t){return t.length-e.length},Ct=/\r\n|\r|\n/g,Tt=/[\-_]/g,Gt=0,Bt=/([.*+?^${}()|[\]\/\\\-])/g,Ut=/^([.!&\[\]{}()*+?\/|'"]|\s)/,Yt="(\\s|\\W|$)",Ht=/(l?i?l?)x(l?i?l?)$/,Jt=/[*+]$/;Q.prototype.toString=function(){var e=this;return e.id+"_"+e.line+"_"+e.bline+"_"+(e.block?e.block.name:"0")},ee.$SPC$=/^[\s\u00a0]+/,ee.$NONSPC$=/[^\s\u00a0]/,ee.$NOTEMPTY$=/\S/,ee.$SPACE$=/^\s*/;var Kt=m({constructor:function(e,t,n){var o=this;o.$grammar=e,o.$DEF=t||null,o.$ERR=n||null,o.DEF=o.$DEF,o.ERR=o.$ERR,o.$folders=[],o.$matchers=[],o.$subgrammars={}},$grammar:null,$subgrammars:null,$folders:null,$matchers:null,$n$:"name",$t$:"type",$v$:"token",$DEF:null,$ERR:null,DEF:null,ERR:null,dispose:function(){var e=this;return e.$grammar=e.$subgrammars=null,e.$folders=e.$matchers=null,e.$n$=e.$t$=e.$v$=null,e.$DEF=e.$ERR=e.DEF=e.ERR=null,e},token:function(e,t,n){if(t.token2){var o=t.token2[0];return e.pos=t.token2[1],e.sft(),t.token=t.token2[3],t.$eol$=e.eol(),t.$blank$=t.$blank$&&(t.token2[2]||t.$eol$),t.token2=null,o}var r,l,s,i,a,u,c,p,f,m,h,k,y,d,x,g,$,b,v=this,w=v.$grammar,q=w.Style,_=v.DEF,O=v.ERR,o={},E=v.$n$,S=v.$t$,R=v.$v$,L=w.$interleaved,I=w.$parser,j=I.length,M=L?L.length:0,N=t.outer,D=N&&N[2],z=N&&N[1];if(e.sol()&&(t.$eol$&&(t.$blank$&&(t.bline=t.line),t.$eol$=!1,t.line++),t.$blank$=t.bline+1===t.line),t.$actionerr$=!1,t.token=null,i=t.line,a=e.pos,m=!1,k=!0,h=!1,y=!1,N&&v===N[0]){if(o[E]=null,o[S]=_,o[R]=null,z){if(s=new F,H(z,e,D,s))return t.outer=null,{parser:v,state:D};for(e.nxt(1);!e.eol();){if(H(z,e,D,s)){if(e.pos>a)break;return t.outer=null,{parser:v,state:D}}e.nxt(1)}}else e.spc(),e.eol()?y=!0:e.end();return o[R]=e.cur(1),t.$eol$=e.eol(),t.$blank$=t.$blank$&&(y||t.$eol$),o}if(t.stack&&Ie===t.stack.val.type&&e.sol()&&(t.stack=t.stack.prev),(!t.stack||null==t.block)&&e.spc()){if(t.stack&&Ke===t.stack.val.type)return e.bck(a),r=t.stack.val,t.stack=t.stack.prev,m=H(r,e,t,s),d=""+m,v.$subgrammars[d]?(x=v.$subgrammars[d],g=new Q(1,n[d]?n[d]:t.status),D=t):(x=v,g=new Q,D=t),g.outer=[v,m.next,D],{parser:x,state:g,toInner:d};k=!0,y=!0}if(o[E]=null,o[S]=_,o[R]=null,k)for(s=new F,y&&(s.space=[a,e.pos],e.sft()),u=0;k&&(t.stack||j>u)&&!e.eol();){if(p=e.pos,f=t.stack,z){if(e.spc(),H(z,e,D,s))return s.space||e.pos>p?(s.space&&(e.start=s.space[0],e.pos=s.space[1]),o[R]=e.cur(1),t.$eol$=e.eol(),t.$blank$=t.$blank$&&!0,o):(t.outer=null,{parser:N[0],state:D,fromInner:t});e.bck(p)}if($=!1,M&&!t.block)for(c=0;M>c;c++)if(r=L[c],m=H(r,e,t,s),!1!==m){$=!0;break}if(k&&!$){if(!t.stack&&u>=j)break;t.stack?(r=t.stack.val,t.stack=t.stack.prev):r=I[u++],m=H(r,e,t,s)}if(!1===m){if(r.status&ue){t.token=r,y=Y(t,e,s,r)||y,h=!0,k=!1;break}}else{if(m.subgrammar)return d=""+m,v.$subgrammars[d]?(x=v.$subgrammars[d],g=new Q(1,n[d]?n[d]:t.status),D=t):(x=v,g=new Q,D=t),g.outer=[v,m.next,D],s.space?(t.token2=[{parser:x,state:g,toInner:d},e.pos,y,t.token],t.token=null,e.start=s.space[0],e.pos=s.space[1],o[R]=e.cur(1),t.$eol$=e.eol(),t.$blank$=t.$blank$&&!0,o):{parser:x,state:g,toInner:d};if(t.stack&&t.stack.prev&&e.eol()&&ze&t.stack.val.type&&t.block&&t.block.name===t.stack.val.name)for(c=t.stack.prev;c&&Se===c.val.type;)l=c,c=c.prev,b=J(l,e,t,s),l.status&se?t.$actionerr$=!0:b&&!0!==m&&l.modifier&&(m=l.modifier);else if(t.stack&&Se===t.stack.val.type)for(;t.stack&&Se===t.stack.val.type;)l=t.stack.val,t.stack=t.stack.prev,b=J(l,e,t,s),l.status&se?t.$actionerr$=!0:b&&!0!==m&&l.modifier&&(m=l.modifier);if(!0!==m){k=!1;break}}}return k&&(s.space?(e.start=s.space[0],e.pos=s.space[1],m=!1,s.space=null):e.nxt(1)),o[R]=e.cur(1),!1!==m?(m=m?q[m]||_:_,o[E]=r?r.name:null):h?(m=O,t.status&oe&&C(t,i,a,i,e.pos,r)):m=_,o[S]=m,s.space&&(t.token2=[o,e.pos,y,t.token],t.token=null,e.start=s.space[0],e.pos=s.space[1],o={},o[E]=null,o[S]=_,o[R]=e.cur(1),y=!0),t.$eol$=e.eol(),t.$blank$=t.$blank$&&(y||t.$eol$),o},get:function(e,t){for(var n=t.parser.token(e,t.state,t.inner);n&&n.parser;)n.fromInner&&t.parser!==n.parser&&(t.state.err=n.fromInner.err,t.name&&(t.inner[t.name]=n.fromInner)),n.state.err=t.state.err,n.state.line=t.state.line,n.state.bline=t.state.bline,n.state.$blank$=t.state.$blank$,n.state.$eol$=t.state.$eol$,n.state.$full_parse$=t.state.$full_parse$,t.state=n.state,t.parser=n.parser,t.name=n.toInner,n=t.parser.get(e,t);return n},tokenize:function(e,t,n,o){if(o=o||[],e.eol())t.state.line++,t.state.$blank$&&t.state.bline++;else for(;!e.eol();)o.push(t.parser.get(e,t));return o},parse:function(e,t){var n,r,l,s,i,a,u=(e||"").split(Ct),c=u.length,p=null;if(t=t||ne,l=!!(t&oe),s=!!(t&ne),r={parser:this,state:new Q(0,t),inner:{}},r.state.$full_parse$=!0,o(function(e){u[e]+="\n"},0,c-2),s?p=o(t&re?function(e,t){r.parser.tokenize(ee(u[e]),r,e,t)}:function(e,t){t.push(r.parser.tokenize(ee(u[e]),r,e))},0,c-1,[]):o(function(e){var t=ee(u[e]);if(t.eol())r.state.line++,r.state.$blank$&&r.state.bline++;else for(;!t.eol();)r.parser.get(t,r)},0,c-1),n=r.state,l&&n.queu)for(;n.queu;)i=n.queu.val,n.queu=n.queu.prev,C(n,i[1],i[2],i[3],i[4],null,i[5]);return a=s&&l?{tokens:p,errors:n.err}:s?p:n.err,Z(n),r=n=null,a},autocompletion:function(e,t){var n,o,r=e.stack,l={},s=O([e.token],[],l);for(t=t||0;r;){if(n=r.val,o=n.type,Ce&o){if(s=O([n],s,l),0<n.min&&t<s.length)break}else if((De===o||Pe===o||Ve&o)&&(s=O([n],s,l),t<s.length))break;r=r.prev}return s},subparser:function(e,t){var n=this;return!1===t?n.$subgrammars[it](e)&&delete n.$subgrammars[e]:t&&(n.$subgrammars[e]=t),n},iterator:function(){},validate:function(){},autocomplete:function(){},indent:function(){},fold:function(){},match:function(){}}),Vt=m(Kt,{constructor:function(e,t){var n=this;Kt.call(n,e,null,null),n.DEF=t||n.$DEF,n.ERR=n.$ERR},tokenize:function(e,n,o,r){var l,s=this,i=[],a=null,u=Array.prototype.push,c=function(e){return e.type=s.$DEF,e};if(r=r||[],e.eol())n.state.line++,n.state.$blank$&&n.state.bline++;else for(;!e.eol();)l=n.parser.get(e,n),n.state.$actionerr$?(i.length&&u.apply(r,t(i,c)),l.type=s.$DEF,r.push(l),i.length=0,a=null):(a!==l.name&&(i.length&&u.apply(r,i),i.length=0,a=l.name),i.push(l));return i.length&&u.apply(r,i),i.length=0,a=null,r}}),Wt={VERSION:"4.1.0",clone:r,extend:l,pre_process:I,parse:j,getMode:te,Parser:Vt};return Wt});