/**
*
*   HighlightJSGrammar
*   @version: 4.2.1
*
*   Transform a grammar specification in JSON format, into a syntax-highlight language for HighlightJS
*   https://github.com/foo123/highlightjs-grammar
*   https://github.com/foo123/editor-grammar
*
**/!function(e,t,n){"use strict";"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[t]=n.call(e)):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["module"],function(t){return n.moduleUri=t.uri,n.call(e)}):t in e||(e[t]=n.call(e)||1)&&"function"==typeof define&&define.amd&&define(function(){return e[t]})}(this,"HighlightJSGrammar",function(){"use strict";function e(e){var t=0;return null===e?t=xt:!0===e||!1===e||e instanceof Boolean?t=_t:it===e?t=vt:(t=Pt[kt.call(e)]||$t,t=bt===t||e instanceof Number?isNaN(e)?qt:isFinite(e)?bt:wt:Ot===t||e instanceof String?1===e.length?Et:Ot:It===t||e instanceof Array?It:jt===t||e instanceof RegExp?jt:Mt===t||e instanceof Date?Mt:Lt===t||e instanceof Function?Lt:Rt===t?Rt:$t),t}function t(e,t,n,o){var l,s,r,i,a,u,c=e.length;if(arguments.length<4&&(o=c-1),0>o&&(o+=c),arguments.length<3&&(n=0),n>o)return[];if(n===o)return[t(e[n],n,n,o)];for(r=o-n+1,i=15&r,a=1&i,u=new Array(r),a&&(u[0]=t(e[n],n,n,o)),l=a;i>l;l+=2)s=n+l,u[l]=t(e[s],s,n,o),u[l+1]=t(e[s+1],s+1,n,o);for(l=i;r>l;l+=16)s=n+l,u[l]=t(e[s],s,n,o),u[l+1]=t(e[s+1],s+1,n,o),u[l+2]=t(e[s+2],s+2,n,o),u[l+3]=t(e[s+3],s+3,n,o),u[l+4]=t(e[s+4],s+4,n,o),u[l+5]=t(e[s+5],s+5,n,o),u[l+6]=t(e[s+6],s+6,n,o),u[l+7]=t(e[s+7],s+7,n,o),u[l+8]=t(e[s+8],s+8,n,o),u[l+9]=t(e[s+9],s+9,n,o),u[l+10]=t(e[s+10],s+10,n,o),u[l+11]=t(e[s+11],s+11,n,o),u[l+12]=t(e[s+12],s+12,n,o),u[l+13]=t(e[s+13],s+13,n,o),u[l+14]=t(e[s+14],s+14,n,o),u[l+15]=t(e[s+15],s+15,n,o);return u}function n(e,t,n,o,l){var s,r,i,a,u,c=e.length,p=n;if(arguments.length<5&&(l=c-1),0>l&&(l+=c),arguments.length<4&&(o=0),o>l)return p;if(o===l)return t(p,e[o],o);for(i=l-o+1,a=15&i,u=1&a,u&&(p=t(p,e[o],o)),s=u;a>s;s+=2)r=o+s,p=t(t(p,e[r],r),e[r+1],r+1);for(s=a;i>s;s+=16)r=o+s,p=t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(p,e[r],r),e[r+1],r+1),e[r+2],r+2),e[r+3],r+3),e[r+4],r+4),e[r+5],r+5),e[r+6],r+6),e[r+7],r+7),e[r+8],r+8),e[r+9],r+9),e[r+10],r+10),e[r+11],r+11),e[r+12],r+12),e[r+13],r+13),e[r+14],r+14),e[r+15],r+15);return p}function o(e,t,n,o){if(t>n)return o;if(t===n)return e(t,o,t,n),o;var l,s,r=n-t+1,i=15&r,a=1&i;for(a&&e(t,o,t,n),l=a;i>l;l+=2)s=t+l,e(s,o,t,n),e(++s,o,t,n);for(l=i;r>l;l+=16)s=t+l,e(s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n),e(++s,o,t,n);return o}function l(t,n){var o,s,r,i,a=e(t),u=0;if(bt===e(n)?n>0?(u=n,n=!0):n=!1:n=!1!==n,Rt===a){s={};for(r in t)dt.call(t,r)&&gt.call(t,r)&&(o=e(t[r]),Rt===o?s[r]=n?l(t[r],u>0?u-1:n):t[r]:It===o?s[r]=n?l(t[r],u>0?u-1:n):t[r].slice():Mt===o?s[r]=new Date(t[r]):Ot&o?s[r]=t[r].slice():bt&o?s[r]=0+t[r]:s[r]=t[r])}else if(It===a)for(i=t.length,s=new Array(i),r=0;i>r;r++)o=e(t[r]),Rt===o?s[r]=n?l(t[r],u>0?u-1:n):t[r]:It===o?s[r]=n?l(t[r],u>0?u-1:n):t[r].slice():Mt===o?s[r]=new Date(t[r]):Ot&o?s[r]=t[r].slice():bt&o?s[r]=0+t[r]:s[r]=t[r];else s=Mt===a?new Date(t):Ot&a?t.slice():bt&a?0+t:t;return s}function s(){var t,n,o,r,i,a,u,c,p,f,m=arguments,h=m.length;if(1>h)return null;for(n=l(m[0]),o=1;h>o;o++)if(t=m[o])for(r in t)if(dt.call(t,r)&&gt.call(t,r))if(dt.call(n,r)&&gt.call(n,r)){if(p=e(n[r]),f=e(t[r]),Rt===p&&Rt===f)n[r]=s(n[r],t[r]);else if(It===p&&It===f){if(u=n[r],c=t[r],a=c.length,!a)continue;if(u.length)for(i=0;a>i;i++)0>u.indexOf(c[i])&&u.push(c[i]);else n[r]=c.slice()}}else n[r]=l(t[r]);return n}function r(t,n){return n||It!==e(t)?[t]:t}function i(t,n){return t=r(t),(n||It!==e(t[0]))&&(t=[t]),t}function a(t,n){return Ot&e(n)&&Ot&e(t)&&n.length&&n.length<=t.length&&n===t.substr(0,n.length)}function u(e,t,n){return n?e[t]=it:delete e[t],e}function c(e){return(e||"id_")+ ++Ut}function p(e){return(e||"uuid")+"_"+ ++Ut+"_"+(new Date).getTime()}function f(){var t,n,o,l,s,r,i=arguments,a=i.length;for(t=i[0]||{},s=1;a>s;s++)if(n=i[s],Rt===e(n))for(l in n)dt.call(n,l)&&gt.call(n,l)&&(o=n[l],r=e(o),bt&r?t[l]=0+o:Mt&r?t[l]=new Date(o):Dt&r?t[l]=o.slice():t[l]=o);return t}function m(e,t){var n,o=arguments.length,l="constructor";return 0===o?(e=Object,t={}):1===o?(t=e||{},e=Object):(e=e||Object,t=t||{}),dt.call(t,l)||(t[l]=function(){}),n=t[l],delete t[l],n[at]=f(ct(e[at]),t),n[at][l]=n,n}function h(e){return e.replace(Yt,"\\$1")}function k(e,t){t=t||{l:0,x:0,i:0,g:0};var e=new RegExp(e,(t.g?"g":"")+(t.i?"i":""));return e.xflags=t,e}function d(e,t,n,o){var l,s=e.pos||0,r=e.length,i=t.length,a="";if(n)if(o)for(;r>s;)if(l=!1,n===e[ht](s)&&(l=!0,s+=1),t===e.substr(s,i)){if(s+=i,!l)break;a+=t}else a+=e[ht](s++);else for(;r>s;)if(l=!1,n===e[ht](s)&&(l=!0,s+=1,a+=n),t===e.substr(s,i)){if(s+=i,!l)break;a+=t}else a+=e[ht](s++);else for(;r>s;){if(t===e.substr(s,i)){s+=i;break}a+=e[ht](s++)}return e.pos=s,a}function g(t,n,o,l){var s,r,i,a,u,c=!0===o?0:1,p=l?"\\":"$",f=l?92:36;for(Ot&e(n)&&(l&&(n=h(n)),n=[n,n,n],c=0),r=t.length,u="",s=0;r>s;)i=t[ht](s),r>s+1&&p===i?(a=t.charCodeAt(s+1),f===a?(u+=p,s+=2):a>=48&&57>=a?(u+=n[c+a-48]||"",s+=2):(u+=i,s+=1)):(u+=i,s+=1);return u}function y(t,n,o,l){if(!t||(bt|jt)&e(t))return t;var s,r=n?n.length||0:0,i="",a={g:0,i:0,x:0,l:0};if(Ot&e(l)?i=l:l&&(i=Jt),r&&t.substr(0,r)===n){var u,c,p,s,f,m=t.substr(r),d=m[ht](0);for(s=m.length;s--&&(f=m[ht](s),d!==f);)"i"===f.toLowerCase()?a.i=1:"x"===f.toLowerCase()?a.x=1:"l"===f.toLowerCase()&&(a.l=1);return u=m.substring(1,s),"^"===u.charAt(0)?(a.l=1,c="^("+u.slice(1)+")"):c="^("+u+")",p=c,(a.x||a.l||a.i)&&(c=(a.l?"l":"")+(a.x?"x":"")+(a.i?"i":"")+"::"+c),o[c]||(p=k(p,a),o[c]=p),o[c]}return i?(p=c="^("+h(t)+")"+i,o[c]||(p=k(p,a),o[c]=p),o[c]):t}function $(n,o,l){var s,r="";return Ot&e(o)?r=o:o&&(r=Jt),s=t(n.sort(Tt),h).join("|"),[k("^("+s+")"+r,{l:0,x:0,i:l?1:0}),1]}function v(t,n,o,l){var s=e(n);if(bt===s)return n;if(l[t])return l[t];o=o||0;var r,i=0;return n&&n.isCharList&&(i=1,u(n,"isCharList")),r=xt===s?new N(Ee,t,n,xt,o):Et===s?new N(Ee,t,n,Et,o):zt&s?new N(Ee,t,n,jt,o):Ot&s?new N(Ee,t,n,i?St:Ot,o):n,l[t]=r}function x(t,n,o,l,s,i,u,c){if(u[t])return u[t];var p,f,m,h,k,d,g,b=0,w=0,q=1,_=Ot&e(l)?!0:!!l;if(p=r(n),m=p.length,1===m)g=v(t,y(p[0],o,i,l),0,u);else if(m>1){for(h=(m>>>1)+1,f=0;h>=f;f++)k=e(p[f]),d=e(p[m-1-f]),Et===k&&Et===d||(q=0),It&k||It&d?b=1:(jt&k||jt&d||a(p[f],o)||a(p[m-1-f],o))&&(w=1);if(q&&!_)p=p.slice().join(""),p.isCharList=1,g=v(t,p,0,u);else if(!_||b||w)if(b||w){for(f=0;m>f;f++)It&e(p[f])?p[f]=x(t+"_"+f,p[f],o,l,s,i,u):p[f]=v(t+"_"+f,y(p[f],o,i),f,u);g=m>1?new N(Se,t,p):p[0]}else{for(c&&(c.keywords=r(n).slice()),p=p.sort(Tt),f=0;m>f;f++)p[f]=v(t+"_"+f,y(p[f],o,i),f,u);g=m>1?new N(Se,t,p):p[0]}else c&&(c.keywords=r(n).slice()),g=v(t,$(p,l,s),0,u)}return u[t]=g}function b(t,n,l,s,r){if(r[t])return r[t];var u=i(n),c=[],p=[];return o(function(n){var o,i,f,m;o=v(t+"_0_"+n,y(u[n][0],l,s),n,r),u[n].length>1?(f=a(u[n][1],l),m=f&&Kt.test(u[n][1]),jt!==o.ptype||Ot!==e(u[n][1])||!m&&f?i=v(t+"_1_"+n,y(u[n][1],l,s),n,r):m?(i=new String(u[n][1]),i.regex_pattern=l):i=u[n][1]):i=o,c.push(o),p.push(i)},0,u.length-1),r[t]=new N(Ie,t,[c,p])}function w(e,t){var n=i(e.tokens.slice());o(function(e){var o=n[e][0],l=n[e].length>1?n[e][1]:n[e][0],s=n[e].length>2?n[e][2]:"";null===l?(t.line=t.line||[],t.line.push(o)):(t.block=t.block||[],t.block.push([o,l,s]))},0,n.length-1)}function q(e,n,o,l){var s=e.meta||o,r=!(!e.caseInsesitive&&!e.ci),i=t(n,function(e){return{word:e,meta:s,ci:r}});return l.autocomplete=(l.autocomplete||[]).concat(i),i}function _(t){t.Lex||(t.Lex={}),t.Syntax||(t.Syntax={});var n,o,l,r,i,a,c,p,f,m,h,k=t.Lex,d=t.Syntax,g=[k,d],y=g.length;for(h=0;y>h;){m=g[h++];for(l in m)dt.call(m,l)&&(n=l.split(":"),o=n[1]&&Ct(n[1]).length?Ct(n[1]):null,n=Ct(n[0]),n.length||(n=l,o=null),n!==l&&(m[n]=m[l],u(m,l),o&&(o=o[mt](),r=m[n],i=e(r),Rt===i?m[n].type||(m[n].type=o):(m[n]={type:o},"error"===o?(m[n].type="action",m[n].error=r):"nop"===o?(m[n].type="action",m[n].nop=!0):"group"===o?(m[n].type="sequence",m[n].tokens=r):"action"===o&&Ot===i?m[n][r]=!0:m[n].tokens=r))),k===m&&(Ft&e(m[n])&&(m[n]={type:"simple",tokens:m[n]}),r=m[n],r.type&&(p=r.type=r.type[mt](),"line-block"===p?(r.type="block",r.multiline=!1,r.escape=!1):"escaped-line-block"===p?(r.type="block",r.multiline=!1,r.escape="\\"):"escaped-block"===p&&(r.type="block",r.multiline=!0,r.escape="\\"))))}m=k;for(n in m)if(dt.call(m,n))for(r=m[n];r.extend;)a=r.extend,u(r,"extend"),c=k[a],c&&(Ft&e(c)&&(c=k[a]={type:"simple",tokens:c}),r=s(c,r));m=k;for(n in m)dt.call(m,n)&&(r=m[n],r.type?(p=r.type=r.type[mt](),"action"===p?r.options=r.options||{}:"line-block"===p?(r.type="block",r.multiline=!1,r.escape=!1):"escaped-line-block"===p?(r.type="block",r.multiline=!1,r.escape="\\"):"escaped-block"===p&&(r.type="block",r.multiline=!0,r.escape="\\")):r["escaped-line-block"]?(r.type="block",r.multiline=!1,r.escape||(r.escape="\\"),r.tokens=r["escaped-line-block"],u(r,"escaped-line-block")):r["escaped-block"]?(r.type="block",r.multiline=!0,r.escape||(r.escape="\\"),r.tokens=r["escaped-block"],u(r,"escaped-block")):r["line-block"]?(r.type="block",r.multiline=!1,r.escape=!1,r.tokens=r["line-block"],u(r,"line-block")):r.comment?(r.type="comment",r.escape=!1,r.tokens=r.comment,u(r,"comment")):r.block?(r.type="block",r.tokens=r.block,u(r,"block")):r.simple?(r.type="simple",r.tokens=r.simple,u(r,"simple")):r.nop?(r.type="action",r.options=r.options||{},r.action=["nop",r.nop,r.options],r.nop=!0):r.error?(r.type="action",r.options=r.options||{},r.action=["error",r.error,r.options],u(r,"error")):dt.call(r,"hypercontext")?(r.type="action",r.options=r.options||{},r.action=[r.hypercontext?"hypercontext-start":"hypercontext-end",r.hypercontext,r.options],u(r,"hypercontext")):dt.call(r,"context")?(r.type="action",r.options=r.options||{},r.action=[r.context?"context-start":"context-end",r.context,r.options],u(r,"context")):r.indent?(r.type="action",r.options=r.options||{},r.action=["indent",r.indent,r.options],u(r,"indent")):r.outdent?(r.type="action",r.options=r.options||{},r.action=["outdent",r.outdent,r.options],u(r,"outdent")):r.define?(r.type="action",r.options=r.options||{},r.action=["define",Ot&e(r.define)?["*",r.define]:r.define,r.options],u(r,"define")):r.undefine?(r.type="action",r.options=r.options||{},r.action=["undefine",Ot&e(r.undefine)?["*",r.undefine]:r.undefine,r.options],u(r,"undefine")):r.defined?(r.type="action",r.options=r.options||{},r.action=["defined",Ot&e(r.defined)?["*",r.defined]:r.defined,r.options],u(r,"defined")):r.notdefined?(r.type="action",r.options=r.options||{},r.action=["notdefined",Ot&e(r.notdefined)?["*",r.notdefined]:r.notdefined,r.options],u(r,"notdefined")):r.unique?(r.type="action",r.options=r.options||{},r.action=["unique",Ot&e(r.unique)?["*",r.unique]:r.unique,r.options],u(r,"unique")):r.push?(r.type="action",r.options=r.options||{},r.action=["push",r.push,r.options],u(r,"push")):dt.call(r,"pop")?(r.type="action",r.options=r.options||{},r.action=["pop",r.pop,r.options],u(r,"pop")):r.type="simple","action"===r.type?(r.options=r.options||{},r.options["in-context"]=!(!r.options["in-context"]&&!r["in-context"]),r.options["in-hypercontext"]=!(!r.options["in-hypercontext"]&&!r["in-hypercontext"]),r.options.ci=r.ci=!!(r.options.caseInsesitive||r.options.ci||r.caseInsesitive||r.ci),r.options.autocomplete=!(!r.options.autocomplete&&!r.autocomplete),r.options.mode=r.options.mode||r.mode):"block"===r.type||"comment"===r.type?(r.multiline=dt.call(r,"multiline")?!!r.multiline:!0,Ot&e(r.escape)||(r.escape=!1)):"simple"===r.type&&(r.meta=r.autocomplete&&Ot&e(r.meta)?r.meta:null,r.ci=!(!r.caseInsesitive&&!r.ci)));m=d;for(n in m)dt.call(m,n)&&(r=m[n],Rt!==e(r)||r.type?r.type&&(p=r.type=r.type[mt](),"group"===p&&r.match?(i=e(r.match),Ot&i?(f=r.match[mt](),"alternation"===f||"either"===f?(r.type="alternation",u(r,"match")):"sequence"===f||"all"===f?(r.type="sequence",u(r,"match")):"zeroorone"===f?(r.type="zeroOrOne",u(r,"match")):"zeroormore"===f?(r.type="zeroOrMore",u(r,"match")):"oneormore"===f?(r.type="oneOrMore",u(r,"match")):(r.type="sequence",u(r,"match"))):It&i&&(r.type="repeat",r.repeat=r.match,u(r,"match"))):"either"===p?r.type="alternation":"all"===p?r.type="sequence":"lookahead"===p?r.type="positiveLookahead":"grammar"===p&&(r.type="subgrammar"),"subgrammar"!==r.type||r.tokens||(r.tokens=n)):r.ngram||r["n-gram"]?(r.type="ngram",r.tokens=r.ngram||r["n-gram"],r["n-gram"]?u(r,"n-gram"):u(r,"ngram")):r.sequence||r.all?(r.type="sequence",r.tokens=r.sequence||r.all,r.all?u(r,"all"):u(r,"sequence")):r.alternation||r.either?(r.type="alternation",r.tokens=r.alternation||r.either,r.either?u(r,"either"):u(r,"alternation")):r.zeroOrOne?(r.type="zeroOrOne",r.tokens=r.zeroOrOne,u(r,"zeroOrOne")):r.zeroOrMore?(r.type="zeroOrMore",r.tokens=r.zeroOrMore,u(r,"zeroOrMore")):r.oneOrMore?(r.type="oneOrMore",r.tokens=r.oneOrMore,u(r,"oneOrMore")):r.positiveLookahead||r.lookahead?(r.type="positiveLookahead",r.tokens=r.positiveLookahead||r.lookahead,r.lookahead?u(r,"lookahead"):u(r,"positiveLookahead")):r.negativeLookahead?(r.type="negativeLookahead",r.tokens=r.negativeLookahead,u(r,"negativeLookahead")):(r.subgrammar||r.grammar)&&(r.type="subgrammar",r.tokens=r.subgrammar||r.grammar,r.subgrammar?u(r,"subgrammar"):u(r,"grammar")));return t}function O(e,t){t=t||[];var n,o,l,s;for(n=e.ctx;n;){for(o=n.val.symb;o;)s=o.val[1],s[7]&&t.push({word:s[5],meta:(s[6]||"")+" at ("+(s[0]+1)+","+(s[1]+1)+")",ci:s[8],token:s[6],pos:[s[0]+1,s[1]+1,s[2]+1,s[3]+1]}),o=o.prev;o=n.val.tabl;for(l in o)dt.call(o,l)&&o[l][7]&&(s=o[l],t.push({word:s[5],meta:(s[6]||"")+" at ("+(s[0]+1)+","+(s[1]+1)+")",ci:s[8],token:s[6],pos:[s[0]+1,s[1]+1,s[2]+1,s[3]+1]}));n=n.prev}for(n=e.hctx;n;){for(o=n.val.symb;o;)s=o.val[1],s[7]&&t.push({word:s[5],meta:(s[6]||"")+" at ("+(s[0]+1)+","+(s[1]+1)+")",ci:s[8],token:s[6],pos:[s[0]+1,s[1]+1,s[2]+1,s[3]+1]}),o=o.prev;o=n.val.tabl;for(l in o)dt.call(o,l)&&o[l][7]&&(s=o[l],t.push({word:s[5],meta:(s[6]||"")+" at ("+(s[0]+1)+","+(s[1]+1)+")",ci:s[8],token:s[6],pos:[s[0]+1,s[1]+1,s[2]+1,s[3]+1]}));n=n.prev}for(o=e.symb;o;)s=o.val[1],s[7]&&t.push({word:s[5],meta:(s[6]||"")+" at ("+(s[0]+1)+","+(s[1]+1)+")",ci:s[8],token:s[6],pos:[s[0]+1,s[1]+1,s[2]+1,s[3]+1]}),o=o.prev;o=e.tabl;for(l in o)dt.call(o,l)&&o[l][7]&&(s=o[l],t.push({word:s[5],meta:(s[6]||"")+" at ("+(s[0]+1)+","+(s[1]+1)+")",ci:s[8],token:s[6],pos:[s[0]+1,s[1]+1,s[2]+1,s[3]+1]}));return t}function E(t,n,o,l){if(o=o||{},n=n||[],!t||!t.length)return n;var s,r,i,a,u,c,p;for(s=0,r=t.length;r>s;s++)if(u=t[s])if(Fe===u.type){if(l&&l.length&&u.name)for(i=l.length-1;i>=0;i--)l[i].token&&(u.name===l[i].token||u.name.length>l[i].token.length&&u.name.slice(0,l[i].token.length)===l[i].token||u.name.length<l[i].token.length&&u.name===l[i].token.slice(0,u.name.length))&&(l[i].meta=u.name+" at ("+l[i].pos[0]+","+l[i].pos[1]+")",n.push(l[i]),l.splice(i,1));if(u.autocompletions)for(i=0,a=u.autocompletions.length;a>i;i++)p=u.autocompletions[i],dt.call(o,"w_"+p.word)||(n.push(p),o["w_"+p.word]=1);else Ot===u.token.ptype&&Ot&e(u.token.pattern)&&u.token.pattern.length>1&&(dt.call(o,"w_"+u.token.pattern)||(n.push({word:""+u.token.pattern,meta:u.name,ci:!!u.ci}),o["w_"+u.token.pattern]=1))}else if(Ce===u.type)E(u.token,n,o,l);else if(Qe&u.type){i=0,a=u.token.length;do E([c=u.token[i++]],n,o,l);while(a>i&&(Ge&c.type&&1>c.min||Re===c.type))}else Ge&u.type&&E([u.token[0]],n,o,l);return n}function S(t,n,o,l){for(var s;Ot&e(s=n[t]||o[t]);)t=s;return l?t:n[t]||o[t]||t}function I(e,t){return e.length>1?o(t?function(t,n){var o=n[n.length-1],l=e[t];o===l||n.push(l)}:function(t,n){var o=n[n.length-1],l=e[t];Vt.test(l)&&Vt.test(o)&&o===l||n.push(l)},1,e.length-1,[e[0]]):e}function R(n,o,s){var r,i,a,u,c,p,f,m,h,g,y,$,v,x,b,w=!1;if(b=n.modifier?n.modifier:null,m=new String(Ct(n)),m.pos=0,1===m.length)$=""+n,o[$]||s[$]||(o[$]={type:"simple",tokens:n}),n=$;else{for(r=[],i=[],a="",v=[];m.pos<m.length;)if(h=m[ht](m.pos++),Ht.test(h))if(a.length&&(w?(i.length&&(y=i[i.length-1],$=y+"."+a,p=o[$]||s[$],p||(f=S(y,o,s),s[$]=Ot&e(f)?new String(f):l(f),s[$].modifier=a),i[i.length-1]=$),w=!1):"0"===a?(o[st]||(o[st]={type:"simple",tokens:0}),i.push(st)):"^^"===a?(o[et]||(o[et]={type:"simple",tokens:Le}),i.push(et)):"^^1"===a?(o[tt]||(o[tt]={type:"simple",tokens:je}),i.push(tt)):"^"===a?(o[nt]||(o[nt]={type:"simple",tokens:Ne}),i.push(nt)):"$"===a?(o[ot]||(o[ot]={type:"simple",tokens:Me}),i.push(ot)):(o[a]||s[a]||(o[a]={type:"simple",tokens:a}),i.push(a)),a=""),"."===h)i.length&&m.pos<m.length&&!Ht.test(m[ht](m.pos))?w=!0:a+=h;else if('"'===h||"'"===h)u=d(m,h,"\\",1),u.length?($=""+u,o[$]||(o[$]={type:"simple",tokens:u}),i.push($)):(o[rt]||(o[rt]={type:"simple",tokens:""}),i.push(rt));else if("["===h)h=m[ht](m.pos+1),"^"===h?m.pos++:h="",u=d(m,"]","\\",0),$="["+h+u+"]",o[$]||(o[$]={type:"simple",tokens:k("^(["+h+u+"])")}),i.push($);else{if("]"===h){a+=h;continue}if("/"===h)u=d(m,h,"\\",0),g="",u.length&&(m.pos<m.length&&"i"===m[ht](m.pos)&&(m.pos++,g="i"),$="/"+u+"/"+g,o[$]||(o[$]={type:"simple",tokens:k("^("+u+")",{l:0,x:0,i:"i"===g})}),i.push($));else if("*"===h||"+"===h||"?"===h)i.length?(y=i[i.length-1],$=""+y+h,s[$]||(s[$]={type:"*"===h?"zeroOrMore":"+"===h?"oneOrMore":"zeroOrOne",tokens:[y]}),i[i.length-1]=$):a+=h;else if("{"===h)i.length?(c=d(m,"}",0,0),c=t(c.split(","),Ct),c[0].length?c[0]=parseInt(c[0],10)||0:c[0]=0,0>c[0]&&(c[0]=0),2>c.length?c.push(c[0]):c[1].length?c[1]=parseInt(c[1],10)||yt:c[1]=yt,0>c[1]&&(c[1]=0),y=i[i.length-1],$=""+y+["{",c[0],",",isFinite(c[1])?c[1]:"","}"].join(""),s[$]||(s[$]={type:"repeat",repeat:[c[0],c[1]],tokens:[y]}),i[i.length-1]=$):a+=h;else{if("}"===h){a+=h;continue}"&"===h||"!"===h?i.length?(y=i[i.length-1],$=""+y+h,s[$]||(s[$]={type:"!"===h?"negativeLookahead":"positiveLookahead",tokens:[y]}),i[i.length-1]=$):a+=h:"|"===h?(w=!1,i=I(i),i.length>1?($=""+i.join(" "),s[$]||(s[$]={type:"sequence",tokens:i}),r.push($)):i.length?r.push(i[0]):a+=h,i=[]):"("===h?(v.push([i,r,a]),i=[],r=[],a=""):")"===h&&(i=I(i),i.length>1?($=""+i.join(" "),s[$]||(s[$]={type:"sequence",tokens:i}),r.push($)):i.length&&r.push(i[0]),i=[],r=I(r,1),r.length>1?($=""+r.join(" | "),s[$]||(s[$]={type:"alternation",tokens:r})):r.length&&($=r[0]),r=[],x=v.pop(),i=x[0],r=x[1],a=x[2],y=$,$="("+y+")",s[$]||(s[$]=l(S(y,o,s))),i.push($))}}else a+=h;a.length&&(w?(i.length&&(y=i[i.length-1],$=y+"."+a,p=o[$]||s[$],p||(f=S(y,o,s),s[$]=Ot&e(f)?new String(f):l(f),s[$].modifier=a),i[i.length-1]=$),w=!1):"0"===a?(o[st]||(o[st]={type:"simple",tokens:0}),i.push(st)):"^^"===a?(o[et]||(o[et]={type:"simple",tokens:Le}),i.push(et)):"^^1"===a?(o[tt]||(o[tt]={type:"simple",tokens:je}),i.push(tt)):"^"===a?(o[nt]||(o[nt]={type:"simple",tokens:Ne}),i.push(nt)):"$"===a?(o[ot]||(o[ot]={type:"simple",tokens:Me}),i.push(ot)):(o[a]||s[a]||(o[a]={type:"simple",tokens:a}),i.push(a))),a="",i=I(i),i.length>1?($=""+i.join(" "),s[$]||(s[$]={type:"sequence",tokens:i}),r.push($)):i.length&&r.push(i[0]),i=[],r=I(r,1),r.length>1?($=""+r.join(" | "),s[$]||(s[$]={type:"alternation",tokens:r}),n=$):r.length&&(n=r[0]),r=[]}return b&&(o[n]||s[n])&&((o[n]||s[n]).modifier=b),n}function L(l,s,a,u,c,p,f,m,h,k,d){var g,y,$,v,_,O,E,I=null,j=null,M=null;if(Le===l||je===l||Ne===l||Me===l)return new F(l,Le===l?et:je===l?$T_FBNL$:Ne===l?nt:ot,l,j);if(!1===l||0===l)return new F(De,st,0,j);if(""===l)return new F(ze,rt,"",j);if(null===l)return new F(Fe,lt,xt,j,M);if(It&e(l)&&($=l,l="NGRAM_"+$.join("_"),u[l]||(u[l]={type:"ngram",tokens:$})),l=""+l,m[l])return m[l];if(_=S(l,a,u),Ot&e(_)&&(_=R(_,a,u),_=a[_]||u[_]||null),!_)return null;if(g=_.type?Ze[_.type[mt]().replace(Bt,"")]||Fe:Fe,j=_.msg||null,M=_.modifier||null,y=_.tokens,Fe&g){if(Le===y||je===y||Ne===y||Me===y||!1===y||0===y)return I=new F(y||De,l,y||0,j),m[l]=I,I;if(""===y)return I=new F(ze,l,"",j),m[l]=I,I;if(null===y)return I=new F(Fe,l,xt,j,M),m[l]=I,I;if(!y)return null}if(Re&g)_.options=_.options||{},_.options["in-context"]=!(!_.options["in-context"]&&!_["in-context"]),_.options["in-hypercontext"]=!(!_.options["in-hypercontext"]&&!_["in-hypercontext"]),_.options.ci=_.ci=!!(_.options.caseInsesitive||_.options.ci||_.caseInsesitive||_.ci),_.options.autocomplete=!(!_.options.autocomplete&&!_.autocomplete),_.options.mode=_.options.mode||_.mode,dt.call(_,"action")?"nop"===_.action[0]?_.action[0]=fe:"error"===_.action[0]?_.action[0]=me:"context-start"===_.action[0]?_.action[0]=$e:"context-end"===_.action[0]?_.action[0]=ve:"hypercontext-start"===_.action[0]?_.action[0]=xe:"hypercontext-end"===_.action[0]?_.action[0]=be:"push"===_.action[0]?_.action[0]=we:"pop"===_.action[0]?_.action[0]=qe:"define"===_.action[0]?_.action[0]=he:"undefine"===_.action[0]?_.action[0]=ke:"defined"===_.action[0]?_.action[0]=de:"notdefined"===_.action[0]?_.action[0]=ge:"unique"===_.action[0]?_.action[0]=ye:"indent"===_.action[0]?_.action[0]=_e:"outdent"===_.action[0]&&(_.action[0]=Oe):dt.call(_,"nop")?_.action=[fe,_.nop,_.options]:dt.call(_,"error")?_.action=[me,_.error,_.options]:dt.call(_,"context")?_.action=[_.context?$e:ve,_.context,_.options]:dt.call(_,"hypercontext")?_.action=[_.hypercontext?xe:be,_.hypercontext,_.options]:dt.call(_,"context-start")?_.action=[$e,_["context-start"],_.options]:dt.call(_,"context-end")?_.action=[ve,_["context-end"],_.options]:dt.call(_,"hypercontext-start")?_.action=[xe,_["hypcontext-start"],_.options]:dt.call(_,"hypercontext-end")?_.action=[be,_["hypcontext-end"],_.options]:dt.call(_,"push")?_.action=[we,_.push,_.options]:dt.call(_,"pop")?_.action=[qe,_.pop,_.options]:dt.call(_,"define")?_.action=[he,Ot&e(_.define)?["*",_.define]:_.define,_.options]:dt.call(_,"undefine")?_.action=[ke,Ot&e(_.undefine)?["*",_.undefine]:_.undefine,_.options]:dt.call(_,"defined")?_.action=[de,Ot&e(_.defined)?["*",_.defined]:_.defined,_.options]:dt.call(_,"notdefined")?_.action=[ge,Ot&e(_.notdefined)?["*",_.notdefined]:_.notdefined,_.options]:dt.call(_,"unique")?_.action=[ye,Ot&e(_.unique)?["*",_.unique]:_.unique,_.options]:dt.call(_,"indent")?_.action=[_e,_.indent,_.options]:dt.call(_,"outdent")&&(_.action=[Oe,_.outdent,_.options]),!1===_.msg&&(j=!1),_.nop&&(_.action[0]=fe),I=new F(Re,l,_.action.slice(),j,M),I.ci=!!(_.options.caseInsensitive||_.options.ci||_.caseInsensitive||_.ci),m[l]=I;else if(y=r(y),Fe&g){E=_.autocomplete?q(_,Dt&e(_.autocomplete)?r(_.autocomplete):y,l,d):null;var N={};if(O="undefined"!=typeof _.combine?_.combine:!!(It&e(_.tokens)),I=new F(Fe,l,x(l,y.slice(),s,O,!(!_.caseInsensitive&&!_.ci),p,f,N),j,M,null,E),N.keywords&&(I.keywords=N.keywords.join("|")),m[l]=I,null!=_.except){var D,z,P=r(_.except),C=P.length,T=[];for(D=0;C>D;D++)P[D]&&(z=L(P[D],s,a,u,c,p,f,m,h,k,d),z&&T.push(z));T.length&&(I.except=T)}}else Pe&g?(Ae===g&&w(_,k),I=new F(g,l,b(l,y.slice(),s,p,f),j),I.empty=dt.call(_,"empty")?!!_.empty:!0,I.mline=dt.call(_,"multiline")?!!_.multiline:!0,I.esc=dt.call(_,"escape")?_.escape:!1,I.inter=!!c[l+".inside"],Ae===g&&_.interleave&&h.push(A(I)),M&&(I.modifier=M),m[l]=I):Xe&g&&(We===g?m[l]=new F(We,l,y,j,M):Ve===g?(v=i(y),I=t(v,function(e,t){return new F(Ve,l+"_NGRAM_"+t,null,j,M)}),m[l]=I,o(function(e){I[e].token=r(n(v[e],function(e,t){return e.concat(L(t,s,a,u,c,p,f,m,h,k,d))},[]))},0,v.length-1)):(Je===g||Ke===g?I=new F(g,l,null,j,M):Ge&g&&It&e(_.repeat)?(I=new F(Ge,l,null,j,M),I.min=_.repeat[0],I.max=_.repeat[1]):Be===g?(I=new F(Be,l,null,j,M),I.min=0,I.max=1):Ue===g?(I=new F(Ue,l,null,j,M),I.min=0,I.max=yt):Ye===g?(I=new F(Ye,l,null,j,M),I.min=1,I.max=yt):I=Ce===g?new F(Ce,l,null,j,M):new F(Te,l,null,j,M),m[l]=I,I.token=r(n(y,function(e,t){return e.concat(L(t,s,a,u,c,p,f,m,h,k,d))},[]))));return m[l]}function j(t){var n={};return t.Lex=t.Lex||{},t.Syntax=t.Syntax||{},t=_(t),t.Parser&&t.Parser.length&&o(function l(s,r){var i,a,u,c=r[s];n[c]||(It&e(c)&&(i=c,c="NGRAM_"+i.join("_"),t.Syntax[c]||(t.Syntax[c]={type:"ngram",tokens:i})),a=S(c,t.Lex,t.Syntax),Ot&e(a)&&(a=R(a,t.Lex,t.Syntax),a=t.Lex[a]||t.Syntax[a]||null),a&&(n[c]=a,u=a.type?Ze[a.type[mt]().replace(Bt,"")]||Fe:Fe,Xe&u&&o(l,0,a.tokens.length-1,a.tokens)))},0,t.Parser.length-1,t.Parser),t}function M(t){var o,s,r,i,a,u,c,p,f,m,h,k,d,g;return t.__parsed?t:(o=t.RegExpID||null,r=t.Extra?l(t.Extra):{},i=t.Style?l(t.Style):{},a=null,u=null,c=t.Lex?l(t.Lex):{},p=t.Syntax?l(t.Syntax):{},f={},m={},h={},d={},g={},k=[],s=t.Parser?l(t.Parser):[],t=_({Style:i,Fold:a,Match:u,Lex:c,Syntax:p,$parser:null,$interleaved:null,$comments:null,$autocomplete:null,$extra:r,__parsed:0}),t.$parser=n(s,function(t,n){var l=L(n,o,c,p,i,f,m,h,k,d,g)||null;return l&&(It&e(l)?t=t.concat(l):t.push(l)),t},[]),t.$interleaved=k&&k.length?k:null,t.$comments=d,t.$autocomplete=g&&g.autocomplete&&g.autocomplete.length?g.autocomplete:null,t.__parsed=1,t)}function N(t,n,o,l,s){var r,i,a=this;r=a.type=t,a.name=n,a.pattern=o,i=a.ptype=l||Ot,a.key=s||0,Se===r?a.key=!1!==s:Ie===r?a.pattern[0]=new N(Se,n+"_Start",o[0],null,!1):xt===i?a.pattern=null:jt===i&&(a.pattern=jt&e(o)?[o,0]:[o[0],o[1]||0])}function D(t,n,o,l){var s,r,i,a,u,c,p,f,m,h,k,d=t,$=d.type,v=d.pattern,x=d.key;if(Ie===$){if(s=d.name,i=v[0],a=v[1],c=D(i,n,o,l))return u=a[c[0]],f=e(u),m=i.pattern[c[0]].ptype,jt===m&&Nt&f&&(u.regex_pattern?(p=g(u,c[1]),u=new N(Ee,s+"_End",y(p,u.regex_pattern,{}),jt)):(p=bt&f?c[1][u+1]:g(u,c[1]),u=new N(Ee,s+"_End",p,p.length>1?Ot:Et))),u}else if(Se===$){for(h=0,k=v.length;k>h;h++)if(p=D(v[h],n,o,l))return x?[h,p[1]]:p}else{if(r=d.ptype,xt===r)return!1!==o&&n.end(),[x,""];if(jt===r){if(p=v[0].xflags.l?n.match(v[0]):n.slice(n.pos).match(v[0]),p&&0===p.index)return!1!==o&&n.mov(p[v[1]||0].length),[x,v[1]>0?p[v[1]]:p]}else if(St===r){if(!0===l){p=-1;var b,w;for(k=v.length-1;k>=0;k--)b=n.indexOf(v[ht](k),n.pos),b>-1&&(-1===p||p>b)&&(p=b,w=v[ht](k));if(p>-1)return!1!==o&&(n.pos=p+1),[x,w]}else if(p=n[ht](n.pos)||null,p&&-1<v.indexOf(p))return!1!==o&&n.mov(1),[x,p]}else if(Et===r){if(!0===l){if(p=n.indexOf(v,n.pos),p>-1)return!1!==o&&(n.pos=p+1),[x,v]}else if(p=n[ht](n.pos)||null,v===p)return!1!==o&&n.mov(1),[x,p]}else if(Ot===r)if(k=v.length,!0===l){if(p=n.indexOf(v,n.pos),p>-1)return!1!==o&&(n.pos=p+k),[x,v]}else if(v===n.substr(n.pos,k))return!1!==o&&n.mov(k),[x,v]}return!1}function z(e,t){this.val=e||null,t?this.prev=t:this.prev=null}function F(e,t,n,o,l,s,r,i){var a=this;a.type=e,a.name=t,a.token=n,a.modifier=l||null,a.except=s||null,a.autocompletions=r||null,a.keywords=i||null,a.pos=null,a.msg=!1===o?!1:o||null,a.$msg=null,a.status=0,a.empty=!1,a.ci=!1,a.mline=!0,a.esc=!1,a.inter=!1,a.found=0,a.min=0,a.max=1,a.i0=0,a.$id=null}function P(){var e=this;e.T=0,e.id=null,e.type=null,e.match=null,e.str="",e.pos=null,e.block=null,e.space=null}function A(e,t,n,o){var l=new F(e.type,e.name,e.token,e.msg,e.modifier,e.except,e.autocompletions,e.keywords);return l.empty=e.empty,l.ci=e.ci,l.mline=e.mline,l.esc=e.esc,l.inter=e.inter,l.found=e.found,l.min=e.min,l.max=e.max,l.i0=e.i0,t&&(l.status|=ie),n&&(l.modifier=n),o&&(l.$id=o),l}function C(e){var t=e.name;return e.$msg?e.$msg:e.status&ie?'Token "'+t+'"'+(e.keywords?": "+e.keywords:"")+" Expected":'Syntax Error: "'+t+'"'}function T(e,t,n,o,l,s,r){e.status&se&&e.err&&(e.err[""+t+"_"+n+"_"+o+"_"+l+"_"+(s?s.name:"ERROR")]=[t,n,o,l,r||C(s)])}function G(e,t,n){var o=null;if(n)e&&dt.call(e,t)&&(o={list:e,key:t,val:e[t]});else for(var l=null,s=e;e;){if(t===e.val[0]){o={list:s,node:e,nodePrev:e.prev,nodeNext:l,key:t,val:e.val[1]};break}l=e,e=e.prev}return o}function B(e,t,n,o){return o?(e[t]=n,e):new z([t,n],e)}function U(e,t){return t?delete e.list[e.key]:e.nodeNext?e.nodeNext.prev=e.nodePrev:e.list=e.list.prev,e.list}function Y(e,t,n){if(e.stack===t)t=e.stack=new z(n,e.stack);else{for(var o=e.stack;o&&o.prev!==t;)o=o.prev;t=new z(n,t),o&&(o.prev=t)}return t}function H(e,t){if(null==e)return null;if(t){for(var n=new z(e.val),o=n,l=e;l.prev;)o.prev=new z(l.prev.val),l=l.prev,o=o.prev;return n}return e}function J(e,t,n,o){var l,s,r,i,a,u=1/0,c=null,p=1/0;if(s=t.pos,t.spc(),r=t.pos,l=e.stack,t.pos<t.length){for(a=0;l&&(i=l.val,i.$id===o.$id);){for(;!(Re===i.type||K(i,t,e,n)||(t.pos=i.pos>t.pos?i.pos:t.pos+1,e.stack=l,t.pos>=t.length)););e.stack=l,t.pos<t.length&&u>t.pos?(u=t.pos,c=l,p=a):u===t.pos&&p>a&&(u=t.pos,c=l,p=a),t.pos=r,l=l.prev,a++}u<t.length?(t.pos=u,e.stack=c):(t.end(),e.stack=null)}return r>=s&&t.pos===r}function K(e,t,n,o){if(!e)return!1;var l=e.type,s=Xe&l?X:Pe&l?Q:Re&l?V:W;return s(e,t,n,o)}function V(t,n,o,l){var s,r,i,a,u,c,p,f,m,h,k,d,y,$,v,x,b,w,q,_,O=t,E=O.token||null,S=O.ci,I=O.name,R=!1,L=!(o.status&se);if(O.status=0,O.$msg=null,!E||!l||!l.pos)return!0;if(b=!!(Pe&l.T),fe===E[0]||b&&!l.block)return!0;if(s=E[0],r=E[1],w=E[2]||{},u=O.msg,y=w["in-context"],$=w["in-hypercontext"],b?(x=l.block.match||l.block.str,m=l.block.pos[0][0],h=l.block.pos[0][1],k=l.block.pos[0][2],d=l.block.pos[0][3],R=!0):(x=l.match||l.str,m=l.pos[0],h=l.pos[1],k=l.pos[2],d=l.pos[3],R=!1),ve===s)o.ctx=o.ctx?o.ctx.prev:null;else if($e===s)o.ctx=new z({tabl:{},symb:null,queu:null},o.ctx);else if(be===s)o.hctx=o.hctx?o.hctx.prev:null;else if(xe===s)o.hctx=new z({tabl:{},symb:null,queu:null},o.hctx);else if(he===s)q="hash"===w.mode,_=q?"tabl":"symb",i=r[1],a=r[0],i=g(i,x,R),S&&(i=i[mt]()),a+="::"+i,f=$&&o.hctx?G(o.hctx.val[_],a,q):y&&o.ctx?G(o.ctx.val[_],a,q):G(o[_],a,q),f||($&&o.hctx?o.hctx.val[_]=B(o.hctx.val[_],a,[m,h,k,d,a,i,l.type,!!w.autocomplete,S],q):y&&o.ctx?o.ctx.val[_]=B(o.ctx.val[_],a,[m,h,k,d,a,i,l.type,!!w.autocomplete,S],q):o[_]=B(o[_],a,[m,h,k,d,a,i,l.type,!!w.autocomplete,S],q));else if(ke===s)q="hash"===w.mode,_=q?"tabl":"symb",i=r[1],a=r[0],i=g(i,x,R),S&&(i=i[mt]()),a+="::"+i,f=$&&o.hctx?G(o.hctx.val[_],a,q):y&&o.ctx?G(o.ctx.val[_],a,q):G(o[_],a,q),f&&($&&o.hctx?o.hctx.val[_]=U(f,q):y&&o.ctx?o.ctx.val[_]=U(f,q):o[_]=U(f,q));else if(de===s){if(q="hash"===w.mode,_=q?"tabl":"symb",i=r[1],a=r[0],i=g(i,x,R),S&&(i=i[mt]()),a+="::"+i,f=$&&o.hctx?G(o.hctx.val[_],a,q):y&&o.ctx?G(o.ctx.val[_],a,q):G(o[_],a,q),!f)return!1!==u&&(O.$msg=u?g(u,i,!0):'Undefined "'+i+'"',v=C(O),T(o,m,h,k,d,O,v),O.status|=ae),!1}else if(ge===s&&(q="hash"===w.mode,_=q?"tabl":"symb",i=r[1],a=r[0],i=g(i,x,R),S&&(i=i[mt]()),a+="::"+i,f=$&&o.hctx?G(o.hctx.val[_],a,q):y&&o.ctx?G(o.ctx.val[_],a,q):G(o[_],a,q)))return!1!==u&&(O.$msg=u?g(u,i,!0):'Defined "'+i+'"',v=C(O),T(o,f.val[0],f.val[1],f.val[2],f.val[3],O,v),T(o,m,h,k,d,O,v),O.status|=ae),!1;if(L)return!0;if(me===s)return!u&&Ot&e(r)&&(u=r),O.$msg=u?g(u,x,!0):'Error "'+I+'"',T(o,m,h,k,d,O,C(O)),O.status|=ae,!1;if(ye===s){if(q="hash"===w.mode,_=q?"tabl":"symb",$){if(!o.hctx)return!0;p=o.hctx.val[_]}else if(y){if(!o.ctx)return!0;p=o.ctx.val[_]}else p=o[_];if(i=r[1],a=r[0],i=g(i,x,R),S&&(i=i[mt]()),a+="::"+i,f=G(p,a,q))return!1!==u&&(O.$msg=u?g(u,i,!0):'Duplicate "'+i+'"',v=C(O),T(o,f.val[0],f.val[1],f.val[2],f.val[3],O,v),T(o,m,h,k,d,O,v),O.status|=ae),!1;$?o.hctx.val[_]=B(o.hctx.val[_],a,[m,h,k,d,a,i,l.type,!!w.autocomplete,S],q):y?o.ctx.val[_]=B(o.ctx.val[_],a,[m,h,k,d,a,i,l.type,!!w.autocomplete,S],q):o[_]=B(o[_],a,[m,h,k,d,a,i,l.type,!!w.autocomplete,S],q)}else if(qe===s){if($){if(!o.hctx)return!0;c=o.hctx.val.queu}else if(y){if(!o.ctx)return!0;c=o.ctx.val.queu}else c=o.queu;if(r){if(r=g(r,x,R),S&&(r=r[mt]()),!c||r!==c.val[0])return!1!==u&&(c?(O.$msg=u?g(u,[c.val[0],r],!0):'Mismatched "'+c.val[0]+'","'+r+'"',v=C(O),T(o,c.val[1],c.val[2],c.val[3],c.val[4],O,v),T(o,m,h,k,d,O,v),c=c.prev):(O.$msg=u?g(u,["",r],!0):'Missing matching "'+r+'"',v=C(O),T(o,m,h,k,d,O,v)),O.status|=ae),$?o.hctx&&(o.hctx.val.queu=c):y?o.ctx&&(o.ctx.val.queu=c):o.queu=c,!1;c=c?c.prev:null}else c=c?c.prev:null;$?o.hctx&&(o.hctx.val.queu=c):y?o.ctx&&(o.ctx.val.queu=c):o.queu=c}else if(we===s&&r){if($){if(!o.hctx)return!0;c=o.hctx.val.queu}else if(y){if(!o.ctx)return!0;c=o.ctx.val.queu}else c=o.queu;r=g(r,x,R),S&&(r=r[mt]()),O.$msg=u?g(u,r,!0):'Missing matching "'+r+'"',c=new z([r,m,h,k,d,C(O)],c),$?o.hctx&&(o.hctx.val.queu=c):y?o.ctx&&(o.ctx.val.queu=c):o.queu=c}return!0}function W(e,t,n,o,l){var s,r,i=e,a=i.token,u=i.modifier,c=i.type,p=i.name,f=i.except,m=n.line,h=t.pos,k=null,d=!1;if(i.status&=ce,i.$msg=l?null:i.msg||null,i.pos=t.pos,f&&!l){r=ee(n,t);for(var y=0,$=f.length;$>y;y++)if(s=f[y],
i!==s&&Fe===s.type&&W(s,t,n,o,1))return i.pos=s.pos,ee(n,t,r),!1}if(Le===c)d=0===n.line;else if(je===c)d=n.bline+1===n.line;else if(Ne===c)d=t.sol();else if(Me===c)t.spc(),t.eol()?d=p:(i.pos=t.pos,t.bck(h));else if(De===c)i.status=0,d=!0;else if(ze===c){if(null==o.space||t.eol()?t.spc()&&!t.eol()?(i.pos=t.pos,t.bck(h),i.status&ie&&(i.status|=ae)):d=!0:i.status&ie&&(i.status|=ae),i.status&=ue,!0===d)return d}else xt===a?(t.end(),d=u||p):(k=D(a,t))&&(k=k[1],d=u||p);return l?d:(!1!==d&&(o.T=c,o.id=p,o.type=d,o.str=t.sel(h,t.pos),o.match=k,o.pos=[m,h,m,t.pos]),!d&&i.status&&i.$msg&&(i.$msg=g(i.$msg,p,!0)),d)}function Q(e,t,n,o){var l,s,r,i,a,u,c,p,f,m,h,k,d,y,$,v,x,b,w,q,_,O,E=e,S=E.name,I=E.type,R=E.modifier,L=E.token,j=E.mline,M=E.inter,N=M?S+".inside":S,z=E.esc,F=!!z,P="",C="",T="",G="",B=E.$id||S,U=n.outer,H=U&&U[2],J=U&&U[1];if(E.status&=ce,E.$msg=E.msg||null,E.pos=t.pos,q=n.line,_=t.pos,Ae===I&&(E.status&=ue),$=E.status&ie,r=0,i=0,n.block&&n.block.name===S?(i=1,r=1,y=N,l=n.block.end,p=n.block.sp,m=n.block.ip,f=n.block.ep,P=n.block.s,C=n.block.i):!n.block&&(l=D(L,t))&&(i=1,y=S,x=t.pos,p=[q,_],m=[[q,x],[q,x]],f=[q,x],P=t.sel(_,x),C="",G="",n.block={name:S,end:l,sp:p,ip:m,ep:f,s:P,i:C,e:G}),i){if(w=n.stack,s=xt===l.ptype,v=s||E.empty,M){if(s&&r&&t.sol())return E.status&=ue,n.block=null,!1;if(!r)return x=t.pos,o.T=I,o.id=S,o.type=R||y,o.str=t.sel(_,x),o.match=null,o.pos=[q,_,q,x],Y(n,w,A(E,$,0,B)),R||y}if(x=t.pos,a=J?s&&t.eol():D(l,t),c=j,u=0,a)y=s?N:S,G=t.sel(x,t.pos);else if(b=t.pos,k=!1,J||F||St!==l.ptype&&Et!==l.ptype&&Ot!==l.ptype){for(;!t.eol();){if(J){if(K(J,t,H,o)){if(t.pos>b){s&&(a=1);break}return!0}if(s){d=t.nxt(1),T+=d;continue}}if(x=t.pos,!k&&D(l,t)){M&&t.pos>x&&x>b?(y=N,t.bck(x),u=1):(y=S,a=1),G=t.sel(x,t.pos);break}d=t.nxt(1),T+=d,k=F&&!k&&z===d,x=t.pos}s&&t.eol()&&(a=1)}else(O=D(l,t,!0,!0))?M&&t.pos>x+O[1].length?(y=N,t.mov(-O[1].length),u=1,T=t.sel(x,t.pos)):(y=S,a=1,T=t.sel(x,t.pos-O[1].length),G=O[1]):(t.end(),y=N,u=1,T=t.sel(x,t.pos));return c=j||F&&k,C+=T,m[1]=[q,x],f=[q,t.pos],a&&!v&&m[0][0]===m[1][0]&&m[0][1]===m[1][1]?(n.block=null,!1):(a||!c&&!u?n.block=null:(n.block.ip=m,n.block.ep=f,n.block.i=C,n.block.e=G,Y(n,w,A(E,$,0,B))),o.T=I,o.id=S,o.type=R||y,o.str=t.sel(_,t.pos),o.match=null,o.pos=[q,_,f[0],f[1]],E.pos=t.pos,n.block||(h=P+C+G,o.block={str:h,match:[h,C,P,G],part:[h,P,C,G],pos:[[p[0],p[1],f[0],f[1]],[p[0],p[1],m[0][0],m[0][1]],[m[0][0],m[0][1],m[1][0],m[1][1]],[m[1][0],m[1][1],f[0],f[1]]]}),R||y)}return E.status&&E.$msg&&(E.$msg=g(E.$msg,S,!0)),!1}function X(e,t,n,o){var l,s,r,i,a,u,p,f,m,h,k,d,g,y,$,v=e,x=v.type,b=(v.name,v.token),w=b.length,q=v.modifier;if(v.status&=ce,v.$msg=v.msg||null,f=t.pos,m=n.stack,v.pos=t.pos,u=0,p=0,We===x){v.status&=ce;var _=new String(b[0]),O=n.stack?n.stack.val:null;return _.subgrammar=1,_.next=O?new F(Je,O.name,[O]):null,_.required=O?O.status&ie:0,_}if(Ce===x){for(g=c(),v.status|=ie,d=[],$=ee(n,t),k=0,h=k;w>h;h++){if(l=A(b[h],1,q,g),s=K(l,t,n,o),v.pos=l.pos,l.status&ie&&(u++,d.push(C(l))),!1!==s)return s;l.status&ae&&(p++,ee(n,t,$))}return u>0?v.status|=ie:v.status&=ue,w===p&&u>0?v.status|=ae:v.status&=ce,v.status&&!v.$msg&&d.length&&(v.$msg=d.join(" | ")),!1}if(Qe&x){y=!!(x&Te),g=v.$id||c(),y?v.status|=ie:v.status&=ue,$=ee(n,t),k=0;do l=A(b[k++],y,q,g),s=K(l,t,n,o);while(w>k&&(!0===s&&He&l.type||!1===s&&!(l.status&ie)));if(v.pos=l.pos,!1!==s){if(!0!==s||De!==l.type)for(h=w-1;h>=k;h--)m=Y(n,m,A(b[h],1,q,g));return s.subgrammar&&w>k&&(s.next=new F(Je,b[k].name,[b[k]]),s.required=b[k].status&ie),s}return l.status&ae?(y?v.status|=ae:v.status&=ce,ee(n,t,$)):y&&l.status&ie&&(v.status|=ae),v.status&&!v.$msg&&(v.$msg=C(l)),!1}if(He&x)return We&b[0].type?!0:($=ee(n,t,null,!1),s=K(A(b[0],0),t,n,o),ee(n,t,$),Ke===x?!1===s:!1!==s);for(g=v.$id||c(),r=v.found,i=v.min,a=v.max,v.status=0,d=[],$=ee(n,t),h=0;w>h;h++){if(l=A(b[h],1,q,g),s=K(l,t,n,o),v.pos=l.pos,!1!==s){if(++r,a>=r)return v.found=r,Y(n,m,A(v,0,0,c())),v.found=0,s;break}l.status&ie&&(u++,d.push(C(l))),l.status&ae&&ee(n,t,$)}return i>r&&(v.status|=ie),(r>a||i>r&&u>0)&&(v.status|=ae),v.status&&!v.$msg&&d.length&&(v.$msg=d.join(" | ")),!1}function Z(e,t){var n=this;n.id=e?p("state"):"state",t instanceof Z?(n.line=t.line,n.bline=t.bline,n.status=t.status,n.stack=H(t.stack,!1),n.token=t.token,n.token2=t.token2,n.block=t.block,n.outer=t.outer?[t.outer[0],t.outer[1],new Z(e,t.outer[2])]:null,n.queu=t.queu||null,n.symb=t.symb||null,n.tabl=t.tabl||null,n.ctx=t.ctx?new z({tabl:t.ctx.val.tabl,symb:t.ctx.val.symb,queu:t.ctx.val.queu},t.ctx.prev):null,n.hctx=t.hctx?new z({tabl:t.hctx.val.tabl,symb:t.hctx.val.symb,queu:t.hctx.val.queu},t.hctx.prev):null,n.err=t.err||null,n.$eol$=t.$eol$,n.$blank$=t.$blank$):(n.line=-1,n.bline=-1,n.status=t||0,n.stack=null,n.token=null,n.token2=null,n.block=null,n.outer=null,n.queu=null,n.symb=null,n.tabl={},n.ctx=null,n.hctx=null,n.err=n.status&se?{}:null,n.$eol$=!0,n.$blank$=!0)}function ee(e,t,n,o){return n?(e.status=n[0],e.block=n[1],e.outer=n[2],e.stack=n[3],t&&t.pos>n[4]&&t.bck(n[4]),void 0):(n=[e.status,e.block,e.outer,e.stack,t?t.pos:1/0],!1===o&&(e.status=0),n)}function te(e){e.id=null,e.line=null,e.bline=null,e.status=null,e.stack=null,e.token=null,e.token2=null,e.block=null,e.outer=null,e.queu=null,e.symb=null,e.tabl=null,e.ctx=null,e.hctx=null,e.err=null}function ne(e,t,n){var o=new String(e);return o.start=t||0,o.pos=n||0,o.sol=function(){return 0===o.pos},o.eol=function(){return o.pos>=o.length},o.end=function(){return o.pos=o.length,o},o.mov=function(e){return o.pos=0>e?pt(0,o.pos+e):ft(o.length,o.pos+e),o},o.bck=function(e){return o.pos=pt(0,e),o},o.sft=function(){return o.start=o.pos,o},o.nxt=function(e,t){var n,l,s="";if(!0===e){for(t=t||ne.$NONSPC$;o.pos<o.length&&t.test(n=o[ht](o.pos++));)s+=n;return s.length?s:null}for(e=e||1,l=0;l++<e&&o.pos<o.length;)s+=o[ht](o.pos++);return s},o.cur=function(e){var t=o.slice(o.start,o.pos);return e&&(o.start=o.pos),t},o.sel=function(e,t){return o.slice(e,t)},o.spc=function(e,t){var n;return(n=o.slice(o.pos).match(t||ne.$SPC$))?(!1!==e&&o.mov(n[0].length),n[0]):void 0},o}function oe(e,t){var n=function o(e){var t={Mode:o,compiled:!0,aliases:o.aliases||null,case_insensitive:!1,relevance:0,contains:[],parent:null,keywords:null,className:null,$tokens:null,$token:null,beginRe:null,endRe:null,lexemesRe:null,terminators:null,submode:function(e,t){o.submode(e,t.Mode)}},n={lastIndex:0,exec:function(e){var n=null;return t.$token&&(n=[t.$token.token],n.index=0,this.lastIndex=n[0].length),n}},l={lastIndex:0,exec:function(e){var n=null;return t.$token&&!t.$token.ret&&(n=[t.$token.token],n.index=0,this.lastIndex=n[0].length,t.$token.ret=1),n}},s={_str:null,lastIndex:0,exec:function(e){var n=null,o=this;return e!==o._str?(o._str=e,o.lastIndex=o.lastIndex||0,t.$tokens=t.Mode.$parser.parse(e,le|se|re).tokens,t.$token=t.$tokens.shift(),t.$token.ret=0,t.parent=t,null===t.$token.type?t.keywords=null:(t.keywords={},t.keywords[t.$token.token]=[t.$token.type,1]),n=[t.$token.token],n.index=o.lastIndex,o.lastIndex+=n[0].length):t.$tokens&&t.$tokens.length?(o.lastIndex=o.lastIndex||0,t.$token=t.$tokens.shift(),t.$token.ret=0,t.parent=t,null===t.$token.type?t.keywords=null:(t.keywords={},t.keywords[t.$token.token]=[t.$token.type,1]),n=[t.$token.token],n.index=o.lastIndex,o.lastIndex+=n[0].length):(o._str=null,o.lastIndex=0,t.$tokens=null,t.$token=null,t.parent=null,t.keywords=null),n}};return t.beginRe=n,t.endRe=n,t.lexemesRe=l,t.terminators=s,t};return n.$id=p("highlightjs_grammar_mode"),n.$parser=new Xt.Parser(M(e)),n.submode=function(e,t){n.$parser.subparser(e,t.$parser)},n.dispose=function(){n.$parser&&n.$parser.dispose(),n.$parser=null},n.aliases=null,n}var le=1,se=2,re=32,ie=4,ae=8,ue=~ie,ce=~ae,pe=ie|ae,fe=0,me=4,he=8,ke=9,de=10,ge=11,ye=12,$e=16,ve=17,xe=18,be=19,we=32,qe=33,_e=128,Oe=129,Ee=2,Se=4,Ie=8,Re=4,Le=8,je=9,Me=16,Ne=32,De=128,ze=256,Fe=512,Pe=1024,Ae=1025,Ce=2048,Te=4096,Ge=8192,Be=8193,Ue=8194,Ye=8195,He=16384,Je=He,Ke=16385,Ve=32768,We=65536,Qe=Te|Ve,Xe=Ce|Te|Ge|He|Ve|We,Ze={action:Re,simple:Fe,block:Pe,comment:Ae,subgrammar:We,alternation:Ce,sequence:Te,repeat:Ge,zeroorone:Be,zeroormore:Ue,oneormore:Ye,positivelookahead:Je,negativelookahead:Ke,ngram:Ve},et="$|SOF|$",tt="$|NONBLANK|$",nt="$|SOL|$",ot="$|EOL|$",lt="$|ENDLINE|$",st="$|EMPTY|$",rt="$|NONSPACE|$",it=void 0,at="prototype",ut=Object[at],ct=Object.create,pt=Math.max,ft=Math.min,mt="toLowerCase",ht="charAt",kt=ut.toString,dt=ut.hasOwnProperty,gt=ut.propertyIsEnumerable,yt=1/0,$t=4,vt=8,xt=16,bt=32,wt=33,qt=34,_t=64,Ot=128,Et=129,St=130,It=256,Rt=512,Lt=1024,jt=2048,Mt=4096,Nt=Ot|bt,Dt=Ot|It,zt=jt|It,Ft=Ot|It|jt,Pt={"[object Number]":bt,"[object String]":Ot,"[object Array]":It,"[object RegExp]":jt,"[object Date]":Mt,"[object Function]":Lt,"[object Object]":Rt},At=/^\s+|\s+$/g,Ct=String[at].trim?function(e){return e.trim()}:function(e){return e.replace(At,"")},Tt=function(e,t){return t.length-e.length},Gt=/\r\n|\r|\n/g,Bt=/[\-_]/g,Ut=0,Yt=/([.*+?^${}()|[\]\/\\\-])/g,Ht=/^([.!&\[\]{}()*+?\/|'"]|\s)/,Jt="(\\s|\\W|$)",Kt=/(l?i?l?)x(l?i?l?)$/,Vt=/[*+]$/;Z.prototype.toString=function(){var e=this;return e.id+"_"+e.line+"_"+e.bline+"_"+(e.block?e.block.name:"0")},ne.$SPC$=/^[\s\u00a0]+/,ne.$NONSPC$=/[^\s\u00a0]/,ne.$NOTEMPTY$=/\S/,ne.$SPACE$=/^\s*/;var Wt=m({constructor:function(e,t,n){var o=this;o.$grammar=e,o.$DEF=t||null,o.$ERR=n||null,o.DEF=o.$DEF,o.ERR=o.$ERR,o.$folders=[],o.$matchers=[],o.$subgrammars={}},$grammar:null,$subgrammars:null,$folders:null,$matchers:null,$n$:"name",$t$:"type",$v$:"token",$DEF:null,$ERR:null,DEF:null,ERR:null,dispose:function(){var e=this;return e.$grammar=e.$subgrammars=null,e.$folders=e.$matchers=null,e.$n$=e.$t$=e.$v$=null,e.$DEF=e.$ERR=e.DEF=e.ERR=null,e},token:function(e,t,n){if(t.token2){var o=t.token2[0];return e.pos=t.token2[1],e.sft(),t.token=t.token2[3],t.$eol$=e.eol(),t.$blank$=t.$blank$&&(t.token2[2]||t.$eol$),t.token2=null,o}var l,s,r,i,a,u,c,p,f,m,h,k,d,g,y,$,v,x,b=this,w=b.$grammar,q=w.Style,_=b.DEF,O=b.ERR,o={},E=b.$n$,S=b.$t$,I=b.$v$,R=w.$interleaved,L=w.$parser,j=L.length,M=R?R.length:0,N=t.outer,D=N&&N[2],z=N&&N[1];if(e.sol()&&(t.$eol$&&(t.$blank$&&(t.bline=t.line),t.$eol$=!1,t.line++),t.$blank$=t.bline+1===t.line),t.$actionerr$=!1,t.token=null,i=t.line,a=e.pos,m=!1,k=!0,h=!1,d=!1,N&&b===N[0]){if(o[E]=null,o[S]=_,o[I]=null,z){if(r=new P,K(z,e,D,r))return t.outer=null,{parser:b,state:D};for(e.nxt(1);!e.eol();){if(K(z,e,D,r)){if(e.pos>a)break;return t.outer=null,{parser:b,state:D}}e.nxt(1)}}else e.spc(),e.eol()?d=!0:e.end();return o[I]=e.cur(1),t.$eol$=e.eol(),t.$blank$=t.$blank$&&(d||t.$eol$),o}if(t.stack&&Me===t.stack.val.type&&e.sol()&&(t.stack=t.stack.prev),(!t.stack||null==t.block)&&e.spc()){if(t.stack&&We===t.stack.val.type)return e.bck(a),l=t.stack.val,t.stack=t.stack.prev,m=K(l,e,t,r),g=""+m,b.$subgrammars[g]?(y=b.$subgrammars[g],$=new Z(1,n[g]?n[g]:t.status),D=t):(y=b,$=new Z,D=t),$.outer=[b,m.next,D],{parser:y,state:$,toInner:g};k=!0,d=!0}if(o[E]=null,o[S]=_,o[I]=null,k)for(r=new P,d&&(r.space=[a,e.pos],e.sft()),u=0;k&&(t.stack||j>u)&&!e.eol();){if(p=e.pos,f=t.stack,z){if(e.spc(),K(z,e,D,r))return r.space||e.pos>p?(r.space&&(e.start=r.space[0],e.pos=r.space[1]),o[I]=e.cur(1),t.$eol$=e.eol(),t.$blank$=t.$blank$&&!0,o):(t.outer=null,{parser:N[0],state:D,fromInner:t});e.bck(p)}if(v=!1,M&&!t.block)for(c=0;M>c;c++)if(l=R[c],m=K(l,e,t,r),!1!==m){v=!0;break}if(k&&!v){if(!t.stack&&u>=j)break;t.stack?(l=t.stack.val,t.stack=t.stack.prev):l=L[u++],m=K(l,e,t,r)}if(!1===m){if(l.status&pe){t.token=l,d=J(t,e,r,l)||d,h=!0,k=!1;break}}else{if(m.subgrammar)return g=""+m,b.$subgrammars[g]?(y=b.$subgrammars[g],$=new Z(1,n[g]?n[g]:t.status),D=t):(y=b,$=new Z,D=t),$.outer=[b,m.next,D],r.space?(t.token2=[{parser:y,state:$,toInner:g},e.pos,d,t.token],t.token=null,e.start=r.space[0],e.pos=r.space[1],o[I]=e.cur(1),t.$eol$=e.eol(),t.$blank$=t.$blank$&&!0,o):{parser:y,state:$,toInner:g};if(t.stack&&t.stack.prev&&e.eol()&&Pe&t.stack.val.type&&t.block&&t.block.name===t.stack.val.name)for(c=t.stack.prev;c&&Re===c.val.type;)s=c,c=c.prev,x=V(s,e,t,r),s.status&ae?t.$actionerr$=!0:x&&!0!==m&&s.modifier&&(m=s.modifier);else if(t.stack&&Re===t.stack.val.type)for(;t.stack&&Re===t.stack.val.type;)s=t.stack.val,t.stack=t.stack.prev,x=V(s,e,t,r),s.status&ae?t.$actionerr$=!0:x&&!0!==m&&s.modifier&&(m=s.modifier);if(!0!==m){k=!1;break}}}return k&&(r.space?(e.start=r.space[0],e.pos=r.space[1],m=!1,r.space=null):e.nxt(1)),o[I]=e.cur(1),!1!==m?(m=m?q[m]||_:_,o[E]=l?l.name:null):h?(m=O,t.status&se&&T(t,i,a,i,e.pos,l)):m=_,o[S]=m,r.space&&(t.token2=[o,e.pos,d,t.token],t.token=null,e.start=r.space[0],e.pos=r.space[1],o={},o[E]=null,o[S]=_,o[I]=e.cur(1),d=!0),t.$eol$=e.eol(),t.$blank$=t.$blank$&&(d||t.$eol$),o},get:function(e,t){for(var n=t.parser.token(e,t.state,t.inner);n&&n.parser;)n.fromInner&&t.parser!==n.parser&&(t.state.err=n.fromInner.err,t.name&&(t.inner[t.name]=n.fromInner)),n.state.err=t.state.err,n.state.line=t.state.line,n.state.bline=t.state.bline,n.state.$blank$=t.state.$blank$,n.state.$eol$=t.state.$eol$,n.state.$full_parse$=t.state.$full_parse$,t.state=n.state,t.parser=n.parser,t.name=n.toInner,n=t.parser.get(e,t);return n},tokenize:function(e,t,n,o){if(o=o||[],e.eol())t.state.line++,t.state.$blank$&&t.state.bline++;else for(;!e.eol();)o.push(t.parser.get(e,t));return o},parse:function(e,t){var n,l,s,r,i,a,u=(e||"").split(Gt),c=u.length,p=null;if(t=t||le,s=!!(t&se),r=!!(t&le),l={parser:this,state:new Z(0,t),inner:{}},l.state.$full_parse$=!0,o(function(e){u[e]+="\n"},0,c-2),r?p=o(t&re?function(e,t){l.parser.tokenize(ne(u[e]),l,e,t)}:function(e,t){t.push(l.parser.tokenize(ne(u[e]),l,e))},0,c-1,[]):o(function(e){var t=ne(u[e]);if(t.eol())l.state.line++,l.state.$blank$&&l.state.bline++;else for(;!t.eol();)l.parser.get(t,l)},0,c-1),n=l.state,s&&n.queu)for(;n.queu;)i=n.queu.val,n.queu=n.queu.prev,T(n,i[1],i[2],i[3],i[4],null,i[5]);return a=r&&s?{tokens:p,errors:n.err}:r?p:n.err,te(n),l=n=null,a},autocompletion:function(e,t,n){var o,l,s=e.stack,r={},i=E([e.token],[],r,n);for(t=t||0;s;){if(o=s.val,l=o.type,Ge&l){if(i=E([o],i,r,n),0<o.min&&t<i.length)break}else if((Fe===l||Ce===l||Qe&l)&&(i=E([o],i,r,n),t<i.length))break;s=s.prev}return n&&n.length?n.concat(i):i},dynamic_autocompletion:function(e){return e?O(e)||null:null},subparser:function(e,t){var n=this;return!1===t?dt.call(n.$subgrammars,e)&&delete n.$subgrammars[e]:t&&(n.$subgrammars[e]=t),n},iterator:function(){},validate:function(){},autocomplete:function(){},indent:function(){},fold:function(){},match:function(){}}),Qt=m(Wt,{constructor:function(e,t){var n=this;Wt.call(n,e,null,null),n.DEF=t||n.$DEF,n.ERR=n.$ERR},tokenize:function(e,n,o,l){var s,r=this,i=[],a=null,u=Array.prototype.push,c=function(e){return e.type=r.$DEF,e};if(l=l||[],e.eol())n.state.line++,n.state.$blank$&&n.state.bline++;else for(;!e.eol();)s=n.parser.get(e,n),n.state.$actionerr$?(i.length&&u.apply(l,t(i,c)),s.type=r.$DEF,l.push(s),i.length=0,a=null):(a!==s.name&&(i.length&&u.apply(l,i),i.length=0,a=s.name),i.push(s));return i.length&&u.apply(l,i),i.length=0,a=null,l}}),Xt={VERSION:"4.2.1",clone:l,extend:s,pre_process:j,parse:M,getMode:oe,Parser:Qt};return Xt});