/**
*  Serialiser.js
*  Parse and serialise complex form fields into an object model
*
*  @dependencies: jQuery
*  @version: 0.1.0
*  https://github.com/foo123/serialiser.js
*
**/
!function(t,e,n){"use strict";"object"==typeof exports?module.exports=n():"function"==typeof define&&define.amd?define(function(){return n()}):t[e]=n()}(this,"Serialiser",function(t){"use strict";function e(t){if(t){var e=g("^"+p(t)+"([\\.|\\[])");return function(t){return t.replace(e,"$1")}}return function(t){return t}}function n(t){return"function"==typeof t?t:function(e){return e.attr(t)}}function r(e,n){return"function"==typeof e?e:!1!==n?function(n){var r=("value"===e?n.val():n.attr(e))||"",u=(n.attr("type")||n[0].tagName||"").toLowerCase();return("checkbox"===u||"radio"===u)&&!n[0].checked||"select"===u&&-1===n[0].selectedIndex||("text"===u||"textarea"===u)&&!d(r).length?t:r}:function(n){var r=("value"===e?n.val():n.attr(e))||"",u=(n.attr("type")||n[0].tagName).toLowerCase();return"checkbox"!==u&&"radio"!==u||n[0].checked?r:t}}function u(t,e,u,f,l){return e=e||{},u=n(u||"name"),f=r(f||"value"),arguments.length<5&&(l=!1),t.each(function(){var t,n,r,s,p,g,h=a(this),v=l?!!h.attr(l):!1;if(t=u(h),t&&(n=f(h),null!=n))for(r=y(t).split("."),p=e,v&&(n=n?c(n):null);r.length;)s=r.shift(),r.length?(p[o](s)?i.test(r[0])&&p[s].length<=(g=parseInt(r[0],10))&&(p[s]=p[s].concat(new Array(g-p[s].length+1))):d(r[0]).length?i.test(r[0])?(g=parseInt(r[0],10),p[s]=new Array(g+1)):p[s]={}:p[s]=[],p=p[s]):d(s).length?p[s]=n:p.push(n)}),e}var a=jQuery,o="hasOwnProperty",c=JSON.parse,i=/^\d+$/,f=/\[([^\]]*)\]/g,l=/^\.+/g,s=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,p=function(t){return t.replace(s,"\\$&")},g=function(t,e){return new RegExp(t,e||"")},h=/^\s+|\s+$/g,d=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(h,"")},y=function(t){return t.replace(f,".$1").replace(l,"")};return{VERSION:"0.1.0",prefixed:e,getKey:n,getValue:r,toModel:u}});