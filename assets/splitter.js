/*
 * jQuery.splitter.js - two-pane splitter window plugin
 *
 * version 1.51 (2009/01/09) 
 * 
 * Dual licensed under the MIT and GPL licenses: 
 *   http://www.opensource.org/licenses/mit-license.php 
 *   http://www.gnu.org/licenses/gpl.html 
 */
!function(e){e.fn.splitter=function(i){return i=i||{},this.each(function(){function t(i){d.outline&&(a=a||m.clone(!1).insertAfter(u)),p.css("-webkit-user-select","none"),m.addClass(d.activeClass),u._posSplit=u[0][d.pxSplit]-i[d.eventPos],e(document).bind("mousemove",s).bind("mouseup",o)}function s(e){var i=u._posSplit+e[d.eventPos];d.outline?(i=Math.max(0,Math.min(i,l._DA-m._DA)),m.css(d.origin,i)):n(i)}function o(i){m.removeClass(d.activeClass);var t=u._posSplit+i[d.eventPos];d.outline&&(a.remove(),a=null,n(t)),p.css("-webkit-user-select","text"),e(document).unbind("mousemove",s).unbind("mouseup",o)}function n(i){i=Math.max(u._min,l._DA-h._max,Math.min(i,u._max,l._DA-m._DA-h._min)),m._DA=m[0][d.pxSplit],m.css(d.origin,i).css(d.fixed,l._DF),u.css(d.origin,0).css(d.split,i).css(d.fixed,l._DF),h.css(d.origin,i+m._DA).css(d.split,l._DA-m._DA-i).css(d.fixed,l._DF),e.browser.msie||p.trigger("resize")}function r(e){for(var i=0,t=1;t<arguments.length;t++)i+=Math.max(parseInt(e.css(arguments[t]))||0,0);return i}var a,c=(i.splitHorizontal?"h":i.splitVertical?"v":i.type)||"v",d=e.extend({activeClass:"active",pxPerKey:8,tabIndex:0,accessKey:""},{v:{keyLeft:39,keyRight:37,cursor:"e-resize",splitbarClass:"vsplitbar",outlineClass:"voutline",type:"v",eventPos:"pageX",origin:"left",split:"width",pxSplit:"offsetWidth",side1:"Left",side2:"Right",fixed:"height",pxFixed:"offsetHeight",side3:"Top",side4:"Bottom"},h:{keyTop:40,keyBottom:38,cursor:"n-resize",splitbarClass:"hsplitbar",outlineClass:"houtline",type:"h",eventPos:"pageY",origin:"top",split:"height",pxSplit:"offsetHeight",side1:"Top",side2:"Bottom",fixed:"width",pxFixed:"offsetWidth",side3:"Left",side4:"Right"}}[c],i),l=e(this).css({position:"relative"}),p=e(">*",l[0]).css({position:"absolute","z-index":"1","-moz-outline-style":"none"}),u=e(p[0]),h=e(p[1]),_=e('<a href="javascript:void(0)"></a>').attr({accessKey:d.accessKey,tabIndex:d.tabIndex,title:d.splitbarClass}).bind(e.browser.opera?"click":"focus",function(){this.focus(),m.addClass(d.activeClass)}).bind("keydown",function(e){var i=e.which||e.keyCode,t=i==d["key"+d.side1]?1:i==d["key"+d.side2]?-1:0;t&&n(u[0][d.pxSplit]+t*d.pxPerKey,!1)}).bind("blur",function(){m.removeClass(d.activeClass)}),m=e(p[2]||"<div></div>").insertAfter(u).css("z-index","100").append(_).attr({"class":d.splitbarClass,unselectable:"on"}).css({position:"absolute","user-select":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none"}).bind("mousedown",t);/^(auto|default|)$/.test(m.css("cursor"))&&m.css("cursor",d.cursor),m._DA=m[0][d.pxSplit],l._PBF=e.boxModel?r(l,"border"+d.side3+"Width","border"+d.side4+"Width"):0,l._PBA=e.boxModel?r(l,"border"+d.side1+"Width","border"+d.side2+"Width"):0,u._pane=d.side1,h._pane=d.side2,e.each([u,h],function(){this._min=d["min"+this._pane]||r(this,"min-"+d.split),this._max=d["max"+this._pane]||r(this,"max-"+d.split)||9999,this._init=d["size"+this._pane]===!0?parseInt(e.curCSS(this[0],d.split)):d["size"+this._pane]});var x=u._init;if(isNaN(h._init)||(x=l[0][d.pxSplit]-l._PBA-h._init-m._DA),d.cookie){e.cookie||alert("jQuery.splitter(): jQuery cookie plugin required");var f=parseInt(e.cookie(d.cookie));isNaN(f)||(x=f),e(window).bind("unload",function(){var i=String(m.css(d.origin));e.cookie(d.cookie,i,{expires:d.cookieExpires||365,path:d.cookiePath||document.location.pathname})})}isNaN(x)&&(x=Math.round((l[0][d.pxSplit]-l._PBA-m._DA)/2)),d.anchorToWindow?(l._hadjust=r(l,"borderTopWidth","borderBottomWidth","marginBottom"),l._hmin=Math.max(r(l,"minHeight"),20),e(window).bind("resize",function(){var i=l.offset().top,t=e(window).height();l.css("height",Math.max(t-i-l._hadjust,l._hmin)+"px"),e.browser.msie||l.trigger("resize")}).trigger("resize")):d.resizeToWidth&&!e.browser.msie&&e(window).bind("resize",function(){l.trigger("resize")}),l.bind("resize",function(e,i){e.target==this&&(l._DF=l[0][d.pxFixed]-l._PBF,l._DA=l[0][d.pxSplit]-l._PBA,l._DF<=0||l._DA<=0||n(isNaN(i)?d.sizeRight||d.sizeBottom?l._DA-h[0][d.pxSplit]-m._DA:u[0][d.pxSplit]:i))}).trigger("resize",[x])})}}(jQuery);