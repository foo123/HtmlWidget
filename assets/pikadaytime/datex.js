/**
*
*   DateX
*   eXtended and localised Date parsing, diffing, formatting and validation for Node/JS, Python, PHP
*   @version: 0.2.2
*
*   https://github.com/foo123/DateX
*
**/
!function(t,e,n){"use strict";var r;"undefined"!=typeof Components&&"object"==typeof Components.classes&&"object"==typeof Components.classesByID&&Components.utils&&"function"==typeof Components.utils["import"]?(t.EXPORTED_SYMBOLS=[e])&&(t[e]=n.call(t)):"object"==typeof module&&module.exports?module.exports=n.call(t):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(e)?define(e,["require","exports","module"],function(){return n.call(t)}):e in t||(t[e]=r=n.call(t))&&"function"==typeof define&&define.amd&&define(function(){return r})}(this,"DateX",function(){"use strict";function t(t){return t.replace(w,"\\$&")}function e(t,e){return e.length-t.length}function n(n){return n.sort(e).map(t).join("|")}function r(t,e,n){var r=t.toString(),i=e-r.length;return i>0?new Array(i+1).join(n||" ")+r:r}function u(e,n){n=n||D;var r,i,u,o="",a={};for(i=0,u=e.length;u>i;i++)r=e.charAt(i),o+=b[y](r)?b[r](n,a):t(r);return new RegExp("^"+o+"$","")}function o(t,e){e=e||D;var n,r,i,o,a=u(t,e),f=0,c={};for(r=0,i=t.length;i>r;r++)if(n=t.charAt(r),k[y](n))if(k[n])if(k[n].push)for(o=0;o<k[n].length;o++)null===k[n][o]?++f:c[++f]=k[n][o];else c[++f]=k[n];else++f;return function(t){var n,r,i,u=t.match(a);if(!u)return!1;for(i={},n=1;n<u.length;n++)if(c[y](n)&&(r=c[n](u[n],e,i),!1===r))return!1;return s(i)}}function a(t,e,n){var r,i,u,o,a,s;if(t.substr)return t;for(null==t?a=new v:t instanceof v?a=new v(t):"number"==typeof t&&(a=new v(1e3*t)),n=n||D,r="",s={},u=0,o=e.length;o>u;u++)i=e.charAt(u),r+=W[y](i)?W[i](a,n,s):i;return r}function s(t,e){var n,r,i,u,o,a,s,f=0,c=[31,28,31,30,31,30,31,31,30,31,30,31],d=null,l=null,h=new v;if(e=e||{},t[y]("time")&&(l=new v(t.time),t[y]("year")||t[y]("month")||t[y]("day")||(d=new v(l))),null==d){if(s=t[y]("ms")?t.ms:e[y]("ms")?e.ms:0,a=t[y]("second")?t.second:e[y]("second")?e.second:0,o=t[y]("minute")?t.minute:e[y]("minute")?e.minute:0,u=t[y]("hour")?t.hour:t[y]("hour_12")?"pm"===t.meridian?11+t.hour_12:t.hour_12-1:e[y]("hour")?e.hour:"pm"===t.meridian?12:0,i=t[y]("day")?t.day:e[y]("day")?e.day:h.getDate(),r=t[y]("month")?t.month:e[y]("month")?e.month:h.getMonth()+1,n=t[y]("year")?t.year:e[y]("year")?e.year:h.getFullYear(),0>s||s>999)return!1;if(0>a||a>59)return!1;if(0>o||o>59)return!1;if(0>u||u>23)return!1;if(1>n||n>32767)return!1;if(f=n%4===0&n%100!==0|n%400===0,t[y]("leap")&&f!==t.leap)return!1;if(c[1]+=f,1>r||r>12)return!1;if(1>i||i>c[r-1])return!1;if(d=new v(n,r-1,i,u,o,a,s),t[y]("day_week")&&t.day_week!==d.getDay())return!1;if(t[y]("day_year")&&t.day_year!==M((new v(n,r-1,i)-new v(n,0,1))/864e5))return!1;if(t[y]("days_month")&&t.days_month!==c[r-1])return!1;if(t[y]("meridian")&&(u>11&&"am"===t.meridian||11>=u&&"pm"===t.meridian))return!1;if(null!=l&&d.getTime()!==l.getTime())return!1}return d}function f(t){return t.replace(x,function(t,e){return z[y](e)?z[e]:t})}function c(t,e){var n,r={sign:1,years:0,months:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0};return e.getTime()>t.getTime()&&(r.sign=-1,n=e,e=t,t=n),r.years=t.getFullYear()-e.getFullYear(),r.months=t.getMonth()-e.getMonth(),r.days=t.getDate()-e.getDate(),r.hours=t.getHours()-e.getHours(),r.minutes=t.getMinutes()-e.getMinutes(),r.seconds=t.getSeconds()-e.getSeconds(),r.milliseconds=t.getMilliseconds()-e.getMilliseconds(),r}function d(t,e,n){var r,i,u,o=1,a=[];return n=n||1,t.getTime()<e.getTime()&&(o=-1,r=e,e=t,t=r),u=0,i=t.getFullYear()-e.getFullYear(),i>0&&a.push([i,"years"]),i=t.getMonth()-e.getMonth(),i>0?a.push([i,"months"]):0>i&&(u=i*C),i=t.getDate()-e.getDate()+u,i>0?(a.push([M(i),"days"]),u=0):0>i&&(u=i*S),i=t.getHours()-e.getHours()+u,i>0?(a.push([M(i),"hours"]),u=0):0>i&&(u=i*O),i=t.getMinutes()-e.getMinutes()+u,i>0?(a.push([M(i),"minutes"]),u=0):0>i&&(u=i*F),i=t.getSeconds()-e.getSeconds()+u,i>0&&(a.push([M(i),"seconds"]),u=0),a.length||a.push[[0,"seconds"]],a.length>n&&(a=a.slice(0,n)),{rel:a,sign:o}}function l(t,e,n){var r,i,u=!0===n?t:new g(t),o=[31,28,31,30,31,30,31,31,30,31,30,31],a=28,s=(t.getTimezoneOffset(),e[y]("sign")&&e.sign<0?-1:1),f=t.getFullYear(),c=t.getMonth(),d=t.getDate(),l=t.getHours(),h=t.getMinutes(),m=t.getSeconds(),M=t.getMilliseconds();for(e[y]("years")&&(f+=s*e.years),e[y]("months")&&(c+=s*e.months,0>c&&(r=p(-c/Y),f-=r,c+=r*Y),c>=Y&&(r=T(c/Y),f+=r,c-=r*Y)),0>=f&&(f=1),i=f%4===0&f%100!==0|f%400===0,o[1]=a+i,d>o[c]&&(d=o[c]),e[y]("days")&&(d+=s*e.days),e[y]("milliseconds")&&(M+=s*e.milliseconds,0>M&&(r=p(-M/U),m-=r,M+=r*U),M>=U&&(r=p(M/U),m+=r,M-=r*U)),e[y]("seconds")&&(m+=s*e.seconds,0>m&&(r=p(-m/F),h-=r,m+=r*F),m>=F&&(r=T(m/F),h+=r,m-=r*F)),e[y]("minutes")&&(h+=s*e.minutes,0>h&&(r=p(-h/O),l-=r,h+=r*O),h>=O&&(r=T(h/O),l+=r,h-=r*O)),e[y]("hours")&&(l+=s*e.hours,0>l&&(r=p(-l/S),d-=r,l+=r*S),l>=S&&(r=T(l/S),d+=r,l-=r*S));0>=d||d>o[c];)0>=d?d+=o[--c]:d-=o[c++];return u.setDateObject(new v(f,c,d,l,h,m,M)),u}function h(t,e,n){n||(n="days"),n=n.toLowerCase();var r=t.getTime()-e.getTime(),i=$(r)/P[n];return 0>r?-i:i}function m(t,e,n,r){n||(n="days"),n=n.toLowerCase();var i=!0===r?t:new g(t),u=t.getTime()+e*P[n];return i.setTime(0>u?0:u),i}function g(t,e,n,r,i,u,o){var a=this,s=arguments.length;a.$date=s?t instanceof g?new v(t.$date):1===s?new v(t):new v(t,e,n||1,r||0,i||0,u||0,o||0):new v,a.$locale=g.defaultLocale,a.$format=g.defaultFormat}var y="hasOwnProperty",T=Math.floor,p=Math.ceil,M=Math.round,$=Math.abs,w=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,v="undefined"!=typeof global&&"[object global]"===Object.prototype.toString.call(global)?global.Date:window?window.Date:this.Date,D={meridian:{am:"am",pm:"pm",AM:"AM",PM:"PM"},ordinal:{ord:{1:"st",2:"nd",3:"rd"},nth:"th"},timezone:["UTC","EST","MDT"],timezone_short:["UTC","EST","MDT"],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],units:{singular:{milliseconds:"millisecond",seconds:"second",minutes:"minute",hours:"hour",days:"day",weeks:"week",months:"month",years:"year"},plural:{milliseconds:"milliseconds",seconds:"seconds",minutes:"minutes",hours:"hours",days:"days",weeks:"weeks",months:"months",years:"years"}}},S=24,O=60,F=60,U=1e3,Y=12,C=30.417,_=365.25,H=F*U,I=O*H,L=S*I,j=C*L,A=_*L,P={years:A,months:j,weeks:6048e5,days:L,hours:I,minutes:H,seconds:U,milliseconds:1,Y:A,M:j,W:6048e5,D:L,H:I,m:H,s:U,i:1},b={d:function(t,e){return e[y]("d")||(e.d="(31|30|29|28|27|26|25|24|23|22|21|20|19|18|17|16|15|14|13|12|11|10|09|08|07|06|05|04|03|02|01)"),e.d},D:function(t,e){return e[y]("D")||(e.D="("+n(t.day_short.slice())+")"),e.D},l:function(t,e){return e[y]("l")||(e.l="("+n(t.day.slice())+")"),e.l},j:function(t,e){return e[y]("j")||(e.j="(31|30|29|28|27|26|25|24|23|22|21|20|19|18|17|16|15|14|13|12|11|10|9|8|7|6|5|4|3|2|1)"),e.j},N:function(t,e){return e[y]("N")||(e.N="([1-7])"),e.N},S:function(t,e){if(!e[y]("S")){var r,i=t.ordinal.ord,u=[];for(r in i)i[y](r)&&u.push(i[r]);u.push(t.ordinal.nth),e.S="("+n(u)+")"}return e.S},w:function(t,e){return e[y]("w")||(e.w="([0-6])"),e.w},z:function(t,e){return e[y]("z")||(e.z="([1-3]?[0-9]{1,2})"),e.z},W:function(t,e){return e[y]("W")||(e.W="([0-5]?[0-9])"),e.W},F:function(t,e){return e[y]("F")||(e.F="("+n(t.month.slice())+")"),e.F},M:function(t,e){return e[y]("M")||(e.M="("+n(t.month_short.slice())+")"),e.M},m:function(t,e){return e[y]("m")||(e.m="(12|11|10|09|08|07|06|05|04|03|02|01)"),e.m},n:function(t,e){return e[y]("n")||(e.n="(12|11|10|9|8|7|6|5|4|3|2|1)"),e.n},t:function(t,e){return e[y]("t")||(e.t="(31|30|29|28)"),e.t},L:function(t,e){return e[y]("L")||(e.L="([01])"),e.L},o:function(t,e){return e[y]("o")||(e.o="(\\d{2,4})"),e.o},Y:function(t,e){return e[y]("Y")||(e.Y="([12][0-9]{3})"),e.Y},y:function(t,e){return e[y]("y")||(e.y="([0-9]{2})"),e.y},a:function(t,e){return e[y]("a")||(e.a="("+n([t.meridian.am,t.meridian.pm])+")"),e.a},A:function(t,e){return e[y]("A")||(e.A="("+n([t.meridian.AM,t.meridian.PM])+")"),e.A},B:function(t,e){return e[y]("B")||(e.B="([0-9]{3})"),e.B},g:function(t,e){return e[y]("g")||(e.g="(12|11|10|9|8|7|6|5|4|3|2|1)"),e.g},G:function(t,e){return e[y]("G")||(e.G="(23|22|21|20|19|18|17|16|15|14|13|12|11|10|9|8|7|6|5|4|3|2|1|0)"),e.G},h:function(t,e){return e[y]("h")||(e.h="(12|11|10|09|08|07|06|05|04|03|02|01)"),e.h},H:function(t,e){return e[y]("H")||(e.H="(23|22|21|20|19|18|17|16|15|14|13|12|11|10|09|08|07|06|05|04|03|02|01|00)"),e.H},i:function(t,e){return e[y]("i")||(e.i="([0-5][0-9])"),e.i},s:function(t,e){return e[y]("s")||(e.s="([0-5][0-9])"),e.s},u:function(t,e){return e[y]("u")||(e.u="([0-9]{6})"),e.u},I:function(t,e){return e[y]("I")||(e.I="([01])"),e.I},O:function(t,e){return e[y]("O")||(e.O="([+-][0-9]{4})"),e.O},P:function(t,e){return e[y]("P")||(e.P="([+-][0-9]{2}:[0-9]{2})"),e.P},Z:function(t,e){return e[y]("Z")||(e.Z="(-?[0-9]{5})"),e.Z},e:function(t,e){return e[y]("e")||(e.e="("+n(t.timezone)+")"),e.e},T:function(t,e){return e[y]("T")||(e.T="("+n(t.timezone_short)+")"),e.T},U:function(t,e){return e[y]("U")||(e.U="([0-9]{1,8})"),e.U},c:function(t,e){return e[y]("c")||(e.c=b.Y(t,e)+"-"+b.m(t,e)+"-"+b.d(t,e)+"\\\\"+b.T(t,e)+b.H(t,e)+":"+b.i(t,e)+":"+b.s(t,e)+b.P(t,e)),e.c},r:function(t,e){return e[y]("r")||(e.r=b.D(t,e)+",\\s"+b.d(t,e)+"\\s"+b.M(t,e)+"\\s"+b.Y(t,e)+"\\s"+b.H(t,e)+":"+b.i(t,e)+":"+b.s(t,e)+"\\s"+b.O(t,e)),e.r}},k={d:function(t,e,n){return t=parseInt("0"===t.charAt(0)?t.slice(1):t,10),1>t||t>31?!1:n[y]("day")&&t!==n.day?!1:void(n.day=t)},D:function(t,e,n){return t=e.day_short.indexOf(t),0>t?!1:n[y]("day_week")&&t!==n.day_week?!1:void(n.day_week=t)},j:function(t,e,n){return t=parseInt(t,10),1>t||t>31?!1:n[y]("day")&&t!==n.day?!1:void(n.day=t)},l:function(t,e,n){return t=e.day.indexOf(t),0>t?!1:n[y]("day_week")&&t!==n.day_week?!1:void(n.day_week=t)},N:function(t,e,n){return t=parseInt(t,10),1>t||t>7?!1:(7===t&&(t=0),n[y]("day_week")&&t!==n.day_week?!1:void(n.day_week=t))},S:null,w:function(t,e,n){return t=parseInt(t,10),0>t||t>6?!1:n[y]("day_week")&&t!==n.day_week?!1:void(n.day_week=t)},z:function(t,e,n){return t=parseInt(t,10),0>t||t>366?!1:n[y]("day_year")&&t!==n.day_year?!1:void(n.day_year=t)},W:function(t,e,n){return t=parseInt(t,10),1>t||t>53?!1:n[y]("week_year")&&t!==n.week_year?!1:void(n.week_year=t)},F:function(t,e,n){return t=e.month.indexOf(t),0>t?!1:n[y]("month")&&t+1!==n.month?!1:void(n.month=t+1)},m:function(t,e,n){return t=parseInt("0"===t.charAt(0)?t.slice(1):t,10),1>t||t>12?!1:n[y]("month")&&t!==n.month?!1:void(n.month=t)},M:function(t,e,n){return t=e.month_short.indexOf(t),0>t?!1:n[y]("month")&&t+1!==n.month?!1:void(n.month=t+1)},n:function(t,e,n){return t=parseInt(t,10),1>t||t>12?!1:n[y]("month")&&t!==n.month?!1:void(n.month=t)},t:function(t,e,n){return t=parseInt(t,10),28>t||t>31?!1:n[y]("days_month")&&t!==n.days_month?!1:void(n.days_month=t)},L:function(t,e,n){if("0"===t)n.leap=0;else{if("1"!==t)return!1;n.leap=1}},o:null,Y:function(t,e,n){return t=parseInt(t,10),1e3>t||t>3e3?!1:n[y]("year")&&t!==n.year?!1:void(n.year=t)},y:function(t,e,n){return 2===t.length&&(t>="00"&&"69">=t?t="20"+t:t>="70"&&"99">=t&&(t="19"+t)),t=parseInt(t,10),1e3>t||t>3e3?!1:n[y]("year")&&t!==n.year?!1:void(n.year=t)},a:function(t,e,n){if(e.meridian.am===t)t="am";else{if(e.meridian.pm!==t)return!1;t="pm"}return n[y]("meridian")&&t!==n.meridian?!1:void(n.meridian=t)},A:function(t,e,n){if(e.meridian.AM===t)t="am";else{if(e.meridian.PM!==t)return!1;t="pm"}return n[y]("meridian")&&t!==n.meridian?!1:void(n.meridian=t)},B:null,g:function(t,e,n){return t=parseInt(t,10),1>t||t>12?!1:n[y]("hour_12")&&t!==n.hour_12?!1:void(n.hour_12=t)},G:function(t,e,n){return t=parseInt(t,10),0>t||t>23?!1:n[y]("hour")&&t!==n.hour?!1:void(n.hour=t)},h:function(t,e,n){return t=parseInt("0"===t.charAt(0)?t.slice(1):t,10),1>t||t>12?!1:n[y]("hour_12")&&t!==n.hour_12?!1:void(n.hour_12=t)},H:function(t,e,n){return t=parseInt("0"===t.charAt(0)?t.slice(1):t,10),0>t||t>23?!1:n[y]("hour")&&t!==n.hour?!1:void(n.hour=t)},i:function(t,e,n){return t=parseInt("0"===t.charAt(0)?t.slice(1):t,10),0>t||t>59?!1:n[y]("minute")&&t!==n.minute?!1:void(n.minute=t)},s:function(t,e,n){return t=parseInt("0"===t.charAt(0)?t.slice(1):t,10),0>t||t>59?!1:n[y]("second")&&t!==n.second?!1:void(n.second=t)},u:function(t,e,n){for(var r=0;t.length>1&&"0"===t.charAt(r);)r++;return t=parseInt(t.slice(r),10),t=~~(t/1e3),0>t||t>999?!1:n[y]("ms")&&t!==n.ms?!1:void(n.ms=t)},e:null,I:null,O:null,P:null,T:null,Z:null,U:function(t,e,n){return t=parseInt(t,10),0>t?!1:(t*=1e3,n[y]("time")&&t!==n.time?!1:void(n.time=t))},c:null,r:null},W={G:function(t,e,n){return n[y]("G")||(n.G=t.getHours()),n.G},j:function(t,e,n){return n[y]("j")||(n.j=t.getDate(),n.jmod10=n.j%10),n.j},n:function(t,e,n){return n[y]("n")||(n.n=t.getMonth()+1),n.n},Y:function(t,e,n){return n[y]("Y")||(n.Y=t.getFullYear()),n.Y},w:function(t,e,n){return n[y]("w")||(n.w=t.getDay()),n.w},N:function(t,e,n){return n[y]("N")||(n.N=W.w(t,e,n)||7),n.N},d:function(t,e,n){return n[y]("d")||(n.d=r(W.j(t,e,n),2,"0")),n.d},D:function(t,e,n){return n[y]("D")||(n.D=e.day_short[W.w(t,e,n)]),n.D},l:function(t,e,n){return n[y]("l")||(n.l=e.day[W.w(t,e,n)]),n.l},S:function(t,e,n){if(!n[y]("S")){var r=W.j(t,e,n),i=n.jmod10;n.S=e.ordinal.ord[r]?e.ordinal.ord[r]:e.ordinal.ord[i]?e.ordinal.ord[i]:e.ordinal.nth}return n.S},z:function(t,e,n){if(!n[y]("z")){var r=W.Y(t,e,n),i=W.n(t,e,n),u=W.j(t,e,n);n.z=M((new v(r,i-1,u)-new v(r,0,1))/864e5)}return n.z},W:function(t,e,n){if(!n[y]("W")){var i=W.Y(t,e,n),u=W.n(t,e,n),o=W.N(t,e,n),a=W.j(t,e,n);n.W=r(1+M((new v(i,u-1,a-o+3)-new v(i,0,4))/864e5/7),2,"0")}return n.W},F:function(t,e,n){if(!n[y]("F")){var r=W.n(t,e,n);n.F=e.month[r-1]}return n.F},m:function(t,e,n){if(!n[y]("m")){var i=W.n(t,e,n);n.m=r(i,2,"0")}return n.m},M:function(t,e,n){if(!n[y]("M")){var r=W.n(t,e,n);n.M=e.month_short[r-1]}return n.M},t:function(t,e,n){if(!n[y]("t")){var r=W.n(t,e,n),i=W.Y(t,e,n);n.t=new v(i,r,0).getDate()}return n.t},L:function(t,e,n){if(!n[y]("L")){var r=W.Y(t,e,n);n.L=r%4===0&r%100!==0|r%400===0}return n.L},o:function(t,e,n){if(!n[y]("o")){var r=W.Y(t,e,n),i=W.n(t,e,n),u=W.W(t,e,n);n.o=r+(12===i&&9>u?1:1===i&&u>9?-1:0)}return n.o},y:function(t,e,n){if(!n[y]("y")){var r=W.Y(t,e,n);n.y=r.toString().slice(-2)}return n.y},a:function(t,e,n){if(!n[y]("a")){var r=W.G(t,e,n);n.a=r>11?e.meridian.pm:e.meridian.am}return n.a},A:function(t,e,n){if(!n[y]("A")){var r=W.G(t,e,n);n.A=r>11?e.meridian.PM:e.meridian.AM}return n.A},B:function(t,e,n){return n[y]("B")||(n.B=r(T((3600*t.getUTCHours()+60*t.getUTCMinutes()+t.getUTCSeconds()+3600)/86.4)%1e3,3,"0")),n.B},g:function(t,e,n){if(!n[y]("g")){var r=W.G(t,e,n);n.g=r%12||12}return n.g},h:function(t,e,n){if(!n[y]("h")){var i=W.g(t,e,n);n.h=r(i,2,"0")}return n.h},H:function(t,e,n){if(!n[y]("H")){var i=W.G(t,e,n);n.H=r(i,2,"0")}return n.H},i:function(t,e,n){return n[y]("i")||(n.i=r(t.getMinutes(),2,"0")),n.i},s:function(t,e,n){return n[y]("s")||(n.s=r(t.getSeconds(),2,"0")),n.s},u:function(t,e,n){return n[y]("u")||(n.u=r(1e3*t.getMilliseconds(),6,"0")),n.u},e:function(){return""},I:function(t,e,n){if(!n[y]("I")){var r=W.Y(t,e,n);n.I=new v(r,0)-v.UTC(r,0)!==new v(r,6)-v.UTC(r,6)?1:0}return n.I},O:function(t,e,n){if(!n[y]("O")){var i=t.getTimezoneOffset(),u=$(i);n.O=(i>0?"-":"+")+r(100*T(u/60)+u%60,4,"0")}return n.O},P:function(t,e,n){if(!n[y]("P")){var r=W.O(t,e,n);n.P=r.substr(0,3)+":"+r.substr(3,2)}return n.P},T:function(){return"UTC"},Z:function(t,e,n){return n[y]("Z")||(n.Z=60*-t.getTimezoneOffset()),n.Z},U:function(t,e,n){return n[y]("U")||(n.U=t/1e3|0),n.U},c:function(t,e,n){if(!n[y]("c")){var r=W.Y(t,e,n),u=W.m(t,e,n),o=W.d(t,e,n),a=W.T(t,e,n),s=W.H(t,e,n),f=(W.i(t,e,n),W.s(t,e,n)),c=W.P(t,e,n);n.c=[r,"-",u,"-",o,"\\",a,s,":",i,":",f,c].join("")}return n.c},r:function(t,e,n){if(!n[y]("r")){var r=W.Y(t,e,n),u=W.M(t,e,n),o=W.D(t,e,n),a=W.d(t,e,n),s=W.H(t,e,n),f=(W.i(t,e,n),W.s(t,e,n)),c=W.O(t,e,n);n.r=[o,", ",a," ",u," ",r," ",s,":",i,":",f," ",c].join("")}return n.r}},x=new RegExp("%("+["Ec","EC","Ex","EX","Ey","EY","Od","Oe","OH","OI","Om","OM","OS","Ou","OU","OV","Ow","OW","Oy","a","A","b","B","c","C","d","D","e","h","H","I","j","m","M","n","p","r","R","S","t","T","u","U","V","w","W","x","X","y","Y","Z","%"].join("|")+")","g"),z={"%":"%",a:"D",A:"l",b:"M",B:"F",c:"c",C:"",d:"d",D:"m/d/y",e:"j",h:"M",H:"H",I:"h",j:"z",m:"m",M:"i",n:"\n",p:"a",r:"r",R:"H:i",S:"s",t:"	",T:"H:i:s",u:"N",U:"W",V:"W",w:"w",W:"W",y:"y",Y:"Y",Z:"T",Ey:"y",EY:"Y",Od:"d",Oe:"j",OH:"H",OI:"h",Om:"m",OM:"i",OS:"s",Ou:"N",OU:"W",OV:"W",Ow:"w",OW:"W",Oy:"y"};return k.c=[k.Y,k.m,k.d,null,k.H,k.i,k.s,null],k.r=[k.D,k.d,k.M,k.Y,k.H,k.i,k.s,null],g.VERSION="0.2.2",g.defaultLocale=D,g.defaultFormat="Y-m-d H:i:s",g.defaultDateFormat="Y-m-d",g.defaultTimeFormat="H:i:s",g.setDefaultLocale=function(t){t&&g.defaultLocale!==t&&(g.defaultLocale=t,g.defaultParser=g.getParser(g.defaultFormat,g.defaultLocale))},g.setDefaultFormat=function(t,e,n){t&&g.defaultFormat!==t&&(g.defaultFormat=t,g.defaultParser=g.getParser(g.defaultFormat,g.defaultLocale)),e&&g.defaultDateFormat!==e&&(g.defaultDateFormat=e),n&&g.defaultTimeFormat!==n&&(g.defaultTimeFormat=n)},g.resetDefaults=function(){g.defaultLocale=D,g.defaultFormat="Y-m-d H:i:s",g.defaultDateFormat="Y-m-d",g.defaultTimeFormat="H:i:s",g.defaultParser=g.getParser(g.defaultFormat,g.defaultLocale)},g.getParser=function(t,e,n){return t&&!0===n&&(t=f(t)),o(t||g.defaultFormat,e||g.defaultLocale)},g.defaultParser=g.getParser(g.defaultFormat,g.defaultLocale),g.parse=g.fromString=function(t,e,n,r){var i,u;return i=e&&g.defaultFormat!==e||n&&g.defaultLocale!==n?g.getParser(e,n,r):g.defaultParser,u=i(t),!1!==u?new g(u):!1},g.format=function(t,e,n,r){return e&&!0===r&&(e=f(e)),a(t instanceof g?t.$date:t,e||g.defaultFormat,n||g.defaultLocale)},g.now=v.now||function(){return(new v).getTime()},g.UTC=v.UTC,g.udiff=h,g.xdiff=g.diffExact=c,g.adiff=g.diffApproximate=function(t,e,n,r){var i,u=d(t,e,n),o=u.rel.length,a=(r||g.defaultLocale).units,s="singular",f="plural";for(i=0;o>i;i++)u.rel[i][1]=a[1===u.rel[i][0]?s:f][u.rel[i][1]];return u},g.formatDiff=function(t){var e,n=t.rel.length,r="";if(n>1){for(r=t.rel[0][0]+" "+t.rel[0][1],e=1;n-1>e;e++)r+=", "+t.rel[e][0]+" "+t.rel[e][1];r+=" and "+t.rel[n-1][0]+" "+t.rel[n-1][1]}else r=t.rel[0][0]+" "+t.rel[0][1];return r+=t.sign<0?" ago":" later"},g.prettyDiff=function(t,e){var t,n,r,i,u,o="ago";if(n=(g.now()-t.getTime())/1e3,!isNaN(n)){var a=function(t){return function(e,n){var r=t.hasOwnProperty(e)?t[e]:e;if(n&&n.length){for(var i=0,u=0,o=0,a="";-1<(u=r.indexOf("%s",i));)a+=r.slice(i,u)+n[o++],i=u+2;a+=r.slice(i),r=a}return r}}(e||{});return 0>n&&(n=-n,o="later"),r=T(n/86400),i=T(r/30.5),u=T(r/365.25),60>n?a("just now"):120>n?a("one minute "+o):3600>n?a("%s minutes "+o,[T(n/60)]):7200>n?a("one hour "+o):86400>n?a("%s hours "+o,[T(n/3600)]):1===r?a("ago"===o?"yesterday":"tomorrow"):7>r?a("%s days "+o,[r]):31>r?a("%s weeks "+o,[p(r/7)]):1===i?a("one month "+o):12>i?a("%s months "+o,[i]):1===u?a("one year "+o):a("%s years "+o,[u])}},g.uadd=m,g.xadd=g.addExact=l,g.prototype={constructor:g,$date:null,$locale:null,$format:null,dispose:function(){var t=this;return t.$date=null,t.$locale=null,t.$format=null,t},getDateObject:function(){return this.$date},setDateObject:function(t){var e=this;return e.$date=t,e},getLocale:function(){return this.$locale},setLocale:function(t){var e=this;return e.$locale=t,e},getFormat:function(){return this.$format},setFormat:function(t){var e=this;return e.$format=t,e},format:function(t,e){return a(this.$date,t||this.$format,e||this.$locale)},strformat:function(t,e){return a(this.$date,f(t||this.$format),e||this.$locale)},udiff:function(t,e){return g.udiff(this,t,e)},xdiff:function(t){return g.xdiff(this,t)},adiff:function(t,e,n){return g.adiff(this,t,e,n||this.$locale)},prettydiff:function(t){return g.prettyDiff(this.$date,t||this.$locale)},uadd:function(t,e){return g.uadd(this,t,e,!0)},xadd:function(t){return g.xadd(this,t,!0)},getDate:function(){return this.$date.getDate()},getDay:function(){return this.$date.getDay()},getFullYear:function(){return this.$date.getFullYear()},getHours:function(){return this.$date.getHours()},getMilliseconds:function(){return this.$date.getMilliseconds()},getMinutes:function(){return this.$date.getMinutes()},getMonth:function(){return this.$date.getMonth()},getSeconds:function(){return this.$date.getSeconds()},getTime:function(){return this.$date.getTime()},getTimezoneOffset:function(){return this.$date.getTimezoneOffset()},getUTCDate:function(){return this.$date.getUTCDate()},getUTCDay:function(){return this.$date.getUTCDay()},getUTCFullYear:function(){return this.$date.getUTCFullYear()},getUTCHours:function(){return this.$date.getUTCHours()},getUTCMilliseconds:function(){return this.$date.getUTCMilliseconds()},getUTCMinutes:function(){return this.$date.getUTCMinutes()},getUTCMonth:function(){return this.$date.getUTCMonth()},getUTCSeconds:function(){return this.$date.getUTCSeconds()},getYear:function(){return this.$date.getYear()},setDate:function(t){return this.$date.setDate(t),this},setFullYear:function(t){return this.$date.setFullYear(t),this},setHours:function(t){return this.$date.setHours(t),this},setMilliseconds:function(t){return this.$date.setMilliseconds(t),this},setMinutes:function(t){return this.$date.setMinutes(t),this},setMonth:function(t){return this.$date.setMonth(t),this},setSeconds:function(t){return this.$date.setSeconds(t),this},setTime:function(t){return this.$date.setTime(t),this},setUTCDate:function(t){return this.$date.setUTCDate(t),this},setUTCFullYear:function(t){return this.$date.setUTCFullYear(t),this},setUTCHours:function(t){return this.$date.setUTCHours(t),this},setUTCMilliseconds:function(t){return this.$date.setUTCMilliseconds(t),this},setUTCMinutes:function(t){return this.$date.setUTCMinutes(t),this},setUTCMonth:function(t){return this.$date.setUTCMonth(t),this},setUTCSeconds:function(t){return this.$date.setUTCSeconds(t),this},setYear:function(t){return this.$date.setYear(t),this},toISOString:function(){return this.$date.toISOString()},toJSON:function(){return this.$date.toJSON()},toGMTString:function(){return this.$date.toGMTString()},toSource:function(){return this.$date.toSource()},valueOf:function(){return this.$date.valueOf()},toLocaleFormat:function(t){return this.format(t)},toDateString:function(t,e){return arguments.length?this.format(t||g.defaultDateFormat,e||this.$locale):this.$date.toDateString()},toTimeString:function(t,e){return arguments.length?this.format(t||g.defaultTimeFormat,e||this.$locale):this.$date.toTimeString()},toLocaleDateString:function(t){return arguments.length?this.format(t||g.defaultDateFormat,this.$locale):this.$date.toLocaleDateString()},toLocaleTimeString:function(t){return arguments.length?this.format(t||g.defaultTimeFormat,this.$locale):this.$date.toLocaleTimeString()},toLocaleString:function(t){return arguments.length?this.format(t||this.$format,this.$locale):this.$date.toLocaleString()},toUTCString:function(){return this.$date.toUTCString()},toString:function(t,e){return arguments.length?this.format(t||this.$format,e||this.$locale):this.$date.toString()}},g});