/**
*  HtmlWidget
*  html widgets used as (template) plugins and/or standalone, for PHP, Node/JS, Python
*
*  @dependencies: FontAwesome, SelectorListener, jQuery
*  @version: 0.8.2
*  https://github.com/foo123/HtmlWidget
*  https://github.com/foo123/components.css
*  https://github.com/foo123/jquery-ui-widgets
*  https://github.com/foo123/modelview-widgets
*  https://github.com/foo123/SelectorListener
*
**/
!function(e,a,t){"use strict";"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(function(){return t()}):e[a]=t()}(this,"htmlwidget",function(e){"use strict";function a(e,a){if("object"==typeof a){var t,n,i,o,s,l=0;for(t in a)a[c](t)&&(n=a[t],i=n.selector,o=[].concat(n.rules).join("; "),s=l++,"insertRule"in e.sheet?(e.sheet.insertRule(i+"{"+o+"}",s),n.css=e.sheet.cssRules[s]):"addRule"in e.sheet&&(e.sheet.addRule(i,o,s),n.css=e.sheet.rules[s]))}return a}function t(e,t,n){var i=e.createElement("style");return i.setAttribute("media",t||"all"),i.setAttribute("type","text/css"),i.appendChild(e.createTextNode("")),e.head.appendChild(i),n&&a(i,n),i}function n(e,a){a&&e.head.removeChild(a)}function o(a,t,n){var i=n&&n[g]?n[g]:null;r.fn[a]=function(n){var o,s="string"==typeof n?n:!1,l=f.call(arguments,1),d=this;return s?this.each(function(){var t,n=r.data(this,a);return"widget"===s?(d=n,!1):"instance"===s?(d=n?n.instance||n:n,!1):n?"dispose"===s||"destroy"===s?("function"==typeof n.dispose?n.dispose():"function"==typeof n.destroy?n.destroy():i&&("function"==typeof i.dispose?i.dispose.call(n):"function"==typeof i.destroy&&i.destroy.call(n)),n=null,r.removeData(this,a),!1):(o=n[s]||i&&i[s],"function"!=typeof o?!1:(t=o.apply(n,l),t!==n&&e!==t?(d=t&&t.jquery?d.pushStack(t.get()):t,!1):void 0)):!1}):(n=n||{},this.each(function(){var e=r.data(this,a);e?(o=e.options||i&&i.options,"function"==typeof o&&o.call(e,n)):(r.data(this,a,e=new t(this,n)),o=e.init||i&&i.init,"function"==typeof o&&o.call(e))})),d}}function s(e,a,t){if("undefined"!=typeof google.maps.Geocoder){geocoder=new google.maps.Geocoder;var n=t?{location:e}:{address:e};geocoder.geocode(n,function(e,t){a(google.maps.GeocoderStatus.OK==t?{location:e[0].geometry.location,address:e[0].formatted_address,address_components:e[0].address_components,partial_match:e[0].partial_match}:null,t,e)})}else a(null)}function l(e,a,t,n,i,o){var l,r,d={map:e,title:n,position:new google.maps.LatLng(a,t)};return"undefined"!==o.clickable&&(d.clickable=!!o.clickable),"undefined"!==o.draggable&&(d.draggable=!!o.draggable),"undefined"!==o.crossOnDrag&&(d.crossOnDrag=!!o.crossOnDrag),"undefined"!==o.visible&&(d.visible=!!o.visible),"undefined"!==o.icon&&(d.icon=o.icon),"undefined"!==o.zIndex&&(d.zIndex=o.zIndex),"undefined"!==o.shape&&(d.shape=o.shape),l=new google.maps.Marker(d),i&&(r=new google.maps.InfoWindow({content:i}),google.maps.event.addListener(l,"click",function(){r.open(e,l)})),o.address&&s(o.address,function(e){e&&l.setPosition(e.location)}),l}{var r=jQuery,d={VERSION:"0.8.2",widget:{}},c="hasOwnProperty",u="getAttribute",p="hasAttribute",m="removeAttribute",g="prototype",f=Array[g].slice,h=function(e){return parseInt(e||0,10)||0},w=JSON.parse,b=JSON.stringify;Object[g].toString}return d.make=o,o("selectable",d.selectable=function v(e,a){var t=this;return t instanceof v?(t.init=function(){var n=r(e),i=e[u]("data-selectable-handle")||a.handle||".w-selectable-handle",o=a.selector||a.item;n.hasClass("w-selectable")||n.addClass("w-selectable"),n.on("click.selectable change.selectable",i,function(e){var a=this,n=r(this),i=(a.type||"").toLowerCase();"checkbox"===i||"radio"===i?(o&&(n=n.closest(o)),a.checked?(n.addClass("w-selected"),n.trigger("selected")):(n.removeClass("w-selected"),n.trigger("deselected"))):"click"===e.type&&(e.shiftKey||t.clear(),o&&(n=n.closest(o)),n.hasClass("w-selected")?(n.removeClass("w-selected"),n.trigger("deselected")):(n.addClass("w-selected"),n.trigger("selected")))})},t.selected=function(){return r(e).find(".w-selected")},t.clear=function(){r(e).find(".w-selected").removeClass("w-selected")},void(t.dispose=function(){r(e).off(".selectable")})):new v(e,a)}),o("removable",d.removable=function y(e,a){var t=this;return t instanceof y?(t.init=function(){var t=r(e),n=e[u]("data-removable-handle")||a.handle||".w-removable-handle",i=e[u]("data-removable-item")||a.selector||a.item,o=parseInt(e[u]("data-removable-animation")||a.animation||400,10);t.hasClass("w-removable")||t.addClass("w-removable"),t.on("click.removable",n,function(){var e=r(this);i&&(e=e.closest(i)),e.fadeOut(o,function(){e.trigger("removed"),e.remove()})})},void(t.dispose=function(){r(e).off(".removable")})):new y(e,a)}),o("morphable",d.morphable=function k(e,a){var o=this;if(!(o instanceof k))return new k(e,a);var s=null,l=null,d=null;o.create=function(){var n,o,s,c=r(e),u={},p=c.attr("data-morphable-modes")?c.attr("data-morphable-modes").split(","):[].concat(a.modes||[]),m=c.attr("data-morphable-show")||a.showClass,g=c.attr("data-morphable-hide")||a.hideClass,f=c.attr("data-morphable-mode")||a.modeClass;for(c.addClass("w-morphable"),s="#"+c.attr("id")+".w-morphable",n=[],o=[],i=0;i<p.length;i++)if(g&&n.push(s+"."+f.split("${MODE}").join(p[i])+" ."+g.split("${MODE}").join(p[i])),m&&o.push(s+"."+f.split("${MODE}").join(p[i])+" ."+m.split("${MODE}").join(p[i])),m||g)for(j=0;j<p.length;j++)j!==i&&(m&&n.push(s+"."+f.split("${MODE}").join(p[i])+" ."+m.split("${MODE}").join(p[j])+":not(."+m.split("${MODE}").join(p[i])+")"),g&&o.push(s+"."+f.split("${MODE}").join(p[i])+" ."+g.split("${MODE}").join(p[j])+":not(."+g.split("${MODE}").join(p[i])+")"));n.length&&(u.hide_mode={selector:n.join(","),rules:["display: none !important"]}),o.length&&(u.show_mode={selector:o.join(","),rules:["display: block"]}),l=t(document,"all",d=u)},o.init=function(){r(e).hasClass("w-morphable")||o.create()},o.morph=function(t){if(t!=s){var n=r(e),i=e[u]("data-morphable-mode")||a.modeClass;s&&n.removeClass(i.split("${MODE}").join(s)),s=t,s&&n.addClass(i.split("${MODE}").join(s))}},o.mode=function(){return s},o.dispose=function(){r(e).removeClass("w-morphable"),d=null,l&&n(document,l),l=null}}),o("delayable",d.delayable=function C(e,a){var t=this;return t instanceof C?(t.init=function(){var a=r(e);a.hasClass("w-delayed")&&a.removeClass("w-delayed"),a.hasClass("w-undelayed")||a.addClass("w-undelayed"),a.children(".w-delayable-overlay").length||a.append('<div class="w-delayable-overlay"><div class="w-spinner w-spinner-dots"></div></div>')},t.enable=function(){var a=r(e);a.hasClass("w-delayed")||a.addClass("w-delayed").removeClass("w-undelayed")},void(t.disable=function(){var a=r(e);a.hasClass("w-delayed")&&a.addClass("w-undelayed").removeClass("w-delayed")})):new C(e,a)}),o("disabable",d.disabable=function _(e,a){var t=this;return t instanceof _?(t.init=function(){var a=r(e);a.hasClass("w-delayed")&&a.removeClass("w-delayed"),a.hasClass("w-undelayed")||a.addClass("w-undelayed"),a.children(".w-disabable-overlay").length||a.append('<div class="w-disabable-overlay"></div>')},t.enable=function(){var a=r(e);a.hasClass("w-disabled")||a.addClass("w-disabled").removeClass("w-undisabled")},void(t.disable=function(){var a=r(e);a.hasClass("w-disabled")&&a.addClass("w-undisabled").removeClass("w-disabled")})):new _(e,a)}),o("sortable",d.sortable=function M(e,a){var t=this;return t instanceof M?(t.instance=null,t.init=function(){"function"==typeof Sortable&&(t.instance=Sortable.create(e,{sort:!0,disabled:!1,delay:parseInt(e[u]("data-sortable-delay")||a.delay||0,10),animation:parseInt(e[u]("data-sortable-animation")||a.animation||400,10),draggable:e[u]("data-sortable-item")||a.draggable||a.item||".w-sortable-item",handle:e[u]("data-sortable-handle")||a.handle||".w-sortable-handle"}))},void(t.dispose=function(){t.instance=null})):new M(e,a)}),o("template",d.template=function T(e,a){var t=this;return t instanceof T?(t.instance=null,t.init=function(){"function"==typeof Tao&&(t.instance=Tao(e,e[p]("data-tpl-key")?new RegExp(e[u]("data-tpl-key")):a.key||T.key,!(!e[u]("data-tpl-revivable")&&!a.revivable),e[u]("data-tpl-keyseparator")||a.keySeparator))},t.render=function(a,n){t.instance&&(t.instance(a),!0===n&&r(e).trigger("render"))},void(t.dispose=function(){t.instance&&t.instance.dispose(),t.instance=null})):new T(e,a)}),d.template.key=/\$\(([^\(\)]+)\)/,d.Tpl=d.Template=function x(e,a,t,n){return"function"==typeof Tao?Tao(e,a||x.key,t,n):void 0},d.Template.key=/\$\(([^\(\)]+)\)/g,o("suggest",d.suggest=function D(e,a){var t=this;return t instanceof D?(t.instance=null,t.init=function(){if("function"==typeof AutoComplete){var n=e[u]("data-suggest-ajax")||a.ajax||e[u]("data-ajax")||null,i=e[u]("data-suggest-data")||a.dataType||"json",o=e[u]("data-suggest-method")||a.method||"GET",s=e[u]("data-suggest-q")||e[u]("data-suggest-param")||a.q||a.param||"suggest",l=null;t.instance=new AutoComplete(e,{minChars:e[u]("data-suggest-min")||a.minChars||3,key:e[u]("data-suggest-key")||a.key||null,value:e[u]("data-suggest-value")||a.value||null,delay:e[u]("data-suggest-delay")||a.delay||150,cache:e[u]("data-suggest-cache")||3e5,menuClass:e[u]("data-suggest-class")||a.menuClass||"w-suggestions",source:function(a,t){var d=r(e),c=d.closest(".w-wrapper"),u={method:o,dataType:i,ajax:n,suggest:{}};if(u.suggest[s]=a,d.trigger("suggest",u),u.suggestions||u.list)t(u.suggestions||u.list);else if(u.ajax){c.addClass("ajax");try{l&&l.abort()}catch(p){}l=r.ajax({url:u.ajax,type:u.method,method:u.method,dataType:u.dataType,data:u.suggest,success:function(e){c.removeClass("ajax"),t(e)},error:function(){c.removeClass("ajax"),t([])}})}else t([])},onSelect:function(a,t,n,i,o,s){r(e).trigger("suggest-select",{q:t,item:n,key:o,value:s})}})}},t.suggestions=function(e){t.instance&&(t.instance.suggestions=e)},void(t.dispose=function(){t.instance&&t.instance.dispose(),t.instance=null})):new D(e,a)}),o("uploadable",d.uploadable=function z(e,a){var t=this;return t instanceof z?(t.dispose=function(){var a=r(e);a.off(".uploadable"),a=null},void(t.init=function(){var t=r(e),n=h(e[p]("data-upload-size")?e[u]("data-upload-size"):a.fileSizeMax||1048576)||1048576,i="image",o=e[p]("data-upload-dimensions")?e[u]("data-upload-dimensions").split("x").map(h):a.dimensions?a.dimensions.map(h):null,s=h(e[p]("data-upload-thumbnail")?e[u]("data-upload-thumbnail"):a.thumbnail||120)||120,l=e[p]("data-upload-size-msg")?e[u]("data-upload-size-msg"):a.maxFileSizeMsg||"File size exceeds maximum size limit!",d=e[p]("data-upload-type-msg")?e[u]("data-upload-type-msg"):a.fileTypeMsg||"File type not allowed!",c=e[p]("data-upload-dimensions-msg")?e[u]("data-upload-dimensions-msg"):a.dimensionsMsg||"File dimensions exceed allowed dimensions!";t.on("click.uploadable",".w-upload-thumbnail",function(){var e=t.find("._w-data"),a=t[0].upload_data||(e.val()?w(e.val()):null);return a&&a.type.match("image")&&(t[0].upload_data||(t[0].upload_data=a),window.open(a.original?a.original:a.file,"preview_"+t[0].id,"scrollbars=yes,resizable=yes,width="+a.width+",height="+a.height).focus()),!1}).on("click.uploadable",".w-upload-delete",function(){return t[0].upload_data=null,t.find("input._w-uploader[type=file]")[0].value="",t.find("img").attr("src",""),t.find("._w-data").val("").trigger("change"),!1}).on("change.uploadable","input._w-uploader[type=file]",function(e){var a,r=e.target,u=r.files[0]||null;return u?u.type.match(i)?u.size>n?(r.value="",setTimeout(function(){alert(l)},10),!1):(a=new FileReader,a.addEventListener("load",function(e){var a=e.target.result;if("image"==i){var n=new Image;n.addEventListener("load",function(){setTimeout(function(){var e,i,l,d,p,m=n.width,g=n.height;return o&&(m>o[0]||g>o[1])?(r.value="",t.trigger("upload-end"),setTimeout(function(){alert(c)},10),!1):(e=s,i=Math.round(s*g/m),l=document.createElement("canvas"),d=l.getContext("2d"),l.width=e,l.height=i,d.drawImage(n,0,0,m,g,0,0,e,i),p=l.toDataURL("image/png"),t[0].upload_data={name:u.name,type:u.type,file:a,thumb:p,width:m,height:g},t.find("img").attr("src",p),t.find("._w-data").val(b(t[0].upload_data)).trigger("change"),void t.trigger("upload-end"))},10)}),n.src=a}else setTimeout(function(){t[0].upload_data={name:u.name,type:u.type,file:a,thumb:"",width:0,height:0},t.find("img").attr("src",""),t.find("._w-data").val(b(t[0].upload_data)).trigger("change"),t.trigger("upload-end")},10);r.value=""}),t.trigger("upload-start"),void a.readAsDataURL(u)):(r.value="",setTimeout(function(){alert(d)},10),!1):!1})})):new z(e,a)}),o("datetimepicker",d.datetimepicker=function O(e,a){var t=this;return t instanceof O?(t.instance=null,t.init=function(){if("function"==typeof Pikadaytime){var n=e[u]("data-datepicker-format")||a.format||"Y-m-d H:i:s",i=(e[u]("data-datepicker-time")||"").toLowerCase(),o=(e[u]("data-datepicker-seconds")||"").toLowerCase();t.instance=new Pikadaytime({field:e,showTime:i?"1"===i||"true"===i||"on"===i||"yes"===i:!!a.showTime,showSeconds:o?!("0"===o||"false"===o||"off"===o||"no"===o):!1!==a.showSeconds,encoder:O.encoder(n),decoder:O.decoder(n)})}},void(t.dispose=function(){t.instance&&t.instance.dispose(),t.instance=null})):new O(e,a)}),d.datetimepicker.encoder=function(e,a){return"function"==typeof DateX?(a=a||DateX.defaultLocale,function(t){return DateX.format(t,e,a)}):function(e,a){return a._o.showTime?e.toString():e.toDateString()}},d.datetimepicker.decoder=function(e,a){if("function"==typeof DateX){a=a||DateX.defaultLocale;var t=DateX.getParser(e,a);return function(e){return!!e&&t(e)}}return function(e){return new Date(Date.parse(e))}},o("colorpicker",d.colorpicker=function L(e,a){var t=this;return t instanceof L?(t.instance=null,t.init=function(){"function"==typeof ColorPicker&&(t.instance=new ColorPicker(e,{changeEvent:e[u]("data-colorpicker-change")||a.changeEvent||"change",input:e[p]("data-colorpicker-input")?r(e[u]("data-colorpicker-input"))[0]:a.input?r(a.input)[0]:null,format:e[u]("data-colorpicker-format")||a.format||"rgba",color:e[u]("data-colorpicker-color")||a.color,opacity:e[u]("data-colorpicker-opacity")||a.opacity}))},t.value=t.color=function(e,a){return t.instance?arguments.length?void t.instance.setColor(e,a):t.instance.getColor():void 0},void(t.dispose=function(){t.instance&&t.instance.dispose(),t.instance=null})):new L(e,a)}),o("gmap3",d.gmap3=function E(e,a){function t(){n&&google.maps.event.addListenerOnce(n,"idle",function(){google.maps.event.trigger(n,"resize");var e=new google.maps.LatLng(i,o);n.setCenter(e),d&&d.setPosition(e)})}var n,i,o,d,c,m=this;return m instanceof E?(n=null,a=r.extend({type:"ROADMAP",markers:null,center:null,address:null,kml:null,responsive:!1},a||{}),m.dispose=function(){c&&r(e.parentNode||document.body).off("resize",t),n=null},m.init=function(){var m=r(e),g=e[u]("data-map-address")?e[u]("data-map-address"):null,f=e[p]("data-map-center")?e[u]("data-map-center").split(","):a.center||[0,0],w=!!e[p]("data-map-center-marker")||!!a.centerMarker,b=h(e[u]("data-map-zoom")||a.zoom||6),v=e[u]("data-map-type")||a.type||"ROADMAP";if(i=parseFloat(f[0]||0,10),o=parseFloat(f[1]||0,10),n=new google.maps.Map(e,{zoom:b,center:new google.maps.LatLng(i,o),mapTypeId:google.maps.MapTypeId[v]}),w){var y={lat:i,lng:o,title:e[u]("title"),info:null};d=l(n,y.lat,y.lng,y.title||"",y.info,y)}g&&s(g,function(e){e&&(i=e.location.lat(),o=e.location.lng(),n.setCenter(e.location),d&&d.setPosition(e.location))}),m.children(".marker,.map-marker").each(function(){var e=this,a=e[u]("data-marker-position")?e[u]("data-marker-position").split(","):[0,0],t={address:e[u]("data-marker-address")?e[u]("data-marker-address"):null,lat:parseFloat(a[0]||0,10)||0,lng:parseFloat(a[1]||0,10)||0,title:e[u]("title"),info:e.innerHTML,clickable:!!e[u]("data-marker-clickable"),draggable:!!e[u]("data-marker-draggable"),visible:!!e[u]("data-marker-visible")};l(n,t.lat,t.lng,t.title||"",t.info,t)}),m.empty(),e[u]("data-map-markers")&&r(e[u]("data-map-markers")).each(function(){var e=this,a=e[u]("data-marker-position")?e[u]("data-marker-position").split(","):[0,0],t={address:e[u]("data-marker-address")?e[u]("data-marker-address"):null,lat:parseFloat(a[0]||0,10)||0,lng:parseFloat(a[1]||0,10)||0,title:e[u]("title"),info:e.innerHTML,clickable:!!e[u]("data-marker-clickable"),draggable:!!e[u]("data-marker-draggable"),visible:!!e[u]("data-marker-visible")};l(n,t.lat,t.lng,t.title||"",t.info,t)});var k,y,C=a.markers,j=C?C.length:0;for(k=0;j>k;k++)y=C[k],l(n,y.lat,y.lng,y.title||"",y.info,y);if(null!=a.kml){var _=new google.maps.KmlLayer(a.kml);_.setMap(n)}c=!(!e[u]("data-map-responsive")&&!a.responsive),c&&r(e.parentNode||document.body).on("resize",t)},m.map=function(){return n},m.center=function(e){if(!arguments.length)return[i,o];if(n){i=parseFloat(e[0],10),o=parseFloat(e[1],10);var a=new google.maps.LatLng(i,o);n.setCenter(a),d&&d.setPosition(a)}},m.add_marker=function(e){return n&&e?l(n,e.lat,e.lng,e.title||"",e.info||null,e):void 0},m.remove_marker=function(e){e&&e.setMap(null)},m.add_markers=function(e){if(n&&e){for(var a=0;a<e.length;a++){var t=e[a];e[a]=l(n,t.lat,t.lng,t.title||"",t.info,t)}return e}},void(m.remove_markers=function(e){if(e)for(var a=0;a<e.length;a++)e[a].setMap(null)})):new E(e,a)}),r.fn.htmlwidget=function(e,a){return a=a||{},this.each(function(){var t,n=this;if(d.widget[c](e)&&"function"==typeof d.widget[e])return void d.widget[e](n,a);switch(t=r(n),e){case"delayable":case"disabable":case"morphable":case"selectable":case"removable":case"rearrangeable":case"sortable":case"uploadable":case"upload":t["upload"===e?"uploadable":"rearrangeable"===e?"sortable":e](a);break;case"templateable":case"template":t.template(a);break;case"draggable":"function"==typeof r.fn.tinyDraggable&&t.tinyDraggable(a);break;case"resisable":case"resizable":break;case"timer":"function"==typeof r.fn.Timer&&t.Timer(a);break;case"date":case"datetime":case"datepicker":case"datetimepicker":t.datetimepicker(a);break;case"color":case"colorselector":case"colorpicker":t.colorpicker(a);break;case"map":case"gmap":case"gmap3":t.gmap3(a);break;case"autocomplete":case"autosuggest":case"suggest":t.suggest(a);break;case"rangeslider":case"range":"function"==typeof r.fn.rangeslider&&t.rangeslider({polyfill:!1,orientation:n[u]("data-range-orientation")||a.orientation||"horizontal"});break;case"select":case"select2":"function"==typeof r.fn.select2&&(t.select2(a),n[p]("w-tooltip")?t.prev(".select2-container").attr("w-tooltip",n[u]("w-tooltip")):n[p]("data-tooltip")?t.prev(".select2-container").attr("data-tooltip",n[u]("data-tooltip")):n[p]("title")&&t.prev(".select2-container").attr("title",n[u]("title")));break;case"table":case"datatable":"function"==typeof r.fn.dataTable&&(t.dataTable(a),t.closest(".dataTables_wrapper").addClass("w-table-wrapper"));break;case"modal":"function"==typeof r.fn.modal&&t.modal(a);break;case"packery":"undefined"!=typeof Packery&&new Packery(n,a);break;case"isotope":"undefined"!=typeof Isotope&&new Isotope(n,a);break;case"masonry":"undefined"!=typeof Masonry&&new Masonry(n,a);break;case"modelview":"undefined"!=typeof ModelView&&t.modelview(a);break;case"tag-editor":"function"==typeof r.fn.tagEditor&&t.tagEditor(a);break;case"wysiwyg-editor":"function"==typeof r.fn.trumbowyg&&(t.trumbowyg(a),t.closest(".trumbowyg-box").addClass("widget w-wysiwyg-editor-box"));break;case"syntax-editor":"function"==typeof CodeMirror&&CodeMirror.fromTextArea(n,a)}}),this},d.init=function(e,a,t){var n=r(e);!0===t&&(n.find("input[type=range].w-rangeslider").htmlwidget("range"),n.find(".w-upload").htmlwidget("upload"),n.find(".w-suggest").htmlwidget("suggest"),n.find(".w-timer").htmlwidget("timer"),n.find(".w-date").htmlwidget("datetimepicker"),n.find(".w-color,.w-colorselector").htmlwidget("colorpicker"),n.find(".w-map").htmlwidget("map"),n.find(".w-select2").htmlwidget("select2")),!1!==a&&(n.is("input[type=range]")?n.htmlwidget("range"):n.hasClass("w-upload")?n.htmlwidget("upload"):n.hasClass("w-suggest")?n.htmlwidget("suggest"):n.hasClass("w-timer")?n.htmlwidget("timer"):n.hasClass("w-date")?n.htmlwidget("datetimepicker"):n.hasClass("w-color")||n.hasClass("w-colorselector")?n.htmlwidget("colorpicker"):n.hasClass("w-map")?n.htmlwidget("map"):n.hasClass("w-select2")&&n.htmlwidget("select2"))},d.initialisable=function(e,a){a=a||window;var t=r(e),n=(t.attr("w-init")||"").toLowerCase();("1"===n||"true"===n||"on"===n||"yes"===n)&&(n="__htmlwidget_init__"),n&&"function"==typeof a[n]&&(t.removeAttr("w-init"),a[n](e))},d.widgetize=function(e){var a=r(e);a.hasClass("w-selectable")&&a.htmlwidget("selectable"),a.hasClass("w-removable")&&a.htmlwidget("removable"),a.hasClass("w-morphable")&&a.htmlwidget("morphable"),a.hasClass("w-delayable")&&a.htmlwidget("delayable"),a.hasClass("w-disabable")&&a.htmlwidget("disabable"),a.hasClass("w-draggable")&&a.htmlwidget("draggable"),(a.hasClass("w-resizable")||a.hasClass("w-resisable"))&&a.htmlwidget("resizable"),(a.hasClass("w-sortable")||a.hasClass("w-rearrangeable"))&&a.htmlwidget("sortable"),a.hasClass("w-templateable")&&a.htmlwidget("template")},d.tooltip=function(e){var a=r(e),t="",n=a.hasClass("tooltipstered");n||(t=e[p]("w-tooltip")?e[u]("w-tooltip"):e[p]("data-tooltip")?e[u]("data-tooltip"):e[p]("title")?e[u]("title"):"",t.length?a.tooltipster({onlyOne:!0,autoClose:!0,content:t,position:a.hasClass("tooltip-bottom")?"bottom":a.hasClass("tooltip-right")?"right":a.hasClass("tooltip-left")?"left":"top"}):e[p]("title")&&e[m]("title")),(n||t.length)&&a.tooltipster("show")},window.__htmlwidget_init__=function(e){d.init(e)},r(function(){"undefined"!=typeof SelectorListener&&SelectorListener.jquery(r),"undefined"!=typeof ModelView&&ModelView.jquery(r);var e=r(document.body),a=function(){d.initialisable(this)},t=function(){d.widgetize(this)},n=function(){d.tooltip(this)};e.find("[w-init]").each(a),e.find(".w-templateable,.w-rearrangeable,.w-resizeable,.w-resiseable,.w-selectable,.w-removable,.w-morphable,.w-delayable,.w-disabable,.w-sortable,.w-draggable").each(t),"function"==typeof r.fn.onSelector&&e.onSelector("[w-init]::added",a).onSelector(".w-templateable::added,.w-rearrangeable::added,.w-resizeable::added,.w-resiseable::added,.w-selectable::added,.w-removable::added,.w-morphable::added,.w-delayable::added,.w-disabable::added,.w-sortable::added,.w-draggable::added",t),"function"==typeof r.fn.tooltipster&&e.on("mouseover","[w-tooltip],[data-tooltip],[title]",n)}),r.htmlwidget=d});