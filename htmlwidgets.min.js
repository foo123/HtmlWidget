/**
*  HtmlWidget
*  html widgets used as (template) plugins and/or standalone, for PHP, Node/JS, Python
*
*  @dependencies: FontAwesome, SelectorListener, jQuery
*  @version: 0.8.4
*  https://github.com/foo123/HtmlWidget
*  https://github.com/foo123/components.css
*  https://github.com/foo123/jquery-ui-widgets
*  https://github.com/foo123/modelview-widgets
*  https://github.com/foo123/SelectorListener
*
**/
!function(e,t,a){"use strict";"object"==typeof exports?module.exports=a():"function"==typeof define&&define.amd?define(function(){return a()}):e[t]=a()}(this,"htmlwidget",function(e){"use strict";function t(e,t){if("object"==typeof t){var a,n,i,o,l,s=0;for(a in t)t[c](a)&&(n=t[a],i=n.selector,o=[].concat(n.rules).join("; "),l=s++,"insertRule"in e.sheet?(e.sheet.insertRule(i+"{"+o+"}",l),n.css=e.sheet.cssRules[l]):"addRule"in e.sheet&&(e.sheet.addRule(i,o,l),n.css=e.sheet.rules[l]))}return t}function a(e,a,n){var i=e.createElement("style");return i.setAttribute("media",a||"all"),i.setAttribute("type","text/css"),i.appendChild(e.createTextNode("")),e.head.appendChild(i),n&&t(i,n),i}function n(e,t){t&&e.head.removeChild(t)}function o(t,a,n){var i=n&&n[g]?n[g]:null;r.fn[t]=function(n){var o,l="string"==typeof n?n:!1,s=f.call(arguments,1),d=this;return l?this.each(function(){var a,n=r.data(this,t);return"widget"===l?(d=n,!1):"instance"===l?(d=n?n.instance||n:n,!1):n?"dispose"===l||"destroy"===l?("function"==typeof n.dispose?n.dispose():"function"==typeof n.destroy?n.destroy():i&&("function"==typeof i.dispose?i.dispose.call(n):"function"==typeof i.destroy&&i.destroy.call(n)),n=null,r.removeData(this,t),!1):(o=n[l]||i&&i[l],"function"!=typeof o?!1:(a=o.apply(n,s),a!==n&&e!==a?(d=a&&a.jquery?d.pushStack(a.get()):a,!1):void 0)):!1}):(n=n||{},this.each(function(){var e=r.data(this,t);e?(o=e.options||i&&i.options,"function"==typeof o&&o.call(e,n)):(r.data(this,t,e=new a(this,n)),o=e.init||i&&i.init,"function"==typeof o&&o.call(e))})),d}}function l(e,t,a){if("undefined"!=typeof google.maps.Geocoder){geocoder=new google.maps.Geocoder;var n=a?{location:e}:{address:e};geocoder.geocode(n,function(e,a){t(google.maps.GeocoderStatus.OK==a?{location:e[0].geometry.location,address:e[0].formatted_address,address_components:e[0].address_components,partial_match:e[0].partial_match}:null,a,e)})}else t(null)}function s(e,t,a,n,i,o){var s,r,d={map:e,title:n,position:new google.maps.LatLng(t,a)};return"undefined"!==o.clickable&&(d.clickable=!!o.clickable),"undefined"!==o.draggable&&(d.draggable=!!o.draggable),"undefined"!==o.crossOnDrag&&(d.crossOnDrag=!!o.crossOnDrag),"undefined"!==o.visible&&(d.visible=!!o.visible),"undefined"!==o.icon&&(d.icon=o.icon),"undefined"!==o.zIndex&&(d.zIndex=o.zIndex),"undefined"!==o.shape&&(d.shape=o.shape),s=new google.maps.Marker(d),i&&(r=new google.maps.InfoWindow({content:i}),google.maps.event.addListener(s,"click",function(){r.open(e,s)})),o.address&&l(o.address,function(e){e&&s.setPosition(e.location)}),s}{var r=jQuery,d={VERSION:"0.8.4",widget:{},locale:{}},c="hasOwnProperty",p="getAttribute",u="hasAttribute",m="removeAttribute",g="prototype",f=Array[g].slice,h=function(e){return parseInt(e||0,10)||0},w=JSON.parse,b=JSON.stringify;Object[g].toString}return d.make=o,d.dispatch=function(e,t,a,n){var i;!1===n?(i=r.Event(e),null!=a&&(i.data=a),r(t).trigger(i)):document.createEvent?(i=document.createEvent("HTMLEvents"),i.initEvent(e,!0,!0),i.eventName=e,null!=a&&(i.data=a),t.dispatchEvent(i)):(i=document.createEventObject(),i.eventType=e,i.eventName=e,null!=a&&(i.data=a),t.fireEvent("on"+i.eventType,i))},r.fn.triggerNative=function(e,t){return this.each(function(){d.dispatch(e,this,t)}),this},o("selectable",d.selectable=function y(e,t){var a=this;return a instanceof y?(a.init=function(){var n=r(e),i=e[p]("data-selectable-handle")||t.handle||".w-selectable-handle",o=t.selector||t.item;n.hasClass("w-selectable")||n.addClass("w-selectable"),n.on("click.selectable change.selectable",i,function(e){var t=this,n=r(this),i=(t.type||"").toLowerCase();"checkbox"===i||"radio"===i?(o&&(n=n.closest(o)),t.checked?(n.addClass("w-selected"),n.triggerNative("selected")):(n.removeClass("w-selected"),n.triggerNative("deselected"))):"click"===e.type&&(e.shiftKey||a.clear(),o&&(n=n.closest(o)),n.hasClass("w-selected")?(n.removeClass("w-selected"),n.triggerNative("deselected")):(n.addClass("w-selected"),n.triggerNative("selected")))})},a.selected=function(){return r(e).find(".w-selected")},a.clear=function(){r(e).find(".w-selected").removeClass("w-selected")},void(a.dispose=function(){r(e).off(".selectable")})):new y(e,t)}),o("removable",d.removable=function v(e,t){var a=this;return a instanceof v?(a.init=function(){var a=r(e),n=e[p]("data-removable-handle")||t.handle||".w-removable-handle",i=e[p]("data-removable-item")||t.selector||t.item,o=parseInt(e[p]("data-removable-animation")||t.animation||400,10);a.hasClass("w-removable")||a.addClass("w-removable"),a.on("click.removable",n,function(){var e=r(this);i&&(e=e.closest(i)),e.fadeOut(o,function(){e.triggerNative("removed"),e.remove()})})},void(a.dispose=function(){r(e).off(".removable")})):new v(e,t)}),o("morphable",d.morphable=function k(e,t){var o=this;if(!(o instanceof k))return new k(e,t);var l=null,s=null,d=null;o.create=function(){var n,o,l,c=r(e),p={},u=c.attr("data-morphable-modes")?c.attr("data-morphable-modes").split(","):[].concat(t.modes||[]),m=c.attr("data-morphable-show")||t.showClass,g=c.attr("data-morphable-hide")||t.hideClass,f=c.attr("data-morphable-mode")||t.modeClass;for(c.addClass("w-morphable"),l="#"+c.attr("id")+".w-morphable",n=[],o=[],i=0;i<u.length;i++)if(g&&n.push(l+"."+f.split("${MODE}").join(u[i])+" ."+g.split("${MODE}").join(u[i])),m&&o.push(l+"."+f.split("${MODE}").join(u[i])+" ."+m.split("${MODE}").join(u[i])),m||g)for(j=0;j<u.length;j++)j!==i&&(m&&n.push(l+"."+f.split("${MODE}").join(u[i])+" ."+m.split("${MODE}").join(u[j])+":not(."+m.split("${MODE}").join(u[i])+")"),g&&o.push(l+"."+f.split("${MODE}").join(u[i])+" ."+g.split("${MODE}").join(u[j])+":not(."+g.split("${MODE}").join(u[i])+")"));n.length&&(p.hide_mode={selector:n.join(","),rules:["display: none !important"]}),o.length&&(p.show_mode={selector:o.join(","),rules:["display: block"]}),s=a(document,"all",d=p)},o.init=function(){r(e).hasClass("w-morphable")||o.create()},o.morph=function(a){if(a!=l){var n=r(e),i=e[p]("data-morphable-mode")||t.modeClass;l&&n.removeClass(i.split("${MODE}").join(l)),l=a,l&&n.addClass(i.split("${MODE}").join(l))}},o.mode=function(){return l},o.dispose=function(){r(e).removeClass("w-morphable"),d=null,s&&n(document,s),s=null}}),o("delayable",d.delayable=function _(e,t){var a=this;return a instanceof _?(a.init=function(){var t=r(e);t.hasClass("w-delayed")||t.addClass("w-undelayed"),t.children(".w-delayable-overlay").length||t.append('<div class="w-delayable-overlay"><div class="w-spinner w-spinner-dots"></div></div>')},a.enable=function(){var t=r(e);t.hasClass("w-delayed")||t.addClass("w-delayed").removeClass("w-undelayed")},void(a.disable=function(){var t=r(e);t.hasClass("w-delayed")&&t.addClass("w-undelayed").removeClass("w-delayed")})):new _(e,t)}),o("disabable",d.disabable=function C(e,t){var a=this;return a instanceof C?(a.init=function(){var t=r(e);t.hasClass("w-disabled")||t.addClass("w-undisabled"),t.children(".w-disabable-overlay").length||t.append('<div class="w-disabable-overlay"></div>')},a.enable=function(){var t=r(e);t.hasClass("w-disabled")||t.addClass("w-disabled").removeClass("w-undisabled")},void(a.disable=function(){var t=r(e);t.hasClass("w-disabled")&&t.addClass("w-undisabled").removeClass("w-disabled")})):new C(e,t)}),o("sortable",d.sortable=function x(e,t){var a=this;return a instanceof x?(a.instance=null,a.init=function(){"function"==typeof Sortable&&(a.instance=Sortable.create(e,{sort:!0,disabled:!1,delay:parseInt(e[p]("data-sortable-delay")||t.delay||0,10),animation:parseInt(e[p]("data-sortable-animation")||t.animation||400,10),draggable:e[p]("data-sortable-item")||t.draggable||t.item||".w-sortable-item",handle:e[p]("data-sortable-handle")||t.handle||".w-sortable-handle"}))},void(a.dispose=function(){a.instance=null})):new x(e,t)}),o("template",d.template=function T(e,t){var a=this;return a instanceof T?(a.instance=null,a.init=function(){"function"==typeof Tao&&(a.instance=Tao(e,e[u]("data-tpl-key")?new RegExp(e[p]("data-tpl-key")):t.key||T.key,!(!e[p]("data-tpl-revivable")&&!t.revivable),e[p]("data-tpl-keyseparator")||t.keySeparator))},a.render=function(t,n){a.instance&&(a.instance(t),!0===n&&r(e).triggerNative("render"))},void(a.dispose=function(){a.instance&&a.instance.dispose(),a.instance=null})):new T(e,t)}),d.template.key=/\$\(([^\(\)]+)\)/,d.Tpl=d.Template=function M(e,t,a,n){return"function"==typeof Tao?Tao(e,t||M.key,a,n):void 0},d.Template.key=/\$\(([^\(\)]+)\)/g,o("suggest",d.suggest=function D(e,t){var a=this;return a instanceof D?(a.instance=null,a.init=function(){if("function"==typeof AutoComplete){var n=e[p]("data-suggest-ajax")||t.ajax||e[p]("data-ajax")||null,i=e[p]("data-suggest-data")||t.dataType||"json",o=e[p]("data-suggest-method")||t.method||"GET",l=e[p]("data-suggest-q")||e[p]("data-suggest-param")||t.q||t.param||"suggest",s=null;a.instance=new AutoComplete(e,{minChars:e[p]("data-suggest-min")||t.minChars||3,key:e[p]("data-suggest-key")||t.key||null,value:e[p]("data-suggest-value")||t.value||null,delay:e[p]("data-suggest-delay")||t.delay||150,cache:e[p]("data-suggest-cache")||3e5,noItems:e[p]("data-suggest-noitems")||t.noItems||"No Matches for <strong>{{term}}</strong>",menuClass:e[p]("data-suggest-class")||t.menuClass||"w-suggestions",source:function(t,a){var d=r(e),c=d.closest(".w-wrapper"),p={method:o,dataType:i,ajax:n,suggest:{}};if(p.suggest[l]=t,d.triggerNative("suggest",p),p.suggestions||p.list)a(p.suggestions||p.list);else if(p.ajax){c.addClass("ajax");try{s&&s.abort()}catch(u){}s=r.ajax({url:p.ajax,type:p.method,method:p.method,dataType:p.dataType,data:p.suggest,success:function(e){c.removeClass("ajax"),a(e)},error:function(){c.removeClass("ajax"),a([])}})}else a([])},onSelect:function(t,a,n,i,o,l){r(e).triggerNative("suggest-select",{q:a,item:n,key:o,value:l})}})}},a.suggestions=function(e){a.instance&&(a.instance.suggestions=e)},void(a.dispose=function(){a.instance&&a.instance.dispose(),a.instance=null})):new D(e,t)}),o("uploadable",d.uploadable=function N(e,t){var a=this;return a instanceof N?(a.dispose=function(){var t=r(e);t.off(".uploadable"),t=null},void(a.init=function(){var a=r(e),n=h(e[u]("data-upload-size")?e[p]("data-upload-size"):t.fileSizeMax||1048576)||1048576,i="image",o=e[u]("data-upload-dimensions")?e[p]("data-upload-dimensions").split("x").map(h):t.dimensions?t.dimensions.map(h):null,l=h(e[u]("data-upload-thumbnail")?e[p]("data-upload-thumbnail"):t.thumbnail||120)||120,s=e[u]("data-upload-size-msg")?e[p]("data-upload-size-msg"):t.maxFileSizeMsg||"File size exceeds maximum size limit!",d=e[u]("data-upload-type-msg")?e[p]("data-upload-type-msg"):t.fileTypeMsg||"File type not allowed!",c=e[u]("data-upload-dimensions-msg")?e[p]("data-upload-dimensions-msg"):t.dimensionsMsg||"File dimensions exceed allowed dimensions!";a.on("click.uploadable",".w-upload-thumbnail",function(){var e=a.find("._w-data"),t=a[0].upload_data||(e.val()?w(e.val()):null);return t&&t.type.match("image")&&(a[0].upload_data||(a[0].upload_data=t),window.open(t.original?t.original:t.file,"preview_"+a[0].id,"scrollbars=yes,resizable=yes,width="+t.width+",height="+t.height).focus()),!1}).on("click.uploadable",".w-upload-delete",function(){return a[0].upload_data=null,a.find("input._w-uploader[type=file]")[0].value="",a.find("img").attr("src",""),a.find("._w-data").val("").triggerNative("change"),!1}).on("change.uploadable","input._w-uploader[type=file]",function(e){var t,r=e.target,p=r.files[0]||null;return p?p.type.match(i)?p.size>n?(r.value="",setTimeout(function(){alert(s)},10),!1):(t=new FileReader,t.addEventListener("load",function(e){var t=e.target.result;if("image"==i){var n=new Image;n.addEventListener("load",function(){setTimeout(function(){var e,i,s,d,u,m=n.width,g=n.height;return o&&(m>o[0]||g>o[1])?(r.value="",a.triggerNative("upload-end"),setTimeout(function(){alert(c)},10),!1):(e=l,i=Math.round(l*g/m),s=document.createElement("canvas"),d=s.getContext("2d"),s.width=e,s.height=i,d.drawImage(n,0,0,m,g,0,0,e,i),u=s.toDataURL("image/png"),a[0].upload_data={name:p.name,type:p.type,size:p.size,file:t,thumb:u,width:m,height:g},a.find("img").attr("src",u),a.find("._w-data").val(b(a[0].upload_data)).triggerNative("change"),void a.triggerNative("upload-end"))},10)}),n.src=t}else setTimeout(function(){a[0].upload_data={name:p.name,type:p.type,size:p.size,file:t,thumb:"",width:0,height:0},a.find("img").attr("src",""),a.find("._w-data").val(b(a[0].upload_data)).triggerNative("change"),a.triggerNative("upload-end")},10);r.value=""}),a.triggerNative("upload-start"),void t.readAsDataURL(p)):(r.value="",setTimeout(function(){alert(d)},10),!1):!1})})):new N(e,t)}),o("datetimepicker",d.datetimepicker=function z(e,t){var a=this;return a instanceof z?(a.instance=null,a.init=function(){if("function"==typeof Pikadaytime){var n=e[p]("data-datepicker-format")||t.format||"Y-m-d H:i:s",i=(e[p]("data-datepicker-time")||"").toLowerCase(),o=(e[p]("data-datepicker-seconds")||"").toLowerCase(),l={field:e,showTime:i?"1"===i||"true"===i||"on"===i||"yes"===i:!!t.showTime,showSeconds:o?!("0"===o||"false"===o||"off"===o||"no"===o):!1!==t.showSeconds,encoder:z.encoder(n),decoder:z.decoder(n)};t.i18n&&(l.i18n=t.i18n),a.instance=new Pikadaytime(l)}},void(a.dispose=function(){a.instance&&a.instance.dispose(),a.instance=null})):new z(e,t)}),d.datetimepicker.encoder=function(e,t){return"function"==typeof DateX?(t=t||d.locale.DateX||DateX.defaultLocale,function(a){return DateX.format(a,e,t)}):function(e,t){return t._o.showTime?e.toString():e.toDateString()}},d.datetimepicker.decoder=function(e,t){if("function"==typeof DateX){t=t||d.locale.DateX||DateX.defaultLocale;var a=DateX.getParser(e,t);return function(e){return!!e&&a(e)}}return function(e){return new Date(Date.parse(e))}},o("colorpicker",d.colorpicker=function E(e,t){var a=this;return a instanceof E?(a.instance=null,a.init=function(){"function"==typeof ColorPicker&&(a.instance=new ColorPicker(e,{changeEvent:e[p]("data-colorpicker-change")||t.changeEvent||"change",input:e[u]("data-colorpicker-input")?r(e[p]("data-colorpicker-input"))[0]:t.input?r(t.input)[0]:null,format:e[p]("data-colorpicker-format")||t.format||"rgba",color:e[p]("data-colorpicker-color")||t.color,opacity:e[p]("data-colorpicker-opacity")||t.opacity}))},a.value=a.color=function(e,t){return a.instance?arguments.length?void a.instance.setColor(e,t):a.instance.getColor():void 0},void(a.dispose=function(){a.instance&&a.instance.dispose(),a.instance=null})):new E(e,t)}),o("areaselect",d.areaselect=function L(e,t){var a=this;return a instanceof L?(a.instance=null,a.init=function(){if("function"==typeof AreaSelect){var n=e[u]("data-areaselect-borders")?e[p]("data-areaselect-borders").toLowerCase():null;a.instance=new AreaSelect(e,{className:e[u]("data-areaselect-class")?e[p]("data-areaselect-class"):t.className||null,minWidth:e[u]("data-areaselect-min-width")?e[p]("data-areaselect-min-width"):t.minWidth||null,maxWidth:e[u]("data-areaselect-max-width")?e[p]("data-areaselect-max-width"):t.maxWidth||null,minHeight:e[u]("data-areaselect-min-height")?e[p]("data-areaselect-min-height"):t.minHeight||null,maxHeight:e[u]("data-areaselect-max-height")?e[p]("data-areaselect-max-height"):t.maxHeight||null,ratioXY:e[u]("data-areaselect-ratio-xy")?e[p]("data-areaselect-ratio-xy"):t.ratioXY||null,ratioYX:e[u]("data-areaselect-ratio-yx")?e[p]("data-areaselect-ratio-yx"):t.ratioYX||null,withBorders:n?"1"===n||"yes"===n||"true"===n||"on"===n:t.withBorders,onSelect:function(a,n){t.onSelect&&t.onSelect.call(this,a,n),r(e).triggerNative("areaselect",{selection:n})}})}},a.select=function(e){a.instance&&a.instance.select(e)},a.selection=function(){return a.instance?a.instance.getSelection():null},a.show=function(){a.instance&&a.instance.show()},a.hide=function(){a.instance&&a.instance.hide()},void(a.dispose=function(){a.instance&&a.instance.dispose(),a.instance=null})):new L(e,t)}),o("gmap3",d.gmap3=function S(e,t){function a(){n&&google.maps.event.addListenerOnce(n,"idle",function(){google.maps.event.trigger(n,"resize");var e=new google.maps.LatLng(i,o);n.setCenter(e),d&&d.setPosition(e)})}var n,i,o,d,c,m=this;return m instanceof S?(n=null,t=r.extend({type:"ROADMAP",markers:null,center:null,address:null,kml:null,responsive:!1},t||{}),m.dispose=function(){c&&r(e.parentNode||document.body).off("resize",a),n=null},m.init=function(){if("object"==typeof google&&"object"==typeof google.maps){var g=r(e),f=e[p]("data-map-address")?e[p]("data-map-address"):null,w=e[u]("data-map-center")?e[p]("data-map-center").split(","):t.center||[0,0],b=!!e[u]("data-map-center-marker")||!!t.centerMarker,y=h(e[p]("data-map-zoom")||t.zoom||6),v=e[p]("data-map-type")||t.type||"ROADMAP";if(i=parseFloat(w[0]||0,10),o=parseFloat(w[1]||0,10),n=new google.maps.Map(e,{zoom:y,center:new google.maps.LatLng(i,o),mapTypeId:google.maps.MapTypeId[v]}),b){var k={lat:i,lng:o,title:e[p]("title"),info:null};d=s(n,k.lat,k.lng,k.title||"",k.info,k)}f&&l(f,function(e){e&&(i=e.location.lat(),o=e.location.lng(),n.setCenter(e.location),d&&d.setPosition(e.location))}),g.children(".marker,.map-marker").each(function(){var e=this,t=e[p]("data-marker-position")?e[p]("data-marker-position").split(","):[0,0],a={address:e[p]("data-marker-address")?e[p]("data-marker-address"):null,lat:parseFloat(t[0]||0,10)||0,lng:parseFloat(t[1]||0,10)||0,title:e[p]("title"),info:e.innerHTML,clickable:!!e[p]("data-marker-clickable"),draggable:!!e[p]("data-marker-draggable"),visible:!!e[p]("data-marker-visible")};s(n,a.lat,a.lng,a.title||"",a.info,a)}),g.empty(),e[p]("data-map-markers")&&r(e[p]("data-map-markers")).each(function(){var e=this,t=e[p]("data-marker-position")?e[p]("data-marker-position").split(","):[0,0],a={address:e[p]("data-marker-address")?e[p]("data-marker-address"):null,lat:parseFloat(t[0]||0,10)||0,lng:parseFloat(t[1]||0,10)||0,title:e[p]("title"),info:e.innerHTML,clickable:!!e[p]("data-marker-clickable"),draggable:!!e[p]("data-marker-draggable"),visible:!!e[p]("data-marker-visible")};s(n,a.lat,a.lng,a.title||"",a.info,a)});var _,k,C=t.markers,j=C?C.length:0;for(_=0;j>_;_++)k=C[_],s(n,k.lat,k.lng,k.title||"",k.info,k);if(null!=t.kml){var x=new google.maps.KmlLayer(t.kml);x.setMap(n)}c=!(!e[p]("data-map-responsive")&&!t.responsive),c&&r(e.parentNode||document.body).on("resize",a)}else setTimeout(function(){m.init()},100)},m.map=function(){return n},m.center=function(e){if(!arguments.length)return[i,o];if(n){i=parseFloat(e[0],10),o=parseFloat(e[1],10);var t=new google.maps.LatLng(i,o);n.setCenter(t),d&&d.setPosition(t)}},m.add_marker=function(e){return n&&e?s(n,e.lat,e.lng,e.title||"",e.info||null,e):void 0},m.remove_marker=function(e){e&&e.setMap(null)},m.add_markers=function(e){if(n&&e){for(var t=0;t<e.length;t++){var a=e[t];e[t]=s(n,a.lat,a.lng,a.title||"",a.info,a)}return e}},void(m.remove_markers=function(e){if(e)for(var t=0;t<e.length;t++)e[t].setMap(null)})):new S(e,t)}),r.fn.htmlwidget=function(e,t){return t=t||{},this.each(function(){var a,n,i,o=this;if(i=o[u]("w-opts")&&"object"==typeof window[o[p]("w-opts")]?window[o[p]("w-opts")]:t,d.widget[c](e)&&"function"==typeof d.widget[e])return void d.widget[e](o,i);switch(a=r(o),e){case"delayable":case"disabable":case"morphable":case"selectable":case"removable":case"rearrangeable":case"sortable":case"uploadable":case"upload":e="upload"===e?"uploadable":"rearrangeable"===e?"sortable":e,"object"==typeof i["options_"+e]&&(i=i["options_"+e]),a[e](i);break;case"templateable":case"template":e="template","object"==typeof i["options_"+e]&&(i=i["options_"+e]),a.template(i);break;case"draggable":"function"==typeof r.fn.tinyDraggable&&("object"==typeof i["options_"+e]&&(i=i["options_"+e]),a.tinyDraggable(i));break;case"resisable":case"resizable":break;case"timer":"function"==typeof r.fn.Timer&&("object"==typeof i["options_"+e]&&(i=i["options_"+e]),a.Timer(i));break;case"date":case"datetime":case"datepicker":case"datetimepicker":e="datetimepicker","object"==typeof i["options_"+e]&&(i=i["options_"+e]),i.i18n||!d.locale.Pikadaytime&&!d.locale.Pikaday||(i.i18n=d.locale.Pikadaytime||d.locale.Pikaday),a.datetimepicker(i);break;case"color":case"colorselector":case"colorpicker":e="colorpicker","object"==typeof i["options_"+e]&&(i=i["options_"+e]),a.colorpicker(i);break;case"areaselectable":case"areaselect":e="areaselect","object"==typeof i["options_"+e]&&(i=i["options_"+e]),a.areaselect(i);break;case"map":case"gmap":case"gmap3":e="gmap","object"==typeof i["options_"+e]&&(i=i["options_"+e]),a.gmap3(i);break;case"autocomplete":case"autosuggest":case"suggest":e="autocomplete","object"==typeof i["options_"+e]&&(i=i["options_"+e]),a.suggest(i);break;case"rangeslider":case"range":"function"==typeof r.fn.rangeslider&&(e="rangeslider","object"==typeof i["options_"+e]&&(i=i["options_"+e]),a.rangeslider({polyfill:!1,orientation:o[p]("data-range-orientation")||i.orientation||"horizontal"}));break;case"menu":a.find("li").each(function(){var e=r(this);e.children("ul").length&&e.addClass("w-submenu-item")});break;case"dropdown":if(a.is("select")&&!a.parent().hasClass("w-dropdown")){a.hasClass("w-widget")&&a.removeClass("w-widget"),a.hasClass("w-select")&&a.removeClass("w-select");var l="w-widget w-dropdown "+(o.className||""),s=a.attr("style")||"";a.attr("class","w-dropdown-select").attr("style","").wrap('<span class="'+l+'" style="'+s+'"></span>')}break;case"select":case"select2":"function"==typeof r.fn.select2&&(e="select2","object"==typeof i["options_"+e]&&(i=i["options_"+e]),a.select2(i),o[u]("w-tooltip")?a.prev(".select2-container").attr("w-tooltip",o[p]("w-tooltip")):o[u]("data-tooltip")?a.prev(".select2-container").attr("data-tooltip",o[p]("data-tooltip")):o[u]("title")&&a.prev(".select2-container").attr("title",o[p]("title")));break;case"table":case"datatable":if("function"==typeof r.fn.dataTable){e="datatable","object"==typeof i["options_"+e]&&(i=i["options_"+e]),!i.language&&d.locale.DataTables&&(i.language=d.locale.DataTables),a.dataTable(i);var m=a.closest(".dataTables_wrapper");if(m.addClass("w-table-wrapper"),m.find(".dataTables_filter input").addClass("w-widget w-text"),m.find(".dataTables_length select").htmlwidget("dropdown"),o[u]("data-table-controls"))m.find(".w-table-controls").eq(0).append(r(o[p]("data-table-controls")));else if(i.controls)if(i.controls.concat){var g,f,h=m.find(".w-table-controls").eq(0);for(g=0,f=i.controls.length;f>g;g++)h.append(r(i.controls[g]))}else m.find(".w-table-controls").eq(0).append(r(i.controls))}break;case"modal":"function"==typeof r.fn.modal&&("object"==typeof i["options_"+e]&&(i=i["options_"+e]),a.modal(i));break;case"packery":"undefined"!=typeof Packery&&("object"==typeof i["options_"+e]&&(i=i["options_"+e]),new Packery(o,i));break;case"isotope":"undefined"!=typeof Isotope&&("object"==typeof i["options_"+e]&&(i=i["options_"+e]),new Isotope(o,i));break;case"masonry":"undefined"!=typeof Masonry&&("object"==typeof i["options_"+e]&&(i=i["options_"+e]),new Masonry(o,i));break;case"modelview":"undefined"!=typeof ModelView&&("object"==typeof i["options_"+e]&&(i=i["options_"+e]),a.modelview(i));break;case"tag-editor":"function"==typeof r.fn.tagEditor&&(e="tageditor","object"==typeof i["options_"+e]&&(i=i["options_"+e]),a.tagEditor(i));break;case"wysiwyg-editor":if("undefined"!=typeof tinymce){e="tinymce","object"==typeof i["options_"+e]&&(i=i["options_"+e]),n=null,d.locale.tinymce&&("object"!=typeof d.locale.tinymce||i.i18n?"string"==typeof d.locale.tinymce&&(n=d.locale.tinymce):i.i18n=d.locale.tinymce),i.i18n&&(n="custom_locale",tinymce.util.I18n.add("custom_locale",i.i18n));var b=parseInt(o[u]("data-tinymce-delayedinit")?o[p]("data-tinymce-delayedinit"):i.delayedInit||0,10),y=o[u]("data-tinymce-plugins")?o[p]("data-tinymce-plugins").split(","):i.plugins||["advlist autolink lists link image charmap preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen","insertdatetime media nonbreaking save table contextmenu directionality","paste textcolor colorpicker textpattern imagetools placeholderalt"],v=o[u]("data-tinymce-toolbar")?o[p]("data-tinymce-toolbar").split(","):i.toolbar||["undo redo | forecolor backcolor | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | link image code preview"],k=o[u]("data-tinymce-menubar")?o[p]("data-tinymce-menubar"):i.menubar||"file edit insert view format table tools";o[u]("data-tinymce-plugins-extra")?y=y.concat(o[p]("data-tinymce-plugins-extra").split(",")):i.plugins_extra&&(y=y.concat(i.plugins_extra)),o[u]("data-tinymce-toolbar-extra")?v=v.concat(o[p]("data-tinymce-toolbar-extra").split(",")):i.toolbar_extra&&(v=v.concat(i.toolbar_extra));var _=null;o[u]("data-tinymce-external-plugins")?_=w(o[p]("data-tinymce-external-plugins")):"object"==typeof i.external_plugins&&(_=i.external_plugins);var C={selector:"#"+o.id,theme:o[u]("data-tinymce-theme")?o[p]("data-tinymce-theme"):i.theme||"modern",skin:o[u]("data-tinymce-skin")?o[p]("data-tinymce-skin"):i.skin||"lightgray",directionality:o[u]("data-tinymce-dir")?o[p]("data-tinymce-dir"):i.directionality||"ltr",height:parseInt(o[u]("data-tinymce-height")?o[p]("data-tinymce-height"):i.height||500,10),plugins:y,toolbar:v,menubar:k,placeholder:o[u]("placeholder")?o[p]("placeholder"):i.placeholder||"",automatic_uploads:null!=i.automatic_uploads?i.automatic_uploads:!0,image_advtab:null!=i.image_advtab?i.image_advtab:!0,paste_data_images:null!=i.paste_data_images?i.paste_data_images:!0,browser_spellcheck:null!=i.browser_spellcheck?i.browser_spellcheck:!0,templates:null!=i.templates?i.templates:[],body_class:o[u]("data-tinymce-body-class")?o[p]("data-tinymce-body-class"):i.body_class||null,content_css:o[u]("data-tinymce-content-css")?o[p]("data-tinymce-content-css"):i.content_css||null,content_style:o[u]("data-tinymce-content-style")?o[p]("data-tinymce-content-style"):i.content_style||null};if(o[u]("data-tinymce-lang")?C.language=o[p]("data-tinymce-lang"):i.language?C.language=i.language:n&&(C.language=n),"object"==typeof i.options_extra)for(var j in i.options_extra)C[j]=i.options_extra[j];if("object"==typeof _)for(var x in _)_[c](x)&&tinymce.PluginManager.load(x,_[x]);var T=o[u]("data-tinymce-autosave")?o[p]("data-tinymce-autosave").toLowerCase():!!i.autosave;(!0===T||"1"===T||"on"===T||"yes"===T||"true"===T)&&(C.setup=function(e){e.on("change",function(){e.save(),d.dispatch("change",o)})});var M=tinymce.get(o.id);M&&M.remove(),b>0?setTimeout(function(){tinymce.init(C)},b):tinymce.init(C)}break;case"syntax-editor":"function"==typeof CodeMirror&&(e="codemirror","object"==typeof i["options_"+e]&&(i=i["options_"+e]),CodeMirror.fromTextArea(o,{mode:o[u]("data-cm-mode")?o[p]("data-cm-mode"):i.mode||"text/html",theme:o[u]("data-cm-theme")?o[p]("data-cm-theme"):i.theme||"default",lineWrapping:null!=i.lineWrapping?i.lineWrapping:!1,lineNumbers:null!=i.lineNumbers?i.lineNumbers:!0,indentUnit:parseInt(o[u]("data-cm-indent")?o[p]("data-cm-indent"):i.indentUnit||4,10),indentWithTabs:null!=i.indentWithTabs?i.indentWithTabs:!1,lint:null!=i.lint?i.lint:!1,foldGutter:null!=i.foldGutter?i.foldGutter:!0,gutters:null!=i.gutters?i.gutters:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"]}))}}),this},d.init=function(e,t,a){var n=r(e);!0===a&&(n.find("input[type=range].w-rangeslider").htmlwidget("range"),n.find(".w-upload").htmlwidget("upload"),n.find(".w-suggest").htmlwidget("suggest"),n.find(".w-timer").htmlwidget("timer"),n.find(".w-date").htmlwidget("datetimepicker"),n.find(".w-color,.w-colorselector").htmlwidget("colorpicker"),n.find(".w-map").htmlwidget("map"),n.find(".w-select2").htmlwidget("select2"),n.find(".w-datatable").htmlwidget("datatable"),n.find(".w-syntax-editor").htmlwidget("syntax-editor"),n.find(".w-wysiwyg-editor").htmlwidget("wysiwyg-editor")),!1!==t&&(n.is("input[type=range]")?n.htmlwidget("range"):n.hasClass("w-upload")?n.htmlwidget("upload"):n.hasClass("w-suggest")?n.htmlwidget("suggest"):n.hasClass("w-timer")?n.htmlwidget("timer"):n.hasClass("w-date")?n.htmlwidget("datetimepicker"):n.hasClass("w-color")||n.hasClass("w-colorselector")?n.htmlwidget("colorpicker"):n.hasClass("w-map")?n.htmlwidget("map"):n.hasClass("w-select2")?n.htmlwidget("select2"):n.hasClass("w-datatable")?n.htmlwidget("datatable"):n.hasClass("w-syntax-editor")?n.htmlwidget("syntax-editor"):n.hasClass("w-wysiwyg-editor")&&n.htmlwidget("wysiwyg-editor"))},d.initialisable=function(e,t){t=t||window;var a=r(e),n=(a.attr("w-init")||"").toLowerCase();("1"===n||"true"===n||"on"===n||"yes"===n)&&(n="__htmlwidget_init__"),n&&"function"==typeof t[n]&&(a.removeAttr("w-init"),t[n](e))},d.widgetize=function(e){var t=r(e);(t.hasClass("w-dropdown-menu")||t.hasClass("w-vertical-menu"))&&t.htmlwidget("menu"),t.hasClass("w-selectable")&&t.htmlwidget("selectable"),t.hasClass("w-removable")&&t.htmlwidget("removable"),t.hasClass("w-morphable")&&t.htmlwidget("morphable"),t.hasClass("w-delayable")&&t.htmlwidget("delayable"),t.hasClass("w-disabable")&&t.htmlwidget("disabable"),t.hasClass("w-draggable")&&t.htmlwidget("draggable"),(t.hasClass("w-resizable")||t.hasClass("w-resisable"))&&t.htmlwidget("resizable"),(t.hasClass("w-sortable")||t.hasClass("w-rearrangeable"))&&t.htmlwidget("sortable"),t.hasClass("w-templateable")&&t.htmlwidget("template"),t.hasClass("w-areaselectable")&&t.htmlwidget("areaselect")},d.tooltip=function(e){var t=r(e),a="",n=t.hasClass("tooltipstered");n?t.tooltipster("content",e[u]("w-tooltip")?e[p]("w-tooltip"):e[u]("data-tooltip")?'<i class="fa fa-info-circle"></i>&nbsp;&nbsp;'+e[p]("data-tooltip"):e[u]("title")?'<i class="fa fa-info-circle"></i>&nbsp;&nbsp;'+e[p]("title"):"").tooltipster("show"):(a=e[u]("w-tooltip")?e[p]("w-tooltip"):e[u]("data-tooltip")?e[p]("data-tooltip"):e[u]("title")?e[p]("title"):"",a.length?t.tooltipster({onlyOne:!0,autoClose:!0,contentAsHTML:!0,content:'<i class="fa fa-info-circle"></i>&nbsp;&nbsp;'+a,position:t.hasClass("tooltip-bottom")?"bottom":t.hasClass("tooltip-right")?"right":t.hasClass("tooltip-left")?"left":"top"}).tooltipster("show"):e[u]("title")&&e[m]("title"))},window.__htmlwidget_init__=function(e){d.init(e)},r(function(){"undefined"!=typeof SelectorListener&&SelectorListener.jquery(r),"undefined"!=typeof ModelView&&ModelView.jquery(r);var e=r(document.body),t=function(){d.initialisable(this)},a=function(){d.widgetize(this)},n=function(){d.tooltip(this)};e.find("[w-init]").each(t),e.find(".w-dropdown-menu,.w-vertical-menu,.w-templateable,.w-rearrangeable,.w-resizeable,.w-resiseable,.w-selectable,.w-removable,.w-morphable,.w-delayable,.w-disabable,.w-sortable,.w-draggable,.w-areaselectable").each(a),"function"==typeof r.fn.onSelector&&e.onSelector("[w-init]::added",t).onSelector(".w-dropdown-menu::added,.w-vertical-menu::added,.w-templateable::added,.w-rearrangeable::added,.w-resizeable::added,.w-resiseable::added,.w-selectable::added,.w-removable::added,.w-morphable::added,.w-delayable::added,.w-disabable::added,.w-sortable::added,.w-draggable::added,.w-areaselectable::added",a),"function"==typeof r.fn.tooltipster&&e.on("mouseover","[w-tooltip],[data-tooltip],[title]",n),e.on("change","input[type=file].w-file-input",function(){this.nextSibling.value=this.value}),e.on("click","input[type=file].w-file-input+input.w-file",function(){return r(this.previousSibling).trigger("click"),!1})}),r.htmlwidget=d});